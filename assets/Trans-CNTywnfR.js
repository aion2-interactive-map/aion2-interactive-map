import{s as e,t}from"./rolldown-runtime-Cb2Vi1zU.js";import{a as n}from"./vendor-react-Pim_c09P.js";import{i as r}from"./vendor-i18n-DsgQe5QS.js";import{C as i,D as a,E as o,O as s,T as c,k as l,w as u}from"./index-Bzr303g_.js";var d=e(t(((e,t)=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}))()),f=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function p(e){var t={type:`tag`,name:``,voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(d.default[n[1]]||e.charAt(e.length-2)===`/`)&&(t.voidElement=!0),t.name.startsWith(`!--`))){var r=e.indexOf(`-->`);return{type:`comment`,comment:r===-1?``:e.slice(4,r)}}for(var i=new RegExp(f),a=null;(a=i.exec(e))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,``];o.indexOf(`=`)>-1&&(s=o.split(`=`)),t.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var m=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,h=/^\s*$/,g=Object.create(null);function _(e,t){switch(t.type){case`text`:return e+t.content;case`tag`:return e+=`<`+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+`="`+e[n]+`"`);return t.length?` `+t.join(` `):``}(t.attrs):``)+(t.voidElement?`/>`:`>`),t.voidElement?e:e+t.children.reduce(_,``)+`</`+t.name+`>`;case`comment`:return e+`<!--`+t.comment+`-->`}}var v={parse:function(e,t){t||={},t.components||=g;var n,r=[],i=[],a=-1,o=!1;if(e.indexOf(`<`)!==0){var s=e.indexOf(`<`);r.push({type:`text`,content:s===-1?e:e.substring(0,s)})}return e.replace(m,function(s,c){if(o){if(s!==`</`+n.name+`>`)return;o=!1}var l,u=s.charAt(1)!==`/`,d=s.startsWith(`<!--`),f=c+s.length,m=e.charAt(f);if(d){var g=p(s);return a<0?(r.push(g),r):((l=i[a]).children.push(g),r)}if(u&&(a++,(n=p(s)).type===`tag`&&t.components[n.name]&&(n.type=`component`,o=!0),n.voidElement||o||!m||m===`<`||n.children.push({type:`text`,content:e.slice(f,e.indexOf(`<`,f))}),a===0&&r.push(n),(l=i[a-1])&&l.children.push(n),i[a]=n),(!u||n.voidElement)&&(a>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(a--,n=a===-1?r:i[a]),!o&&m!==`<`&&m)){l=a===-1?r:i[a].children;var _=e.indexOf(`<`,f),v=e.slice(f,_===-1?void 0:_);h.test(v)&&(v=` `),(_>-1&&a+l.length>=0||v!==` `)&&l.push({type:`text`,content:v})}}),r},stringify:function(e){return e.reduce(function(e,t){return e+_(``,t)},``)}},y=e(n()),b=(e,t)=>{if(!e)return!1;let n=e.props?.children??e.children;return t?n.length>0:!!n},x=e=>{if(!e)return[];let t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?C(t):t},S=e=>Array.isArray(e)&&e.every(y.isValidElement),C=e=>Array.isArray(e)?e:[e],w=(e,t)=>{let n={...t};return n.props=Object.assign(e.props,t.props),n};const T=(e,t,n,r)=>{if(!e)return``;let i=``,c=C(e),l=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return c.forEach((e,c)=>{if(a(e)){i+=`${e}`;return}if((0,y.isValidElement)(e)){let{props:o,type:s}=e,u=Object.keys(o).length,d=l.indexOf(s)>-1,f=o.children;if(!f&&d&&!u){i+=`<${s}/>`;return}if(!f&&(!d||u)||o.i18nIsDynamicList){i+=`<${c}></${c}>`;return}if(d&&u===1&&a(f)){i+=`<${s}>${f}</${s}>`;return}let p=T(f,t,n,r);i+=`<${c}>${p}</${c}>`;return}if(e===null){s(n,`TRANS_NULL_VALUE`,`Passed in a null value as child`,{i18nKey:r});return}if(o(e)){let{format:t,...a}=e,o=Object.keys(a);if(o.length===1){let e=t?`${o[0]}, ${t}`:o[0];i+=`{{${e}}}`;return}s(n,`TRANS_INVALID_OBJ`,`Invalid child - Object should only have keys {{ value, format }} (format is optional).`,{i18nKey:r,child:e});return}s(n,`TRANS_INVALID_VAR`,`Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.`,{i18nKey:r,child:e})}),i};var E=(e,t=[],n={})=>{if(!e)return e;let r=Object.keys(n),i=[...t,...r],a=``,o=0;for(;o<e.length;)if(e[o]===`<`){let t=!1,n=e.slice(o).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(n){let e=n[1];(/^\d+$/.test(e)||i.includes(e))&&(t=!0,a+=n[0],o+=n[0].length)}if(!t){let n=e.slice(o).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(n){let e=n[1];(/^\d+$/.test(e)||i.includes(e))&&(t=!0,a+=n[0],o+=n[0].length)}}t||(a+=`&lt;`,o+=1)}else a+=e[o],o+=1;return a},D=(e,t,n,r,i,s,c)=>{if(n===``)return[];let l=i.transKeepBasicHtmlNodesFor||[],u=n&&new RegExp(l.map(e=>`<${e}`).join(`|`)).test(n);if(!e&&!t&&!u&&!c)return[n];let d=t??{},f=e=>{C(e).forEach(e=>{a(e)||(b(e)?f(x(e)):o(e)&&!(0,y.isValidElement)(e)&&Object.assign(d,e))})};f(e);let p=E(n,l,d),m=v.parse(`<0>${p}</0>`),h={...d,...s},g=(e,t,n)=>{let r=x(e),i=T(r,t.children,n);return S(r)&&i.length===0||e.props?.i18nIsDynamicList?r:i},_=(e,t,n,r,i)=>{e.dummy?(e.children=t,n.push((0,y.cloneElement)(e,{key:r},i?void 0:t))):n.push(...y.Children.map([e],e=>{let n={...e.props};return delete n.i18nIsDynamicList,(0,y.createElement)(e.type,{...n,key:r,ref:e.props.ref??e.ref},i?null:t)}))},T=(e,n,s)=>{let d=C(e);return C(n).reduce((e,n,f)=>{let p=n.children?.[0]?.content&&r.services.interpolator.interpolate(n.children[0].content,h,r.language);if(n.type===`tag`){let c=d[parseInt(n.name,10)];!c&&t&&(c=t[n.name]),s.length===1&&!c&&(c=s[0][n.name]),c||={};let m=Object.keys(n.attrs).length===0?c:w({props:n.attrs},c),v=(0,y.isValidElement)(m),x=v&&b(n,!0)&&!n.voidElement,S=u&&o(m)&&m.dummy&&!v,C=o(t)&&Object.hasOwnProperty.call(t,n.name);if(a(m)){let t=r.services.interpolator.interpolate(m,h,r.language);e.push(t)}else if(b(m)||x)_(m,g(m,n,s),e,f);else if(S)_(m,T(d,n.children,s),e,f);else if(Number.isNaN(parseFloat(n.name)))if(C)_(m,g(m,n,s),e,f,n.voidElement);else if(i.transSupportBasicHtmlNodes&&l.indexOf(n.name)>-1)if(n.voidElement)e.push((0,y.createElement)(n.name,{key:`${n.name}-${f}`}));else{let t=T(d,n.children,s);e.push((0,y.createElement)(n.name,{key:`${n.name}-${f}`},t))}else if(n.voidElement)e.push(`<${n.name} />`);else{let t=T(d,n.children,s);e.push(`<${n.name}>${t}</${n.name}>`)}else if(o(m)&&!v){let t=n.children[0]?p:null;t&&e.push(t)}else _(m,p,e,f,n.children.length!==1||!p)}else if(n.type===`text`){let t=i.transWrapTextNodes,a=c?i.unescape(r.services.interpolator.interpolate(n.content,h,r.language)):r.services.interpolator.interpolate(n.content,h,r.language);t?e.push((0,y.createElement)(t,{key:`${n.name}-${f}`},a)):e.push(a)}return e},[])};return x(T([{dummy:!0,children:e||[]}],m,C(e||[]))[0])},O=(e,t,n)=>{let r=e.key||t,i=(0,y.cloneElement)(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function a(){return(0,y.createElement)(y.Fragment,null,i)}return(0,y.createElement)(a,{key:r})},k=(e,t)=>e.map((e,n)=>O(e,n,t)),A=(e,t)=>{let n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:O(e[r],r,t)})}),n},j=(e,t,n,r)=>e?Array.isArray(e)?k(e,t):o(e)?A(e,t):(l(n,`TRANS_INVALID_COMPONENTS`,`<Trans /> "components" prop expects an object or array`,{i18nKey:r}),null):null,M=e=>!o(e)||Array.isArray(e)?!1:Object.keys(e).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0);function N({children:e,count:t,parent:n,i18nKey:i,context:o,tOptions:s={},values:d,defaults:f,components:p,ns:m,i18n:h,t:g,shouldUnescape:_,...v}){let b=h||u();if(!b)return l(b,`NO_I18NEXT_INSTANCE`,`Trans: You need to pass in an i18next instance using i18nextReactModule`,{i18nKey:i}),e;let x=g||b.t.bind(b)||(e=>e),S={...c(),...b.options?.react},C=m||x.ns||b.options?.defaultNS;C=a(C)?[C]:C||[`translation`];let w=T(e,S,b,i),E=f||s?.defaultValue||w||S.transEmptyNodeValue||(typeof i==`function`?r(i):i),{hashTransKey:O}=S,k=i||(O?O(w||E):w||E);b.options?.interpolation?.defaultVariables&&(d=d&&Object.keys(d).length>0?{...d,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});let A=d||t!==void 0&&!b.options?.interpolation?.alwaysFormat||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:`#$?`,suffix:`?$#`}},N={...s,context:o||s.context,count:t,...d,...A,defaultValue:E,ns:C},P=k?x(k,N):E;P===k&&E&&(P=E);let F=j(p,P,b,i),I=F||e,L=null;M(F)&&(L=F,I=e);let R=D(I,L,P,b,S,N,_),z=n??S.defaultTransParent;return z?(0,y.createElement)(z,v,R):R}function P({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o={},values:s,defaults:c,components:l,ns:d,i18n:f,t:p,shouldUnescape:m,...h}){let{i18n:g,defaultNS:_}=(0,y.useContext)(i)||{},v=f||g||u(),b=p||v?.t.bind(v);return N({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o,values:s,defaults:c,components:l,ns:d||b?.ns||_||v?.options?.defaultNS,i18n:v,t:p,shouldUnescape:m,...h})}export{P as t};