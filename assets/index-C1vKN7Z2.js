import{o as e,t}from"./rolldown-runtime-GyhWBpbT.js";import{a as n,n as r,r as i,t as a}from"./vendor-react-DPCMXswl.js";import{$ as o,A as s,B as c,C as l,D as u,E as d,F as f,G as p,H as m,I as h,J as g,K as _,L as v,M as y,N as b,O as x,P as S,Q as C,R as w,S as T,T as ee,U as te,V as ne,W as re,X as ie,Y as ae,Z as oe,_ as E,a as se,at as ce,b as D,c as le,ct as ue,d as O,et as de,f as k,g as A,h as j,i as fe,it as M,j as pe,k as me,l as he,m as ge,n as _e,nt as N,o as ve,ot as ye,p as be,q as xe,r as P,rt as Se,s as Ce,tt as we,u as F,v as Te,w as Ee,x as De,y as I,z as Oe}from"./vendor-ui-DT8iSfzj.js";import{n as ke,r as Ae,t as je}from"./vendor-i18n-DZPLpf2v.js";import{a as Me,c as Ne,i as Pe,l as Fe,n as Ie,o as Le,r as Re,s as ze,t as Be,u as Ve}from"./vendor-map-0dB1jaMO.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var He=t((e=>{var t=n();function r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var i=typeof Object.is==`function`?Object.is:r,a=t.useState,o=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function l(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})},[e,n,t]),o(function(){return u(i)&&l({inst:i}),e(function(){u(i)&&l({inst:i})})},[e]),c(n),n}function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch{return!0}}function d(e,t){return t()}var f=typeof window>`u`||window.document===void 0||window.document.createElement===void 0?d:l;e.useSyncExternalStore=t.useSyncExternalStore===void 0?f:t.useSyncExternalStore})),Ue=t(((e,t)=>{t.exports=He()}));const We=(e,t,n,r)=>{let i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,`warn`,`react-i18next::`,!0);L(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)};var Ge={};const Ke=(e,t,n,r)=>{L(n)&&Ge[n]||(L(n)&&(Ge[n]=new Date),We(e,t,n,r))};var qe=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off(`initialized`,n)},0),t()};e.on(`initialized`,n)}};const Je=(e,t,n)=>{e.loadNamespaces(t,qe(e,n))},Ye=(e,t,n,r)=>{if(L(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Je(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,qe(e,r))},Xe=(e,t,n={})=>!t.languages||!t.languages.length?(Ke(t,`NO_LANGUAGES`,`i18n.languages were undefined or empty`,{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf(`languageChanging`)>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}),L=e=>typeof e==`string`,Ze=e=>typeof e==`object`&&!!e;var Qe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$e={"&amp;":`&`,"&#38;":`&`,"&lt;":`<`,"&#60;":`<`,"&gt;":`>`,"&#62;":`>`,"&apos;":`'`,"&#39;":`'`,"&quot;":`"`,"&#34;":`"`,"&nbsp;":` `,"&#160;":` `,"&copy;":`©`,"&#169;":`©`,"&reg;":`®`,"&#174;":`®`,"&hellip;":`…`,"&#8230;":`…`,"&#x2F;":`/`,"&#47;":`/`},et=e=>$e[e],tt={bindI18n:`languageChanged`,bindI18nStore:``,transEmptyNodeValue:``,transSupportBasicHtmlNodes:!0,transWrapTextNodes:``,transKeepBasicHtmlNodesFor:[`br`,`strong`,`i`,`p`],useSuspense:!0,unescape:e=>e.replace(Qe,et)};const nt=(e={})=>{tt={...tt,...e}},rt=()=>tt;var it;const at=e=>{it=e},ot=()=>it,st={type:`3rdParty`,init(e){nt(e.options.react),at(e)}};var R=e(n());const ct=(0,R.createContext)();var lt=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}},ut=e(Ue()),dt={t:(e,t)=>L(t)?t:Ze(t)&&L(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,ready:!1},ft=()=>()=>{};const z=(e,t={})=>{let{i18n:n}=t,{i18n:r,defaultNS:i}=(0,R.useContext)(ct)||{},a=n||r||ot();a&&!a.reportNamespaces&&(a.reportNamespaces=new lt),a||Ke(a,`NO_I18NEXT_INSTANCE`,`useTranslation: You will need to pass in an i18next instance by using initReactI18next`);let o=(0,R.useMemo)(()=>({...rt(),...a?.options?.react,...t}),[a,t]),{useSuspense:s,keyPrefix:c}=o,l=(0,R.useMemo)(()=>{let t=e||i||a?.options?.defaultNS;return L(t)?[t]:t||[`translation`]},[e,i,a]);a?.reportNamespaces?.addUsedNamespaces?.(l);let u=(0,R.useRef)(0),d=(0,R.useCallback)(e=>{if(!a)return ft;let{bindI18n:t,bindI18nStore:n}=o,r=()=>{u.current+=1,e()};return t&&a.on(t,r),n&&a.store.on(n,r),()=>{t&&t.split(` `).forEach(e=>a.off(e,r)),n&&n.split(` `).forEach(e=>a.store.off(e,r))}},[a,o]),f=(0,R.useRef)(),p=(0,R.useCallback)(()=>{if(!a)return dt;let e=!!(a.isInitialized||a.initializedStoreOnce)&&l.every(e=>Xe(e,a,o)),n=t.lng||a.language,r=u.current,i=f.current;if(i&&i.ready===e&&i.lng===n&&i.keyPrefix===c&&i.revision===r)return i;let s={t:a.getFixedT(n,o.nsMode===`fallback`?l:l[0],c),ready:e,lng:n,keyPrefix:c,revision:r};return f.current=s,s},[a,l,c,o,t.lng]),[m,h]=(0,R.useState)(0),{t:g,ready:_}=(0,ut.useSyncExternalStore)(d,p,p);(0,R.useEffect)(()=>{if(a&&!_&&!s){let e=()=>h(e=>e+1);t.lng?Ye(a,t.lng,l,e):Je(a,l,e)}},[a,t.lng,l,_,s,m]);let v=a||{},y=(0,R.useRef)(null),b=(0,R.useRef)(),x=e=>{let t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;let n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,`__original`))try{Object.defineProperty(n,`__original`,{value:e,writable:!1,enumerable:!1,configurable:!1})}catch{}return n},S=(0,R.useMemo)(()=>{let e=v,t=e?.language,n=e;e&&(y.current&&y.current.__original===e&&b.current===t?n=y.current:(n=x(e),y.current=n,b.current=t));let r=[g,n,_];return r.t=g,r.i18n=n,r.ready=_,r},[g,v,_,v.resolvedLanguage,v.language,v.languages]);if(a&&s&&!_)throw new Promise(e=>{let n=()=>e();t.lng?Ye(a,t.lng,l,n):Je(a,l,n)});return S};var pt=e(i(),1),B=e(r(),1),mt=`theme`,ht=(0,R.createContext)(void 0);function gt(){return typeof window>`u`?`light`:window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`}function _t(){if(typeof window>`u`)return`light`;let e=localStorage.getItem(mt);return e===`light`||e===`dark`?e:gt()}function vt(e){if(typeof document>`u`)return;let t=document.documentElement;e===`dark`?t.classList.add(`dark`):t.classList.remove(`dark`)}function yt({children:e}){let[t,n]=(0,R.useState)(()=>_t());(0,R.useEffect)(()=>{vt(t)},[t]);let r=(0,R.useCallback)(()=>{n(e=>{let t=e===`dark`?`light`:`dark`;return localStorage.setItem(mt,t),vt(t),t})},[]);return(0,B.jsx)(ht.Provider,{value:{theme:t,toggleTheme:r},children:e})}function bt(){let e=(0,R.useContext)(ht);if(!e)throw Error(`useTheme must be used within a <ThemeProvider>`);return e}function xt(e){return e===`dynamic`?`dynamic`:`static`}var St=xt(void 0),Ct=(0,R.createContext)(void 0);function wt(){return`/aion2-interactive-map/`.replace(/\/+$/,``)}function Tt(e){return e===`static`?wt():`/api/v1/export`}function Et(e=St){let t=Tt(e),n=wt();return(e,r)=>{let i=e[0],a=r[0];return a===`common`?`${n}/locales/${i}/${a}.yaml?build=85764cff65d0977257bf991fe635524b183c73b9`:a===`regions`?``:`${t}/locales/${i}/${a}.yaml?build=85764cff65d0977257bf991fe635524b183c73b9`}}function Dt(e){console.log(`updateI18nForMode:`,e);let t=jt.services.backendConnector?.backend??null;t&&(t.options=t.options||{},t.options.loadPath=Et(e)),jt.reloadResources().catch(e=>console.error(`[useDataMode] reloadResources error:`,e))}function Ot({children:e}){let[t,n]=(0,R.useState)(St),r=(0,R.useCallback)(e=>{n(e)},[]),i=(0,R.useCallback)(()=>{n(e=>{let t=e===`static`?`dynamic`:`static`;return console.log(`toggleDataMode`,e,`->`,t),t})},[]),a=(0,R.useCallback)(()=>Tt(t),[t]),o=(0,R.useCallback)(()=>{Dt(t)},[t]);(0,R.useEffect)(()=>{Dt(t)},[t]);let s=(0,R.useMemo)(()=>({dataMode:t,setDataMode:r,toggleDataMode:i,getBaseUrl:a,reloadI18n:o}),[t,r,i,a,o]);return(0,B.jsx)(Ct.Provider,{value:s,children:e})}function kt(){let e=(0,R.useContext)(Ct);if(!e)throw Error(`useDataMode must be used within a DataModeProvider`);return e}const At=[`en`,`zh-CN`,`zh-TW`];Ae.use(ke).use(je).use(st).init({fallbackLng:`zh-CN`,supportedLngs:At,ns:[`common`,`maps`,`types`,`regions`],defaultNS:`common`,detection:{order:[`querystring`,`localStorage`,`navigator`,`htmlTag`],caches:[`localStorage`]},backend:{loadPath:Et(),parse:e=>d(e)},interpolation:{escapeValue:!1}});var jt=Ae,Mt=()=>{let{t:e,i18n:t}=z(`common`);return(0,B.jsxs)(ie,{children:[(0,B.jsx)(oe,{children:(0,B.jsx)(N,{isIconOnly:!0,variant:`light`,children:(0,B.jsx)(w,{icon:b,className:`text-lg`})})}),(0,B.jsx)(C,{"aria-label":`Language Selection`,children:At.map(n=>(0,B.jsx)(o,{onPress:()=>t.changeLanguage(n),children:e(`language.${n}`)},n))})]})};function Nt(e){return typeof window>`u`?null:new URLSearchParams(window.location.search).get(e)}function Pt(e,t){if(typeof window>`u`)return;let n=new URL(window.location.href),r=n.searchParams;t===null?r.delete(e):r.set(e,t),window.history.replaceState({},``,`${n.pathname}?${r.toString()}`)}var Ft=`/aion2-interactive-map/`;function V(e){return Ft+e.replace(/^\//,``)}function It(e,t){return e||=`UI/Resource/Texture/Icon/UT_Marker_Exploration_Hideen.webp`,e.includes(`Light`)&&t.type===`dark`&&(e=e.replace(`Light`,`Dark`)),V(e)}var Lt=()=>{let{t:e}=z(),{theme:t,toggleTheme:n}=bt(),r=t===`dark`,{dataMode:i,toggleDataMode:a}=kt(),o=i===`static`;return(0,B.jsxs)(re,{maxWidth:`full`,className:`border-b border-default-200 h-[60px] bg-topnavbar`,classNames:{wrapper:`px-5`},children:[(0,B.jsxs)(te,{className:`flex items-center gap-4 select-none cursor-default`,children:[(0,B.jsx)(`img`,{src:V(r?`images/GroupLogoDark.webp`:`images/GroupLogoLight.webp`),alt:`AION2 Logo`,className:`w-[100px] h-[38px] object-contain`}),(0,B.jsx)(`span`,{className:`text-[14px] leading-[14px] font-normal tracking-wide`,children:e(`announcement`,`Welcome to AION2 Interactive Map!`)})]}),(0,B.jsxs)(m,{justify:`end`,className:`flex items-center gap-1`,children:[!1,(0,B.jsx)(Mt,{}),(0,B.jsx)(N,{isIconOnly:!0,variant:`light`,onPress:n,children:(0,B.jsx)(w,{icon:r?f:S,className:`text-lg`})}),(0,B.jsx)(N,{isIconOnly:!0,variant:`light`,onPress:a,children:(0,B.jsx)(w,{icon:o?pe:s,className:`text-lg`})})]})]})},Rt=e(a(),1),zt=e(Ve(),1);function Bt(e){return Object.prototype.toString.call(e)===`[object Object]`}function Vt(e){return Bt(e)||Array.isArray(e)}function Ht(){return!!(typeof window<`u`&&window.document&&window.document.createElement)}function Ut(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||JSON.stringify(Object.keys(e.breakpoints||{}))!==JSON.stringify(Object.keys(t.breakpoints||{}))?!1:n.every(n=>{let r=e[n],i=t[n];return typeof r==`function`?`${r}`==`${i}`:!Vt(r)||!Vt(i)?r===i:Ut(r,i)})}function Wt(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function Gt(e,t){if(e.length!==t.length)return!1;let n=Wt(e),r=Wt(t);return n.every((e,t)=>{let n=r[t];return Ut(e,n)})}function H(e={},t=[]){let n=(0,R.useRef)(e),r=(0,R.useRef)(t),[i,a]=(0,R.useState)(),[o,s]=(0,R.useState)(),c=(0,R.useCallback)(()=>{i&&i.reInit(n.current,r.current)},[i]);return(0,R.useEffect)(()=>{Ut(n.current,e)||(n.current=e,c())},[e,c]),(0,R.useEffect)(()=>{Gt(r.current,t)||(r.current=t,c())},[t,c]),(0,R.useEffect)(()=>{if(Ht()&&o){ee.globalOptions=H.globalOptions;let e=ee(o,n.current,r.current);return a(e),()=>e.destroy()}else a(void 0)},[o,a]),[s,i]}H.globalOptions=void 0;var Kt=({images:e,selectedIndex:t,onSelect:n,options:r,className:i=``})=>{let[a,o]=H({dragFree:!0,containScroll:`trimSnaps`,slidesToScroll:`auto`,...r});return(0,R.useEffect)(()=>{o&&o.scrollTo(t,!0)},[o,t]),(0,B.jsx)(`section`,{className:[`embla-thumbs`,i].join(` `),children:(0,B.jsx)(`div`,{className:`embla-thumbs__viewport`,ref:a,children:(0,B.jsx)(`div`,{className:`embla-thumbs__container`,children:e.map((e,r)=>(0,B.jsx)(`button`,{type:`button`,className:[`embla-thumbs__slide`,r===t?`embla-thumbs__slide--selected`:``].filter(Boolean).join(` `),onClick:()=>n(r),children:(0,B.jsx)(`img`,{src:e,alt:``,loading:`lazy`,className:`embla-thumbs__img`})},r))})})})};const qt=({selected:e=!1,className:t=``,...n})=>(0,B.jsx)(`button`,{type:`button`,className:[`embla__dot`,e?`embla__dot--selected`:``,t].filter(Boolean).join(` `),...n}),Jt=e=>{let[t,n]=(0,R.useState)(!0),[r,i]=(0,R.useState)(!0),a=(0,R.useCallback)(()=>{e&&e.scrollPrev()},[e]),o=(0,R.useCallback)(()=>{e&&e.scrollNext()},[e]),s=(0,R.useCallback)(e=>{n(!e.canScrollPrev()),i(!e.canScrollNext())},[]);return(0,R.useEffect)(()=>{if(e)return s(e),e.on(`reInit`,s).on(`select`,s),()=>{e.off(`reInit`,s).off(`select`,s)}},[e,s]),{prevBtnDisabled:t,nextBtnDisabled:r,onPrevButtonClick:a,onNextButtonClick:o}},Yt=e=>{let{children:t,...n}=e;return(0,B.jsxs)(`button`,{className:`embla__button embla__button--prev`,type:`button`,...n,children:[(0,B.jsx)(`svg`,{className:`embla__button__svg`,viewBox:`0 0 532 532`,children:(0,B.jsx)(`path`,{fill:`currentColor`,d:`M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z`})}),t]})},Xt=e=>{let{children:t,...n}=e;return(0,B.jsxs)(`button`,{className:`embla__button embla__button--next`,type:`button`,...n,children:[(0,B.jsx)(`svg`,{className:`embla__button__svg`,viewBox:`0 0 532 532`,children:(0,B.jsx)(`path`,{fill:`currentColor`,d:`M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z`})}),t]})};var Zt=({images:e,selectedIndex:t,onSelect:n,options:r,className:i=``})=>{let[a,o]=H({loop:!0,...r}),[s,c]=(0,R.useState)([]),l=e.length>1,{prevBtnDisabled:u,nextBtnDisabled:d,onPrevButtonClick:f,onNextButtonClick:p}=Jt(o);(0,R.useEffect)(()=>{if(!o)return;let e=e=>{n(e.selectedScrollSnap())},t=t=>{c(t.scrollSnapList()),e(t)};return c(o.scrollSnapList()),e(o),o.on(`select`,e),o.on(`reInit`,t),()=>{o.off(`select`,e),o.off(`reInit`,t)}},[o,n]),(0,R.useEffect)(()=>{o&&o.scrollTo(t,!1)},[o,t]);let m=(0,R.useCallback)(e=>{o&&o.scrollTo(e)},[o]);return(0,B.jsxs)(`div`,{className:`embla-frame-wrapper`,children:[l&&(0,B.jsx)(Yt,{className:`embla-nav-button__prev`,onClick:f,disabled:u}),(0,B.jsxs)(`section`,{className:[`embla embla--gallery`,i].join(` `),children:[(0,B.jsx)(`div`,{className:`embla__viewport`,ref:a,children:(0,B.jsx)(`div`,{className:`embla__container`,children:e.map((e,t)=>(0,B.jsx)(`div`,{className:`embla__slide`,children:(0,B.jsx)(`div`,{className:`embla__slide__inner`,children:(0,B.jsx)(`img`,{src:e,alt:``,className:`embla__slide__img`})})},t))})}),l&&(0,B.jsx)(`div`,{className:`embla__dots`,children:s.map((e,n)=>(0,B.jsx)(qt,{onClick:()=>m(n),selected:n===t},n))})]}),l&&(0,B.jsx)(Xt,{className:`embla-nav-button__next`,onClick:p,disabled:d})]})},Qt=({name:e,categoryLabel:t,subtypeLabel:n,regionLabel:r,x:i,y:a,images:o,description:s,canComplete:c,completed:l,onToggleCompleted:u})=>{let{t:d}=z(),[f,m]=(0,R.useState)(!1),[h,_]=(0,R.useState)(0),v=o&&o.length>0,y=o?.map(e=>V(e+`.small.webp`)),b=o?.map(e=>V(e+`.normal.webp`));return(0,B.jsxs)(we,{className:`
      w-[360px]
      p-5 text-xs leading-snug
      text-foreground
      bg-sidebar
      space-y-5
    `,radius:`sm`,children:[(0,B.jsx)(`div`,{className:`text-[18px] leading-[18px] font-bold`,children:e}),(0,B.jsxs)(`div`,{className:`text-[14px] leading-[14px]`,children:[t,` / `,n,` `,(0,B.jsxs)(`span`,{className:`opacity-80`,children:[`(`,i.toFixed(0),`, `,a.toFixed(0),`)`]}),r?` / ${r}`:null]}),(0,B.jsx)(ye,{}),s&&(0,B.jsx)(`div`,{className:`text-[14px] leading-[14px]`,children:s}),v&&(0,B.jsx)(`div`,{className:`w-full h-28 rounded-md `,children:(0,B.jsx)(Kt,{images:y,selectedIndex:h,onSelect:e=>{_(e),m(!0)}})}),(0,B.jsx)(ye,{}),c&&(0,B.jsx)(`div`,{className:`flex`,children:(0,B.jsx)(N,{size:`sm`,variant:`flat`,color:l?`success`:`primary`,onPress:u,children:l?d(`common:markerActions:markNotCompleted`,`Completed`):d(`common:markerActions:markCompleted`,`Mark as completed`)})}),(0,B.jsx)(p,{isOpen:f,onOpenChange:e=>m(e),size:`5xl`,backdrop:`blur`,placement:`center`,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:`z-[20000]`,base:`bg-transparent shadow-none`},children:(0,B.jsx)(g,{children:()=>(0,B.jsx)(ae,{className:`p-0 flex items-center justify-center`,children:(0,B.jsxs)(`div`,{className:`relative w-[90vw] max-w-5xl h-[80vh] bg-black/60 dark:bg-black/70 rounded-xl overflow-hidden backdrop-blur-md p-4`,children:[(0,B.jsx)(`button`,{type:`button`,onClick:()=>m(!1),className:`
                    absolute top-3 right-3 z-20
                    inline-flex h-8 w-8 items-center justify-center
                    rounded-full
                    bg-black/60 text-white
                    hover:bg-black/80
                    dark:bg-white/80 dark:text-black dark:hover:bg-white
                    shadow-md
                  `,"aria-label":`Close gallery`,children:`✕`}),(0,B.jsx)(Zt,{images:b,selectedIndex:h,onSelect:_})]})})})})]})};function $t(e,t){return It(e?.icon||``,t)}function en(e,t,n){let r=40*t,i=(0,Rt.renderToString)((0,B.jsxs)(`div`,{style:{position:`relative`,width:`40px`,height:`40px`,display:`flex`,alignItems:`center`,justifyContent:`center`,opacity:n?.4:1},children:[(0,B.jsx)(`img`,{src:e,alt:``,style:{width:`${r}px`,height:`${r}px`,objectFit:`contain`,pointerEvents:`none`,zIndex:1e3}}),n&&(0,B.jsx)(w,{icon:u,style:{position:`absolute`,fontSize:`12px`,right:`-2px`,bottom:`-2px`,color:`#22c55e`}})]}));return zt.default.divIcon({html:i,className:``,iconSize:[40,40],iconAnchor:[40/2,40/2],popupAnchor:[0,-10]})}var tn=(0,R.memo)(({map:e,marker:t,types:n,subtypes:r,showLabel:i,completedSet:a,toggleMarkerCompleted:o})=>{let s=`markers/${e.name}`,c=`regions/${e.name}`,{t:l}=z([s,c]),u=`${s}:${t.id}`,d=`${c}:${t.region}`,f=r.get(t.subtype),p=l(`types:categories.${n.find(e=>e.name===f?.category)?.name}.name`),m=l(`types:subtypes.${f?.name}.name`),h=t.region?l(`${d}.name`):``;console.log(t.region);let g=f?.iconScale||1,_=!!f?.canComplete,v=!!f?.hideTooltip,y=t.id,b=a.has(y),x=en($t(f,e),g,b),S=l(`${u}.name`,``);S||=m;let C=l(`${u}.description`,`No description available yet.`);return(0,B.jsxs)(Me,{position:new zt.default.LatLng(t.y,t.x),icon:x,children:[i&&!v&&(0,B.jsx)(Be,{permanent:!0,direction:`top`,offset:[0,-15],className:`game-marker-tooltip`,children:S}),(0,B.jsx)(Ie,{maxWidth:360,minWidth:360,autoPan:!0,closeButton:!1,children:(0,B.jsx)(Qt,{name:S,categoryLabel:p,subtypeLabel:m,regionLabel:h,x:t.x,y:t.y,images:t.images,description:C,canComplete:_,completed:b,onToggleCompleted:()=>o(t)})})]})}),nn=e(Ve(),1),rn=class extends nn.default.TileLayer{constructor(e){e.tileSize=e.selectedMap.tileWidth,super(``,e),this.gameOptions=e}getTileUrl(e){let{selectedMap:t,isWatermark:n}=this.gameOptions,r=e.x,i=t.tilesCountY+e.y;if(r<0||i<0||r>=t.tilesCountX||i>=t.tilesCountY)return``;if(n)return V(`images/watermark.webp`);let a=String(r).padStart(2,`0`),o=String(i).padStart(2,`0`);return V(`UI/Map/WorldMap/${t.name}/Res/${t.name}_${a}_${o}.webp`)}},an=({selectedMap:e})=>{let t=Ne();return(0,R.useEffect)(()=>{console.log(`[GameMapTiles] useEffect mount`,{selectedMap:e,map:t});let n=new rn({selectedMap:e,noWrap:!0,minZoom:t.getMinZoom(),maxZoom:t.getMaxZoom(),maxNativeZoom:0,minNativeZoom:0});n.addTo(t);let r=new rn({selectedMap:e,isWatermark:!0,noWrap:!0,minZoom:t.getMinZoom(),maxZoom:t.getMaxZoom(),maxNativeZoom:0,minNativeZoom:0,opacity:.3});return r.addTo(t),()=>{console.log(`[GameMapTiles] useEffect cleanup`),t.removeLayer(n),t.removeLayer(r)}},[t,e]),null};async function on(e){let t=await fetch(e);if(!t.ok)throw Error(`Failed to load ${e}: ${t.status} ${t.statusText}`);return d(await t.text())}function sn(){let{getBaseUrl:e}=kt();return(0,R.useCallback)(t=>on(`${e().replace(/\/+$/,``)}/${t.replace(/^\/+/,``)}?build=85764cff65d0977257bf991fe635524b183c73b9`),[e])}var cn=(0,R.createContext)(null);const ln=({children:e})=>{let[t,n]=(0,R.useState)([]),[r,i]=(0,R.useState)([]),[a,o]=(0,R.useState)(!0),[s,c]=(0,R.useState)(void 0),l=sn();return(0,R.useEffect)(()=>{let e=!1;console.log(`GameDataProvider: loading game data`);async function t(){try{let[t,r]=await Promise.all([l(`data/maps.yaml`),l(`data/types.yaml`)]);if(e)return;n(t.maps.filter(e=>e.isVisible)),i(r.categories)}catch(e){console.error(e)}finally{e||o(!1)}}return t(),()=>{e=!0}},[l]),(0,R.useEffect)(()=>{if(!t||t.length===0)return;if(s){Pt(`map`,s.name);return}let e=Nt(`map`);if(e){c(t.find(t=>t.name===e));return}t.length>0&&!s&&(c(t[0]),Pt(`map`,t[0].name))},[t,s]),(0,B.jsx)(cn.Provider,{value:{maps:t,types:r,loading:a,selectedMap:s,setSelectedMap:c},children:e})};function U(){let e=(0,R.useContext)(cn);if(!e)throw Error(`useGameMap must be used inside <GameMapProvider>`);return e}var un=(0,R.createContext)(null),dn=`aion2.completedMarkers.v1.`;const fn=({children:e})=>{let[t,n]=(0,R.useState)([]),[r,i]=(0,R.useState)([]),[a,o]=(0,R.useState)(!1),[s,c]=(0,R.useState)(!0),l=sn(),{selectedMap:u}=U(),[d,f]=(0,R.useState)(()=>new Set),p=(0,R.useCallback)(e=>`${e.id}`,[]);(0,R.useEffect)(()=>{if(!u){n([]),i([]);return}let e=!1;async function t(){o(!0);try{let t=await l(`data/markers/${u?.name}.yaml`);if(e)return;let r=await l(`data/regions/${u?.name}.yaml`);n(t.markers),i(r.regions)}catch(t){console.error(t),e||(n([]),i([]))}finally{e||o(!1)}}return t(),()=>{e=!0}},[u,l]);let m=(0,R.useMemo)(()=>{let e=new Map;for(let n of t){let t=n.subtype;e.set(t,(e.get(t)??0)+1)}return e},[t]);(0,R.useEffect)(()=>{if(!u){f(new Set);return}let e=`${dn}${u.name}`,t=localStorage.getItem(e);if(!t){f(new Set);return}try{let e=JSON.parse(t);f(new Set(e))}catch{f(new Set)}},[u]);let h=(e,t)=>{let n=`${dn}${e.name}`,r=Array.from(t);localStorage.setItem(n,JSON.stringify(r))},g=(0,R.useCallback)(e=>{let t=p(e);f(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),u&&h(u,n),n})},[u,p]),_=(0,R.useCallback)(()=>{u&&(f(new Set),h(u,new Set))},[u]),v=(0,R.useMemo)(()=>{let e=new Map;for(let n of t){let t=n.subtype,r=p(n);d.has(r)&&e.set(t,(e.get(t)??0)+1)}return e},[t,d,p]);return(0,B.jsx)(un.Provider,{value:{markers:t,regions:r,loading:a,showLabels:s,setShowLabels:c,subtypeCounts:m,completedSet:d,completedCounts:v,toggleMarkerCompleted:g,clearMarkerCompleted:_},children:e})};function W(){let e=(0,R.useContext)(un);if(!e)throw Error(`useMarkers must be used inside <MarkersProvider>`);return e}var pn=[`#ff3c3c`,`#3cd23c`,`#3c78ff`,`#ffd200`];function mn(e){let t=0;for(let n=0;n<e.length;n++)t=t*31+e.charCodeAt(n)|0;return Math.abs(t)%pn.length}var hn=([e,t])=>[t,e],gn=()=>{let{regions:e}=W(),[t,n]=(0,R.useState)(void 0);function r(e,t){let n=`${e}`,r=`${t}`;return n<r?`${n}|${r}`:`${r}|${n}`}let i=(0,R.useMemo)(()=>{let t=new Map;return e.forEach(e=>{e.borders.forEach(n=>{for(let i=0;i<n.length-1;i++){let a=n[i],o=n[i+1],s=r(a,o),c=[hn(a),hn(o)];t.has(s)?t.get(s).regions.push(e.name):t.set(s,{positions:c,regions:[e.name]})}})}),[...t.entries()].map(([e,t])=>({key:e,positions:t.positions,regions:t.regions,color:pn[mn(t.regions[0])]}))},[e]);return(0,B.jsxs)(ze,{children:[e.map(e=>e.borders.map((t,r)=>(0,B.jsx)(Pe,{positions:t.map(hn),pathOptions:{color:`transparent`,fillOpacity:0},eventHandlers:{mouseover:()=>n(e),mouseout:()=>n(void 0)}},`${e.name}-hit-${r}`))),i.map(e=>(0,B.jsx)(Re,{positions:e.positions,pathOptions:t&&e.regions.includes(t.name)?{color:`#ffffff`,weight:3,opacity:1,dashArray:`1 0`}:{color:`#ffffff`,weight:3,opacity:.5,dashArray:`8 5`},interactive:!1},e.key))]})},_n=e(Ve(),1),vn=({onUpdate:e})=>(Fe({mousemove(t){let{lat:n,lng:r}=t.latlng;e(r,n)}}),null),yn=({onOpenMenu:e,onCloseMenu:t})=>{let n=Fe({contextmenu(t){t.originalEvent.preventDefault();let r=t.latlng.lng,i=t.latlng.lat,a=n.latLngToContainerPoint(t.latlng);e({x:a.x,y:a.y,mapX:r,mapY:i})},click(){t()},movestart(){t()},zoomstart(){t()}});return null},bn=({selectedMap:e,markers:t,mapRef:n,visibleSubtypes:r,types:i,subtypes:a,showLabels:o,completedSet:s,toggleMarkerCompleted:c})=>{let[l,u]=(0,R.useState)(null),[d,f]=(0,R.useState)(null),p=(0,R.useCallback)((e,t)=>{let n=`${Math.round(e)}, ${Math.round(t)}`;typeof navigator<`u`&&navigator.clipboard?.writeText?navigator.clipboard.writeText(n).catch(e=>console.error(`Clipboard error`,e)):console.log(`Copied position:`,n)},[]);if(!e)return(0,B.jsx)(`div`,{className:`flex-1 flex items-center justify-center text-sm text-default-500`,children:`No map selected.`});let m=e.tileWidth*e.tilesCountX,h=e.tileHeight*e.tilesCountY,g=[[0,0],[h,m]];return(0,B.jsxs)(`div`,{className:`flex-1 relative`,onClick:()=>f(null),children:[(0,B.jsxs)(Le,{center:[h/2,m/2],bounds:g,zoom:0,minZoom:-3,maxZoom:2,zoomSnap:.25,zoomDelta:.25,crs:_n.default.CRS.Simple,className:`w-full h-full`,attributionControl:!1,ref:n,children:[(0,B.jsx)(vn,{onUpdate:(e,t)=>{u({x:e,y:t})}}),(0,B.jsx)(yn,{onOpenMenu:e=>f(e),onCloseMenu:()=>f(null)}),(0,B.jsx)(an,{selectedMap:e}),(0,B.jsx)(gn,{}),t.filter(e=>r.has(e.subtype)).map(t=>(0,B.jsx)(tn,{map:e,marker:t,types:i,subtypes:a,showLabel:o,completedSet:s,toggleMarkerCompleted:c},t.id))]},e.id),l&&(0,B.jsxs)(`div`,{className:`absolute bottom-3 left-3 z-[1000] rounded bg-black/80 text-white text-sm px-3 py-1.5 pointer-events-none shadow-lg backdrop-blur-sm`,children:[`x: `,l.x.toFixed(0),`, y: `,l.y.toFixed(0)]}),d&&(0,B.jsx)(`div`,{className:`absolute z-[5000]`,style:{left:d.x,top:d.y},onClick:e=>e.stopPropagation(),children:(0,B.jsx)(`div`,{className:`min-w-[190px] rounded-md border border-default-200 bg-content1 shadow-lg text-sm py-1`,children:(0,B.jsxs)(`button`,{type:`button`,className:`w-full px-3 py-1.5 text-left hover:bg-default-100`,onClick:e=>{e.stopPropagation(),p(d.mapX,d.mapY),f(null)},children:[`Copy position (`,Math.round(d.mapX),`,`,` `,Math.round(d.mapY),`)`]})})})]})},xn=({side:e=`left`,width:t=370,collapsedWidth:n=0,children:r})=>{let{t:i}=z(`common`),[a,o]=(0,R.useState)(!1),{theme:s}=bt(),c=V(s===`dark`?`images/Sidebar_Dark.webp`:`images/Sidebar_Light.webp`),l=e===`left`;return(0,B.jsxs)(`aside`,{className:`
        relative h-full flex flex-col bg-sidebar transition-all duration-300 
        // ${l?`order-0`:`order-2`}
      `,style:{width:a?n:t,maxWidth:t},children:[(0,B.jsx)(`div`,{className:`absolute inset-0 pointer-events-none opacity-70 bg-no-repeat bg-top-left`,style:{backgroundImage:`url(${c})`,backgroundSize:`370px auto`}}),(0,B.jsx)(`div`,{className:`flex-1 overflow-y-auto`,children:r}),(0,B.jsxs)(`button`,{onClick:()=>o(e=>!e),className:`
          absolute top-[100px] flex flex-col items-center justify-center z-[20000] 
          w-8 h-12 bg-sidebar-collapse text-default-700 select-none
          ${l?`right-0 translate-x-full rounded-r-md rounded-l-none`:`left-0 -translate-x-full rounded-l-md rounded-r-none`}
        `,children:[(0,B.jsx)(w,{icon:l?a?me:x:a?x:me,className:`text-sm`}),(0,B.jsx)(`span`,{className:`text-[10px] leading-tight mt-0.5 whitespace-normal text-center px-0.5`,children:a?i(`menu.expand`,`Expand`):i(`menu.collapse`,`Collapse`)})]})]})},Sn=()=>{let{t:e}=z();return(0,B.jsxs)(`div`,{className:`w-full flex flex-col items-center select-none`,children:[(0,B.jsx)(`img`,{src:V(`images/Logo.webp`),alt:`AION2 Logo`,className:`w-[100px] h-[100px] object-contain`}),(0,B.jsx)(`div`,{className:`mt-5 text-[22px] leading-[22px] font-bold text-primary text-center`,children:e(`common:siteTitle`,`AION2 Interactive Map`)})]})},Cn=()=>{let{maps:e,selectedMap:t,setSelectedMap:n}=U(),{t:r}=z();return(0,B.jsx)(`div`,{className:`w-full flex justify-center mt-5`,children:(0,B.jsx)(`div`,{className:`
          w-[323px] h-[38px]
          flex items-center justify-center
          border border-transparent
          rounded-none
        `,style:{background:`linear-gradient(90deg, rgba(190,211,222,0) 0%, rgba(190,211,222,0.5) 54%, rgba(190,211,222,0) 100%)`,borderImage:`linear-gradient(90deg, rgba(165,187,200,0), rgba(165,187,200,1), rgba(165,187,200,0)) 1`},children:(0,B.jsx)(c,{"aria-label":`Select map`,size:`sm`,selectedKeys:t?[t.name]:[],onSelectionChange:t=>{let r=Array.from(t)[0],i=e.find(e=>e.name===r);i&&n(i)},classNames:{trigger:[`w-auto`,`px-2 py-1`,`bg-transparent shadow-none`,`flex items-center justify-center gap-2`,`hover:bg-transparent`,`data-[hover=true]:bg-transparent`,`active:bg-transparent`,`focus:bg-transparent`].join(` `),value:`text-sm font-medium text-center text-[18px] leading-[18px] `,innerWrapper:`static flex items-center justify-center`,selectorIcon:[`text-default-900`].join(` `),popoverContent:`bg-content1`},className:`text-center max-w-[260px]`,radius:`none`,children:e.map(e=>(0,B.jsx)(ne,{children:r(`maps:${e.name}.name`,e.name)},e.name))})})})},wn=(0,R.createContext)(null),Tn=`aion2.visibleSubtypes.v1.`,En=`aion2.visibleRegions.v1.`,Dn=(e,t,n)=>{if(!t||!n)return;let r=`${e}${t.name}`;try{let e=Array.from(n),t=JSON.stringify(e);console.log(`Save`,r,t),typeof window<`u`&&window.localStorage.setItem(r,t)}catch(e){console.warn(`Failed to save to localStorage`,r,e)}},On=(e,t,n)=>{let r=`${e}${t.name}`;try{let e=typeof window<`u`?window.localStorage.getItem(r):null;if(!e)throw Error(`Storage is missing`);console.log(`Load`,r,e);let t=JSON.parse(e),i=new Set;return t.forEach(e=>{n.has(e)&&i.add(e)}),i}catch(e){return console.warn(`Failed to parse from localStorage`,r,e),null}};const kn=({children:e})=>{let[t,n]=(0,R.useState)(void 0),[r,i]=(0,R.useState)(void 0),[a,o]=(0,R.useState)(new Map),{types:s,selectedMap:c}=U(),{regions:l}=W();return(0,R.useEffect)(()=>{if(!c||s.length===0)return;let e=new Map;s.forEach(t=>{t.subtypes.forEach(n=>{n.category=t.name,e.set(n.name,n)})}),o(e);let t=new Set(e.keys());n(On(Tn,c,t)||t)},[c,s]),(0,R.useEffect)(()=>{if(!c||l.length===0)return;let e=new Set(l.map(e=>e.name));i(On(En,c,e)||e)},[c,l]),(0,R.useEffect)(()=>{console.log(`saveVisibleData`,c,t),Dn(Tn,c,t)},[c,t]),(0,R.useEffect)(()=>{console.log(`saveVisibleData`,c,r),Dn(En,c,r)},[c,r]),(0,B.jsx)(wn.Provider,{value:{visibleSubtypes:t,setVisibleSubtypes:n,visibleRegions:r,setVisibleRegions:i,allSubtypes:a,setAllSubtypes:o,handleToggleSubtype:e=>{n(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},handleToggleRegion:e=>{i(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},handleShowAllSubtypes:()=>{n(new Set(a.keys()))},handleHideAllSubtypes:()=>{n(new Set)}},children:e})};function An(){let e=(0,R.useContext)(wn);if(!e)throw Error(`useGameData must be used inside <GameDataProvider>`);return e}var jn=({isOpen:e,onClose:t,onConfirm:n})=>{let{t:r}=z();return(0,B.jsx)(p,{isOpen:e,onOpenChange:e=>{e||t()},classNames:{wrapper:`z-[20000]`},children:(0,B.jsx)(g,{children:e=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(_,{children:r(`common:menu.clearMarkerCompleted`)}),(0,B.jsx)(ae,{children:r(`common:menu.clearMarkerCompletedBody`)}),(0,B.jsxs)(xe,{children:[(0,B.jsx)(N,{variant:`light`,onPress:e,children:r(`common:ui.cancel`)}),(0,B.jsx)(N,{color:`danger`,onPress:()=>{n(),e()},children:r(`common:ui.confirm`)})]})]})})})},Mn=()=>{let{types:e,selectedMap:t}=U(),{handleShowAllSubtypes:n,handleHideAllSubtypes:r,visibleSubtypes:i,handleToggleSubtype:a}=An(),{clearMarkerCompleted:o,showLabels:s,setShowLabels:c,subtypeCounts:l,completedCounts:u}=W(),{t:d}=z(`common`),[f,p]=(0,R.useState)(!1),m={radius:`sm`,fullWidth:!0,className:`text-[14px] leading-[14px] font-normal h-[30px] gap-2 px-2`,variant:`flat`};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(`div`,{className:`w-full flex flex-col gap-3 px-2 my-0`,children:[(0,B.jsxs)(`div`,{className:`grid grid-cols-2 gap-2`,children:[(0,B.jsx)(N,{...m,onPress:n,children:d(`menu.showAllMarkers`,`Show All`)}),(0,B.jsx)(N,{...m,onPress:r,children:d(`menu.hideAllMarkers`,`Hide All`)}),(0,B.jsxs)(N,{...m,onPress:()=>c(!s),children:[(0,B.jsx)(`div`,{className:`flex items-center`,children:(0,B.jsx)(de,{size:`sm`,isSelected:s,onValueChange:c})}),d(`menu.showNamesOnPins`,`Show Names`)]}),(0,B.jsx)(N,{...m,onPress:()=>p(!0),children:d(`menu.clearMarkerCompleted`,`Clear Completed`)})]}),e.filter(e=>e.subtypes.length>0).map(e=>(0,B.jsxs)(`div`,{children:[(0,B.jsx)(`div`,{className:`my-2 text-[14px] leading-[14px] font-medium px-1`,children:d(`types:categories.${e.name}.name`,e.name)}),(0,B.jsx)(`div`,{className:`grid grid-cols-2 gap-2`,children:e.subtypes.map(n=>{let r=n.name,o=l.get(r)??0,s=u.get(r)??0,c=i?.has(r)||!1,f=n.canComplete===!0,p=n.icon||e.icon||``,h=(n.iconScale||1)*20;return(0,B.jsx)(N,{...m,className:m.className+` justify-start`,onPress:()=>{a(n.name)},color:c?`primary`:`default`,variant:c?`solid`:`flat`,children:(0,B.jsxs)(`div`,{className:`
                      flex w-full items-center justify-between
                      ${c?`text-background`:`text-default-700`}
                    `,children:[(0,B.jsxs)(`span`,{className:`flex items-center gap-1 min-w-0`,children:[p&&t&&(0,B.jsx)(`div`,{className:`relative w-5 h-5 overflow-visible flex items-center justify-center`,children:(0,B.jsx)(`img`,{src:It(p,t),alt:``,className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-contain pointer-events-none`,style:{width:h,height:h}})}),(0,B.jsx)(`span`,{className:`truncate text-left`,children:d(`types:subtypes.${n.name}.name`,n.name)})]}),(0,B.jsx)(`span`,{className:`text-[12px] shrink-0 ml-2`,children:f?`${s}/${o}`:o})]})})})})]},e.name))]}),(0,B.jsx)(jn,{isOpen:f,onClose:()=>p(!1),onConfirm:o})]})};function G(e){return(0,B.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,B.jsx)(`span`,{className:`flex h-4 w-4 items-center justify-center`,children:(0,B.jsx)(w,{icon:y,className:`text-primary`})}),(0,B.jsx)(`span`,{className:`truncate`,children:e})]})}var Nn=()=>{let{t:e}=z(),{selectedMap:t}=U();return(0,B.jsxs)(xn,{side:`left`,width:370,children:[(0,B.jsx)(Sn,{}),(0,B.jsx)(Cn,{}),(0,B.jsx)(ce,{variant:`shadow`,selectionMode:`multiple`,defaultExpandedKeys:[`maps`,`types`],itemClasses:{base:`!bg-transparent !shadow-none !backdrop-filter-none !backdrop-blur-none`,trigger:`py-4 min-h-0 px-2`,title:`text-[16px] leading-[16px] font-bold`,content:`py-0`},className:`bg-transparent shadow-none`,children:t?(0,B.jsx)(M,{title:G(e(`common:menu.markerTypes`,`Marker Types`)),children:(0,B.jsx)(Mn,{})},`types`):null}),!1]})};function Pn(e,t){let n=String(e);if(typeof t!=`string`)throw TypeError(`Expected character`);let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Fn(e){if(typeof e!=`string`)throw TypeError(`Expected a string`);return e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`)}function In(e,t,n){let r=Ce((n||{}).ignore||[]),i=Ln(t),a=-1;for(;++a<i.length;)ve(e,`text`,o);function o(e,t){let n=-1,i;for(;++n<t.length;){let e=t[n],a=i?i.children:void 0;if(r(e,a?a.indexOf(e):void 0,i))return;i=e}if(i)return s(e,t)}function s(e,t){let n=t[t.length-1],r=i[a][0],o=i[a][1],s=0,c=n.children.indexOf(e),l=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){let n=d.index,i={index:d.index,input:d.input,stack:[...t,e]},a=o(...d,i);if(typeof a==`string`&&(a=a.length>0?{type:`text`,value:a}:void 0),a===!1?r.lastIndex=n+1:(s!==n&&u.push({type:`text`,value:e.value.slice(s,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),s=n+d[0].length,l=!0),!r.global)break;d=r.exec(e.value)}return l?(s<e.value.length&&u.push({type:`text`,value:e.value.slice(s)}),n.children.splice(c,1,...u)):u=[e],c+u.length}}function Ln(e){let t=[];if(!Array.isArray(e))throw TypeError(`Expected find and replace tuple or list of tuples`);let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){let e=n[r];t.push([Rn(e[0]),zn(e[1])])}return t}function Rn(e){return typeof e==`string`?new RegExp(Fn(e),`g`):e}function zn(e){return typeof e==`function`?e:function(){return e}}var Bn=`phrasing`,Vn=[`autolink`,`link`,`image`,`label`];function Hn(){return{transforms:[Xn],enter:{literalAutolink:Wn,literalAutolinkEmail:Gn,literalAutolinkHttp:Gn,literalAutolinkWww:Gn},exit:{literalAutolink:Yn,literalAutolinkEmail:Jn,literalAutolinkHttp:Kn,literalAutolinkWww:qn}}}function Un(){return{unsafe:[{character:`@`,before:`[+\\-.\\w]`,after:`[\\-.\\w]`,inConstruct:Bn,notInConstruct:Vn},{character:`.`,before:`[Ww]`,after:`[\\-.\\w]`,inConstruct:Bn,notInConstruct:Vn},{character:`:`,before:`[ps]`,after:`\\/`,inConstruct:Bn,notInConstruct:Vn}]}}function Wn(e){this.enter({type:`link`,title:null,url:``,children:[]},e)}function Gn(e){this.config.enter.autolinkProtocol.call(this,e)}function Kn(e){this.config.exit.autolinkProtocol.call(this,e)}function qn(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];t.type,t.url=`http://`+this.sliceSerialize(e)}function Jn(e){this.config.exit.autolinkEmail.call(this,e)}function Yn(e){this.exit(e)}function Xn(e){In(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Zn],[RegExp(`(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)`,`gu`),Qn]],{ignore:[`link`,`linkReference`]})}function Zn(e,t,n,r,i){let a=``;if(!tr(i)||(/^w/i.test(t)&&(n=t+n,t=``,a=`http://`),!$n(n)))return!1;let o=er(n+r);if(!o[0])return!1;let s={type:`link`,title:null,url:a+t+o[0],children:[{type:`text`,value:t+o[0]}]};return o[1]?[s,{type:`text`,value:o[1]}]:s}function Qn(e,t,n,r){return!tr(r,!0)||/[-\d_]$/.test(n)?!1:{type:`link`,title:null,url:`mailto:`+t+`@`+n,children:[{type:`text`,value:t+`@`+n}]}}function $n(e){let t=e.split(`.`);return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function er(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(`)`),i=Pn(e,`(`),a=Pn(e,`)`);for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(`)`),a++;return[e,n]}function tr(e,t){let n=e.input.charCodeAt(e.index-1);return(e.index===0||I(n)||Te(n))&&(!t||n!==47)}dr.peek=ur;function nr(){this.buffer()}function rr(e){this.enter({type:`footnoteReference`,identifier:``,label:``},e)}function ir(){this.buffer()}function ar(e){this.enter({type:`footnoteDefinition`,identifier:``,label:``,children:[]},e)}function or(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=D(this.sliceSerialize(e)).toLowerCase(),n.label=t}function sr(e){this.exit(e)}function cr(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=D(this.sliceSerialize(e)).toLowerCase(),n.label=t}function lr(e){this.exit(e)}function ur(){return`[`}function dr(e,t,n,r){let i=n.createTracker(r),a=i.move(`[^`),o=n.enter(`footnoteReference`),s=n.enter(`reference`);return a+=i.move(n.safe(n.associationId(e),{after:`]`,before:a})),s(),o(),a+=i.move(`]`),a}function fr(){return{enter:{gfmFootnoteCallString:nr,gfmFootnoteCall:rr,gfmFootnoteDefinitionLabelString:ir,gfmFootnoteDefinition:ar},exit:{gfmFootnoteCallString:or,gfmFootnoteCall:sr,gfmFootnoteDefinitionLabelString:cr,gfmFootnoteDefinition:lr}}}function pr(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:dr},unsafe:[{character:`[`,inConstruct:[`label`,`phrasing`,`reference`]}]};function n(e,n,r,i){let a=r.createTracker(i),o=a.move(`[^`),s=r.enter(`footnoteDefinition`),c=r.enter(`label`);return o+=a.move(r.safe(r.associationId(e),{before:o,after:`]`})),c(),o+=a.move(`]:`),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?`
`:` `)+r.indentLines(r.containerFlow(e,a.current()),t?hr:mr))),s(),o}}function mr(e,t,n){return t===0?e:hr(e,t,n)}function hr(e,t,n){return(n?``:`    `)+e}var gr=[`autolink`,`destinationLiteral`,`destinationRaw`,`reference`,`titleQuote`,`titleApostrophe`];xr.peek=Sr;function _r(){return{canContainEols:[`delete`],enter:{strikethrough:yr},exit:{strikethrough:br}}}function vr(){return{unsafe:[{character:`~`,inConstruct:`phrasing`,notInConstruct:gr}],handlers:{delete:xr}}}function yr(e){this.enter({type:`delete`,children:[]},e)}function br(e){this.exit(e)}function xr(e,t,n,r){let i=n.createTracker(r),a=n.enter(`strikethrough`),o=i.move(`~~`);return o+=n.containerPhrasing(e,{...i.current(),before:o,after:`~`}),o+=i.move(`~~`),a(),o}function Sr(){return`~`}function Cr(e){return e.length}function wr(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Cr,a=[],o=[],s=[],c=[],l=0,u=-1;for(;++u<e.length;){let t=[],r=[],a=-1;for(e[u].length>l&&(l=e[u].length);++a<e[u].length;){let o=Tr(e[u][a]);if(n.alignDelimiters!==!1){let e=i(o);r[a]=e,(c[a]===void 0||e>c[a])&&(c[a]=e)}t.push(o)}o[u]=t,s[u]=r}let d=-1;if(typeof r==`object`&&`length`in r)for(;++d<l;)a[d]=Er(r[d]);else{let e=Er(r);for(;++d<l;)a[d]=e}d=-1;let f=[],p=[];for(;++d<l;){let e=a[d],t=``,r=``;e===99?(t=`:`,r=`:`):e===108?t=`:`:e===114&&(r=`:`);let i=n.alignDelimiters===!1?1:Math.max(1,c[d]-t.length-r.length),o=t+`-`.repeat(i)+r;n.alignDelimiters!==!1&&(i=t.length+i+r.length,i>c[d]&&(c[d]=i),p[d]=i),f[d]=o}o.splice(1,0,f),s.splice(1,0,p),u=-1;let m=[];for(;++u<o.length;){let e=o[u],t=s[u];d=-1;let r=[];for(;++d<l;){let i=e[d]||``,o=``,s=``;if(n.alignDelimiters!==!1){let e=c[d]-(t[d]||0),n=a[d];n===114?o=` `.repeat(e):n===99?e%2?(o=` `.repeat(e/2+.5),s=` `.repeat(e/2-.5)):(o=` `.repeat(e/2),s=o):s=` `.repeat(e)}n.delimiterStart!==!1&&!d&&r.push(`|`),n.padding!==!1&&!(n.alignDelimiters===!1&&i===``)&&(n.delimiterStart!==!1||d)&&r.push(` `),n.alignDelimiters!==!1&&r.push(o),r.push(i),n.alignDelimiters!==!1&&r.push(s),n.padding!==!1&&r.push(` `),(n.delimiterEnd!==!1||d!==l-1)&&r.push(`|`)}m.push(n.delimiterEnd===!1?r.join(``).replace(/ +$/,``):r.join(``))}return m.join(`
`)}function Tr(e){return e==null?``:String(e)}function Er(e){let t=typeof e==`string`?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Dr(e,t,n,r){let i=n.enter(`blockquote`),a=n.createTracker(r);a.move(`> `),a.shift(2);let o=n.indentLines(n.containerFlow(e,a.current()),Or);return i(),o}function Or(e,t,n){return`>`+(n?``:` `)+e}function kr(e,t){return Ar(e,t.inConstruct,!0)&&!Ar(e,t.notInConstruct,!1)}function Ar(e,t,n){if(typeof t==`string`&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function jr(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&kr(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?``:` `;return`\\
`}function Mr(e,t){let n=String(e),r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!=`string`)throw TypeError(`Expected substring`);for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function Nr(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Pr(e){let t=e.options.fence||"`";if(t!=="`"&&t!==`~`)throw Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Fr(e,t,n,r){let i=Pr(n),a=e.value||``,o=i==="`"?`GraveAccent`:`Tilde`;if(Nr(e,n)){let e=n.enter(`codeIndented`),t=n.indentLines(a,Ir);return e(),t}let s=n.createTracker(r),c=i.repeat(Math.max(Mr(a,i)+1,3)),l=n.enter(`codeFenced`),u=s.move(c);if(e.lang){let t=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:` `,encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){let t=n.enter(`codeFencedMeta${o}`);u+=s.move(` `),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),t()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(c),l(),u}function Ir(e,t,n){return(n?``:`    `)+e}function Lr(e){let t=e.options.quote||`"`;if(t!==`"`&&t!==`'`)throw Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Rr(e,t,n,r){let i=Lr(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`definition`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`[`);return l+=c.move(n.safe(n.associationId(e),{before:l,after:`]`,...c.current()})),l+=c.move(`]: `),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),o(),l}function zr(e){let t=e.options.emphasis||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function K(e){return`&#x`+e.toString(16).toUpperCase()+`;`}function q(e,t,n){let r=F(e),i=F(t);return r===void 0?i===void 0?n===`_`?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Br.peek=Vr;function Br(e,t,n,r){let i=zr(n),a=n.enter(`emphasis`),o=n.createTracker(r),s=o.move(i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=q(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=K(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=q(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+K(d));let p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function Vr(e,t,n){return n.options.emphasis||`*`}function Hr(e,t){let n=!1;return fe(e,function(e){if(`value`in e&&/\r?\n|\r/.test(e.value)||e.type===`break`)return n=!0,!1}),!!((!e.depth||e.depth<3)&&l(e)&&(t.options.setext||n))}function Ur(e,t,n,r){let i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Hr(e,n)){let t=n.enter(`headingSetext`),r=n.enter(`phrasing`),o=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return r(),t(),o+`
`+(i===1?`=`:`-`).repeat(o.length-(Math.max(o.lastIndexOf(`\r`),o.lastIndexOf(`
`))+1))}let o=`#`.repeat(i),s=n.enter(`headingAtx`),c=n.enter(`phrasing`);a.move(o+` `);let l=n.containerPhrasing(e,{before:`# `,after:`
`,...a.current()});return/^[\t ]/.test(l)&&(l=K(l.charCodeAt(0))+l.slice(1)),l=l?o+` `+l:o,n.options.closeAtx&&(l+=` `+o),c(),s(),l}Wr.peek=Gr;function Wr(e){return e.value||``}function Gr(){return`<`}Kr.peek=qr;function Kr(e,t,n,r){let i=Lr(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`image`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`![`);return l+=c.move(n.safe(e.alt,{before:l,after:`]`,...c.current()})),l+=c.move(`](`),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),l+=c.move(`)`),o(),l}function qr(){return`!`}Jr.peek=Yr;function Jr(e,t,n,r){let i=e.referenceType,a=n.enter(`imageReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`![`),l=n.safe(e.alt,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function Yr(){return`!`}Xr.peek=Zr;function Xr(e,t,n){let r=e.value||``,i="`",a=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=` `+r+` `);++a<n.unsafe.length;){let e=n.unsafe[a],t=n.compilePattern(e),i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;r.charCodeAt(e)===10&&r.charCodeAt(e-1)===13&&e--,r=r.slice(0,e)+` `+r.slice(i.index+1)}}return i+r+i}function Zr(){return"`"}function Qr(e,t){let n=l(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type===`text`&&(n===e.url||`mailto:`+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}$r.peek=ei;function $r(e,t,n,r){let i=Lr(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.createTracker(r),s,c;if(Qr(e,n)){let t=n.stack;n.stack=[],s=n.enter(`autolink`);let r=o.move(`<`);return r+=o.move(n.containerPhrasing(e,{before:r,after:`>`,...o.current()})),r+=o.move(`>`),s(),n.stack=t,r}s=n.enter(`link`),c=n.enter(`label`);let l=o.move(`[`);return l+=o.move(n.containerPhrasing(e,{before:l,after:`](`,...o.current()})),l+=o.move(`](`),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter(`destinationLiteral`),l+=o.move(`<`),l+=o.move(n.safe(e.url,{before:l,after:`>`,...o.current()})),l+=o.move(`>`)):(c=n.enter(`destinationRaw`),l+=o.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),l+=o.move(` `+i),l+=o.move(n.safe(e.title,{before:l,after:i,...o.current()})),l+=o.move(i),c()),l+=o.move(`)`),s(),l}function ei(e,t,n){return Qr(e,n)?`<`:`[`}ti.peek=ni;function ti(e,t,n,r){let i=e.referenceType,a=n.enter(`linkReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`[`),l=n.containerPhrasing(e,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function ni(){return`[`}function ri(e){let t=e.options.bullet||`*`;if(t!==`*`&&t!==`+`&&t!==`-`)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ii(e){let t=ri(e),n=e.options.bulletOther;if(!n)return t===`*`?`-`:`*`;if(n!==`*`&&n!==`+`&&n!==`-`)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ai(e){let t=e.options.bulletOrdered||`.`;if(t!==`.`&&t!==`)`)throw Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function oi(e){let t=e.options.rule||`*`;if(t!==`*`&&t!==`-`&&t!==`_`)throw Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function si(e,t,n,r){let i=n.enter(`list`),a=n.bulletCurrent,o=e.ordered?ai(n):ri(n),s=e.ordered?o===`.`?`)`:`.`:ii(n),c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){let t=e.children?e.children[0]:void 0;if((o===`*`||o===`-`)&&t&&(!t.children||!t.children[0])&&n.stack[n.stack.length-1]===`list`&&n.stack[n.stack.length-2]===`listItem`&&n.stack[n.stack.length-3]===`list`&&n.stack[n.stack.length-4]===`listItem`&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),oi(n)===o&&t){let t=-1;for(;++t<e.children.length;){let n=e.children[t];if(n&&n.type===`listItem`&&n.children&&n.children[0]&&n.children[0].type===`thematicBreak`){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;let l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),l}function ci(e){let t=e.options.listItemIndent||`one`;if(t!==`tab`&&t!==`one`&&t!==`mixed`)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function li(e,t,n,r){let i=ci(n),a=n.bulletCurrent||ri(n);t&&t.type===`list`&&t.ordered&&(a=(typeof t.start==`number`&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i===`tab`||i===`mixed`&&(t&&t.type===`list`&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);let s=n.createTracker(r);s.move(a+` `.repeat(o-a.length)),s.shift(o);let c=n.enter(`listItem`),l=n.indentLines(n.containerFlow(e,s.current()),u);return c(),l;function u(e,t,n){return t?(n?``:` `.repeat(o))+e:(n?a:a+` `.repeat(o-a.length))+e}}function ui(e,t,n,r){let i=n.enter(`paragraph`),a=n.enter(`phrasing`),o=n.containerPhrasing(e,r);return a(),i(),o}const di=Ce([`break`,`delete`,`emphasis`,`footnote`,`footnoteReference`,`image`,`imageReference`,`inlineCode`,`inlineMath`,`link`,`linkReference`,`mdxJsxTextElement`,`mdxTextExpression`,`strong`,`text`,`textDirective`]);function fi(e,t,n,r){return(e.children.some(function(e){return di(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function pi(e){let t=e.options.strong||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}mi.peek=hi;function mi(e,t,n,r){let i=pi(n),a=n.enter(`strong`),o=n.createTracker(r),s=o.move(i+i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=q(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=K(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=q(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+K(d));let p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function hi(e,t,n){return n.options.strong||`*`}function gi(e,t,n,r){return n.safe(e.value,r)}function _i(e){let t=e.options.ruleRepetition||3;if(t<3)throw Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function vi(e,t,n){let r=(oi(n)+(n.options.ruleSpaces?` `:``)).repeat(_i(n));return n.options.ruleSpaces?r.slice(0,-1):r}const yi={blockquote:Dr,break:jr,code:Fr,definition:Rr,emphasis:Br,hardBreak:jr,heading:Ur,html:Wr,image:Kr,imageReference:Jr,inlineCode:Xr,link:$r,linkReference:ti,list:si,listItem:li,paragraph:ui,root:fi,strong:mi,text:gi,thematicBreak:vi};function bi(){return{enter:{table:xi,tableData:Ti,tableHeader:Ti,tableRow:Ci},exit:{codeText:Ei,table:Si,tableData:wi,tableHeader:wi,tableRow:wi}}}function xi(e){let t=e._align;this.enter({type:`table`,align:t.map(function(e){return e===`none`?null:e}),children:[]},e),this.data.inTable=!0}function Si(e){this.exit(e),this.data.inTable=void 0}function Ci(e){this.enter({type:`tableRow`,children:[]},e)}function wi(e){this.exit(e)}function Ti(e){this.enter({type:`tableCell`,children:[]},e)}function Ei(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Di));let n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Di(e,t){return t===`|`?t:e}function Oi(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?` `:`|`;return{unsafe:[{character:`\r`,inConstruct:`tableCell`},{character:`
`,inConstruct:`tableCell`},{atBreak:!0,character:`|`,after:`[	 :-]`},{character:`|`,inConstruct:`tableCell`},{atBreak:!0,character:`:`,after:`-`},{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:s}};function o(e,t,n,r){return l(u(e,n,r),e.align)}function s(e,t,n,r){let i=l([d(e,n,r)]);return i.slice(0,i.indexOf(`
`))}function c(e,t,n,r){let i=n.enter(`tableCell`),o=n.enter(`phrasing`),s=n.containerPhrasing(e,{...r,before:a,after:a});return o(),i(),s}function l(e,t){return wr(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function u(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`table`);for(;++i<r.length;)a[i]=d(r[i],t,n);return o(),a}function d(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`tableRow`);for(;++i<r.length;)a[i]=c(r[i],e,t,n);return o(),a}function f(e,t,n){let r=yi.inlineCode(e,t,n);return n.stack.includes(`tableCell`)&&(r=r.replace(/\|/g,`\\$&`)),r}}function ki(){return{exit:{taskListCheckValueChecked:ji,taskListCheckValueUnchecked:ji,paragraph:Mi}}}function Ai(){return{unsafe:[{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{listItem:Ni}}}function ji(e){let t=this.stack[this.stack.length-2];t.type,t.checked=e.type===`taskListCheckValueChecked`}function Mi(e){let t=this.stack[this.stack.length-2];if(t&&t.type===`listItem`&&typeof t.checked==`boolean`){let e=this.stack[this.stack.length-1];e.type;let n=e.children[0];if(n&&n.type===`text`){let r=t.children,i=-1,a;for(;++i<r.length;){let e=r[i];if(e.type===`paragraph`){a=e;break}}a===e&&(n.value=n.value.slice(1),n.value.length===0?e.children.shift():e.position&&n.position&&typeof n.position.start.offset==`number`&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Ni(e,t,n,r){let i=e.children[0],a=typeof e.checked==`boolean`&&i&&i.type===`paragraph`,o=`[`+(e.checked?`x`:` `)+`] `,s=n.createTracker(r);a&&s.move(o);let c=yi.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),c;function l(e){return e+o}}function Pi(){return[Hn(),fr(),_r(),bi(),ki()]}function Fi(e){return{extensions:[Un(),pr(e),vr(),Oi(e),Ai()]}}var Ii={tokenize:qi,partial:!0},Li={tokenize:Ji,partial:!0},Ri={tokenize:Yi,partial:!0},zi={tokenize:Xi,partial:!0},Bi={tokenize:Zi,partial:!0},Vi={name:`wwwAutolink`,tokenize:Gi,previous:Qi},Hi={name:`protocolAutolink`,tokenize:Ki,previous:$i},J={name:`emailAutolink`,tokenize:Wi,previous:ea},Y={};function Ui(){return{text:Y}}for(var X=48;X<123;)Y[X]=J,X++,X===58?X=65:X===91&&(X=97);Y[43]=J,Y[45]=J,Y[46]=J,Y[95]=J,Y[72]=[J,Hi],Y[104]=[J,Hi],Y[87]=[J,Vi],Y[119]=[J,Vi];function Wi(e,t,n){let r=this,i,a;return o;function o(t){return!ta(t)||!ea.call(r,r.previous)||na(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkEmail`),s(t))}function s(t){return ta(t)?(e.consume(t),s):t===64?(e.consume(t),c):n(t)}function c(t){return t===46?e.check(Bi,u,l)(t):t===45||t===95||be(t)?(a=!0,e.consume(t),c):u(t)}function l(t){return e.consume(t),i=!0,c}function u(o){return a&&i&&k(r.previous)?(e.exit(`literalAutolinkEmail`),e.exit(`literalAutolink`),t(o)):n(o)}}function Gi(e,t,n){let r=this;return i;function i(t){return t!==87&&t!==119||!Qi.call(r,r.previous)||na(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkWww`),e.check(Ii,e.attempt(Li,e.attempt(Ri,a),n),n)(t))}function a(n){return e.exit(`literalAutolinkWww`),e.exit(`literalAutolink`),t(n)}}function Ki(e,t,n){let r=this,i=``,a=!1;return o;function o(t){return(t===72||t===104)&&$i.call(r,r.previous)&&!na(r.events)?(e.enter(`literalAutolink`),e.enter(`literalAutolinkHttp`),i+=String.fromCodePoint(t),e.consume(t),s):n(t)}function s(t){if(k(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(t===58){let n=i.toLowerCase();if(n===`http`||n===`https`)return e.consume(t),c}return n(t)}function c(t){return t===47?(e.consume(t),a?l:(a=!0,c)):n(t)}function l(t){return t===null||ge(t)||A(t)||I(t)||Te(t)?n(t):e.attempt(Li,e.attempt(Ri,u),n)(t)}function u(n){return e.exit(`literalAutolinkHttp`),e.exit(`literalAutolink`),t(n)}}function qi(e,t,n){let r=0;return i;function i(t){return(t===87||t===119)&&r<3?(r++,e.consume(t),i):t===46&&r===3?(e.consume(t),a):n(t)}function a(e){return e===null?n(e):t(e)}}function Ji(e,t,n){let r,i,a;return o;function o(t){return t===46||t===95?e.check(zi,c,s)(t):t===null||A(t)||I(t)||t!==45&&Te(t)?c(t):(a=!0,e.consume(t),o)}function s(t){return t===95?r=!0:(i=r,r=void 0),e.consume(t),o}function c(e){return i||r||!a?n(e):t(e)}}function Yi(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(zi,t,a)(o):o===null||A(o)||I(o)?t(o):(e.consume(o),i)}function a(t){return t===41&&r++,e.consume(t),i}}function Xi(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||A(o)||I(o)?t(o):n(o)}function i(e){return e===null||e===40||e===91||A(e)||I(e)?t(e):r(e)}function a(e){return k(e)?o(e):n(e)}function o(t){return t===59?(e.consume(t),r):k(t)?(e.consume(t),o):n(t)}}function Zi(e,t,n){return r;function r(t){return e.consume(t),i}function i(e){return be(e)?n(e):t(e)}}function Qi(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||A(e)}function $i(e){return!k(e)}function ea(e){return!(e===47||ta(e))}function ta(e){return e===43||e===45||e===46||e===95||be(e)}function na(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if((r.type===`labelLink`||r.type===`labelImage`)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}var ra={tokenize:da,partial:!0};function ia(){return{document:{91:{name:`gfmFootnoteDefinition`,tokenize:ca,continuation:{tokenize:la},exit:ua}},text:{91:{name:`gfmFootnoteCall`,tokenize:sa},93:{name:`gfmPotentialFootnoteCall`,add:`after`,tokenize:aa,resolveTo:oa}}}}function aa(e,t,n){let r=this,i=r.events.length,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),o;for(;i--;){let e=r.events[i][1];if(e.type===`labelImage`){o=e;break}if(e.type===`gfmFootnoteCall`||e.type===`labelLink`||e.type===`label`||e.type===`image`||e.type===`link`)break}return s;function s(i){if(!o||!o._balanced)return n(i);let s=D(r.sliceSerialize({start:o.end,end:r.now()}));return s.codePointAt(0)!==94||!a.includes(s.slice(1))?n(i):(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(i),e.exit(`gfmFootnoteCallLabelMarker`),t(i))}}function oa(e,t){let n=e.length;for(;n--;)if(e[n][1].type===`labelImage`&&e[n][0]===`enter`){e[n][1];break}e[n+1][1].type=`data`,e[n+3][1].type=`gfmFootnoteCallLabelMarker`;let r={type:`gfmFootnoteCall`,start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:`gfmFootnoteCallMarker`,start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;let a={type:`gfmFootnoteCallString`,start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:`chunkString`,contentType:`string`,start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],[`enter`,r,t],e[n+3],e[n+4],[`enter`,i,t],[`exit`,i,t],[`enter`,a,t],[`enter`,o,t],[`exit`,o,t],[`exit`,a,t],e[e.length-2],e[e.length-1],[`exit`,r,t]];return e.splice(n,e.length-n+1,...s),e}function sa(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a=0,o;return s;function s(t){return e.enter(`gfmFootnoteCall`),e.enter(`gfmFootnoteCallLabelMarker`),e.consume(t),e.exit(`gfmFootnoteCallLabelMarker`),c}function c(t){return t===94?(e.enter(`gfmFootnoteCallMarker`),e.consume(t),e.exit(`gfmFootnoteCallMarker`),e.enter(`gfmFootnoteCallString`),e.enter(`chunkString`).contentType=`string`,l):n(t)}function l(s){if(a>999||s===93&&!o||s===null||s===91||A(s))return n(s);if(s===93){e.exit(`chunkString`);let a=e.exit(`gfmFootnoteCallString`);return i.includes(D(r.sliceSerialize(a)))?(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(s),e.exit(`gfmFootnoteCallLabelMarker`),e.exit(`gfmFootnoteCall`),t):n(s)}return A(s)||(o=!0),a++,e.consume(s),s===92?u:l}function u(t){return t===91||t===92||t===93?(e.consume(t),a++,l):l(t)}}function ca(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a,o=0,s;return c;function c(t){return e.enter(`gfmFootnoteDefinition`)._container=!0,e.enter(`gfmFootnoteDefinitionLabel`),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),l}function l(t){return t===94?(e.enter(`gfmFootnoteDefinitionMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionMarker`),e.enter(`gfmFootnoteDefinitionLabelString`),e.enter(`chunkString`).contentType=`string`,u):n(t)}function u(t){if(o>999||t===93&&!s||t===null||t===91||A(t))return n(t);if(t===93){e.exit(`chunkString`);let n=e.exit(`gfmFootnoteDefinitionLabelString`);return a=D(r.sliceSerialize(n)),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),e.exit(`gfmFootnoteDefinitionLabel`),f}return A(t)||(s=!0),o++,e.consume(t),t===92?d:u}function d(t){return t===91||t===92||t===93?(e.consume(t),o++,u):u(t)}function f(t){return t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),i.includes(a)||i.push(a),O(e,p,`gfmFootnoteDefinitionWhitespace`)):n(t)}function p(e){return t(e)}}function la(e,t,n){return e.check(le,t,e.attempt(ra,t,n))}function ua(e){e.exit(`gfmFootnoteDefinition`)}function da(e,t,n){let r=this;return O(e,i,`gfmFootnoteDefinitionIndent`,5);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`gfmFootnoteDefinitionIndent`&&i[2].sliceSerialize(i[1],!0).length===4?t(e):n(e)}}function fa(e){let t=(e||{}).singleTilde,n={name:`strikethrough`,tokenize:i,resolveAll:r};return t??=!0,{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(e,t){let n=-1;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`strikethroughSequenceTemporary`&&e[n][1]._close){let r=n;for(;r--;)if(e[r][0]===`exit`&&e[r][1].type===`strikethroughSequenceTemporary`&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type=`strikethroughSequence`,e[r][1].type=`strikethroughSequence`;let i={type:`strikethrough`,start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:`strikethroughText`,start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o=[[`enter`,i,t],[`enter`,e[r][1],t],[`exit`,e[r][1],t],[`enter`,a,t]],s=t.parser.constructs.insideSpan.null;s&&T(o,o.length,0,he(s,e.slice(r+1,n),t)),T(o,o.length,0,[[`exit`,a,t],[`enter`,e[n][1],t],[`exit`,e[n][1],t],[`exit`,i,t]]),T(e,r-1,n-r+3,o),n=r+o.length-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`strikethroughSequenceTemporary`&&(e[n][1].type=`data`);return e}function i(e,n,r){let i=this.previous,a=this.events,o=0;return s;function s(t){return i===126&&a[a.length-1][1].type!==`characterEscape`?r(t):(e.enter(`strikethroughSequenceTemporary`),c(t))}function c(a){let s=F(i);if(a===126)return o>1?r(a):(e.consume(a),o++,c);if(o<2&&!t)return r(a);let l=e.exit(`strikethroughSequenceTemporary`),u=F(a);return l._open=!u||u===2&&!!s,l._close=!s||s===2&&!!u,n(a)}}}var pa=class{constructor(){this.map=[]}add(e,t,n){ma(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),this.map.length===0)return;let t=this.map.length,n=[];for(;t>0;)--t,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}};function ma(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function ha(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if(i[0]===`enter`)i[1].type===`tableContent`&&r.push(e[t+1][1].type===`tableDelimiterMarker`?`left`:`none`);else if(i[1].type===`tableContent`){if(e[t-1][1].type===`tableDelimiterMarker`){let e=r.length-1;r[e]=r[e]===`left`?`center`:`right`}}else if(i[1].type===`tableDelimiterRow`)break}else i[0]===`enter`&&i[1].type===`tableDelimiterRow`&&(n=!0);t+=1}return r}function ga(){return{flow:{null:{name:`table`,tokenize:_a,resolveAll:va}}}}function _a(e,t,n){let r=this,i=0,a=0,o;return s;function s(e){let t=r.events.length-1;for(;t>-1;){let e=r.events[t][1].type;if(e===`lineEnding`||e===`linePrefix`)t--;else break}let i=t>-1?r.events[t][1].type:null,a=i===`tableHead`||i===`tableRow`?S:c;return a===S&&r.parser.lazy[r.now().line]?n(e):a(e)}function c(t){return e.enter(`tableHead`),e.enter(`tableRow`),l(t)}function l(e){return e===124?u(e):(o=!0,a+=1,u(e))}function u(t){return t===null?n(t):j(t)?a>1?(a=0,r.interrupt=!0,e.exit(`tableRow`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),p):n(t):E(t)?O(e,u,`whitespace`)(t):(a+=1,o&&(o=!1,i+=1),t===124?(e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),o=!0,u):(e.enter(`data`),d(t)))}function d(t){return t===null||t===124||A(t)?(e.exit(`data`),u(t)):(e.consume(t),t===92?f:d)}function f(t){return t===92||t===124?(e.consume(t),d):d(t)}function p(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter(`tableDelimiterRow`),o=!1,E(t)?O(e,m,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):m(t))}function m(t){return t===45||t===58?g(t):t===124?(o=!0,e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),h):x(t)}function h(t){return E(t)?O(e,g,`whitespace`)(t):g(t)}function g(t){return t===58?(a+=1,o=!0,e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),_):t===45?(a+=1,_(t)):t===null||j(t)?b(t):x(t)}function _(t){return t===45?(e.enter(`tableDelimiterFiller`),v(t)):x(t)}function v(t){return t===45?(e.consume(t),v):t===58?(o=!0,e.exit(`tableDelimiterFiller`),e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),y):(e.exit(`tableDelimiterFiller`),y(t))}function y(t){return E(t)?O(e,b,`whitespace`)(t):b(t)}function b(n){return n===124?m(n):n===null||j(n)?!o||i!==a?x(n):(e.exit(`tableDelimiterRow`),e.exit(`tableHead`),t(n)):x(n)}function x(e){return n(e)}function S(t){return e.enter(`tableRow`),C(t)}function C(n){return n===124?(e.enter(`tableCellDivider`),e.consume(n),e.exit(`tableCellDivider`),C):n===null||j(n)?(e.exit(`tableRow`),t(n)):E(n)?O(e,C,`whitespace`)(n):(e.enter(`data`),w(n))}function w(t){return t===null||t===124||A(t)?(e.exit(`data`),C(t)):(e.consume(t),t===92?T:w)}function T(t){return t===92||t===124?(e.consume(t),w):w(t)}}function va(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,l,u,d,f=new pa;for(;++n<e.length;){let p=e[n],m=p[1];p[0]===`enter`?m.type===`tableHead`?(s=!1,c!==0&&(ya(f,t,c,l,u),u=void 0,c=0),l={type:`table`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,l,t]])):m.type===`tableRow`||m.type===`tableDelimiterRow`?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:`tableBody`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,u,t]])),i=m.type===`tableDelimiterRow`?2:u?3:1):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Z(f,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type===`tableCellDivider`&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=Z(f,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type===`tableHead`?(s=!0,c=n):m.type===`tableRow`||m.type===`tableDelimiterRow`?(c=n,a[1]===0?o[1]!==0&&(d=Z(f,t,o,i,n,d)):(o[0]=o[1],d=Z(f,t,a,i,n,d)),i=0):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)&&(o[3]=n)}for(c!==0&&ya(f,t,c,l,u),f.consume(t.events),n=-1;++n<t.events.length;){let e=t.events[n];e[0]===`enter`&&e[1].type===`table`&&(e[1]._align=ha(t.events,n))}return e}function Z(e,t,n,r,i,a){let o=r===1?`tableHeader`:r===2?`tableDelimiter`:`tableData`;n[0]!==0&&(a.end=Object.assign({},Q(t.events,n[0])),e.add(n[0],0,[[`exit`,a,t]]));let s=Q(t.events,n[1]);if(a={type:o,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[[`enter`,a,t]]),n[2]!==0){let i=Q(t.events,n[2]),a=Q(t.events,n[3]),o={type:`tableContent`,start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[[`enter`,o,t]]),r!==2){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type=`chunkText`,r[1].contentType=`text`,n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[[`exit`,o,t]])}return i!==void 0&&(a.end=Object.assign({},Q(t.events,i)),e.add(i,0,[[`exit`,a,t]]),a=void 0),a}function ya(e,t,n,r,i){let a=[],o=Q(t.events,n);i&&(i.end=Object.assign({},o),a.push([`exit`,i,t])),r.end=Object.assign({},o),a.push([`exit`,r,t]),e.add(n+1,0,a)}function Q(e,t){let n=e[t],r=n[0]===`enter`?`start`:`end`;return n[1][r]}var ba={name:`tasklistCheck`,tokenize:Sa};function xa(){return{text:{91:ba}}}function Sa(e,t,n){let r=this;return i;function i(t){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(t):(e.enter(`taskListCheck`),e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),a)}function a(t){return A(t)?(e.enter(`taskListCheckValueUnchecked`),e.consume(t),e.exit(`taskListCheckValueUnchecked`),o):t===88||t===120?(e.enter(`taskListCheckValueChecked`),e.consume(t),e.exit(`taskListCheckValueChecked`),o):n(t)}function o(t){return t===93?(e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),e.exit(`taskListCheck`),s):n(t)}function s(r){return j(r)?t(r):E(r)?e.check({tokenize:Ca},t,n)(r):n(r)}}function Ca(e,t,n){return O(e,r,`whitespace`);function r(e){return e===null?n(e):t(e)}}function wa(e){return De([Ui(),ia(),fa(e),ga(),xa()])}var Ta={};function $(e){let t=this,n=e||Ta,r=t.data(),i=r.micromarkExtensions||=[],a=r.fromMarkdownExtensions||=[],o=r.toMarkdownExtensions||=[];i.push(wa(n)),a.push(Pi()),o.push(Fi(n))}var Ea=()=>{let{t:e}=z(`common`),[t,n]=(0,R.useState)(!1),r=V(`images/alipay.webp`);return(0,B.jsxs)(xn,{side:`right`,width:344,children:[t&&(0,B.jsx)(`div`,{className:`fixed inset-0 z-[31000] flex items-center justify-center bg-black/60`,onClick:()=>n(!1),children:(0,B.jsx)(`img`,{src:r,alt:e(`introModal.helpImageAlt`,`Intro image`),className:`max-w-[90vw] max-h-[90vh] rounded-lg shadow-xl`,onClick:e=>e.stopPropagation()})}),(0,B.jsxs)(ce,{variant:`shadow`,selectionMode:`multiple`,defaultExpandedKeys:[`members`,`contact`,`donation`],itemClasses:{base:`!bg-transparent !shadow-none !backdrop-filter-none !backdrop-blur-none`,trigger:`py-4 min-h-0 px-2`,title:`text-[16px] leading-[16px] font-bold`,content:`py-0`},className:`bg-transparent shadow-none`,children:[(0,B.jsx)(M,{title:G(e(`rightSidebar.members.title`)),children:(0,B.jsx)(`div`,{className:`text-sm prose prose-sm dark:prose-invert max-w-none`,children:(0,B.jsx)(P,{remarkPlugins:[$],children:e(`rightSidebar.members.content`)})})},`members`),(0,B.jsx)(M,{title:G(e(`rightSidebar.contact.title`)),children:(0,B.jsx)(`div`,{className:`text-sm prose prose-sm dark:prose-invert max-w-none`,children:(0,B.jsx)(P,{remarkPlugins:[$],children:e(`rightSidebar.contact.content`)})})},`contact`),(0,B.jsx)(M,{title:G(e(`rightSidebar.donation.title`)),children:(0,B.jsxs)(`div`,{className:`text-sm prose prose-sm dark:prose-invert max-w-none`,children:[(0,B.jsx)(P,{remarkPlugins:[$],children:e(`rightSidebar.donation.content`)}),(0,B.jsx)(N,{isIconOnly:!0,variant:`light`,onPress:()=>n(!0),children:(0,B.jsx)(w,{icon:_e,className:`text-xl`})})]})},`donation`)]}),!1]})},Da=({color:e=`warning`,title:t,children:n,onClose:r,autoCloseAfterMs:i})=>((0,R.useEffect)(()=>{if(!i)return;let e=setTimeout(r,i);return()=>clearTimeout(e)},[i,r]),(0,B.jsx)(Oe,{color:e,variant:`solid`,hideIcon:!0,startContent:(0,B.jsx)(w,{icon:v,className:`text-[20px]`}),className:`py-1 px-3 text-xs rounded-md shadow-lg bg-warning`,children:(0,B.jsxs)(`div`,{className:`flex w-full items-center justify-between gap-3`,children:[(0,B.jsxs)(`div`,{className:`flex flex-col gap-1 min-w-0`,children:[t&&(0,B.jsx)(`div`,{className:`font-semibold text-sm`,children:t}),(0,B.jsx)(`div`,{className:`text-xs`,children:n})]}),(0,B.jsx)(N,{isIconOnly:!0,size:`sm`,variant:`light`,onPress:r,className:`!min-w-6 !h- 6 flex-shrink-0`,children:(0,B.jsx)(w,{icon:h,className:`text-sm`})})]})})),Oa=()=>{let{t:e}=z(),{loading:t,selectedMap:n,types:r}=U(),{visibleSubtypes:i,allSubtypes:a}=An(),{markers:o,completedSet:s,toggleMarkerCompleted:c,showLabels:l}=W(),u=(0,R.useRef)(null),[d,f]=(0,R.useState)(!0);return t&&!n?(0,B.jsx)(`div`,{className:`h-screen w-screen flex items-center justify-center`,children:(0,B.jsx)(Se,{label:`Loading maps...`})}):(0,B.jsxs)(`div`,{className:`h-screen w-screen flex flex-col`,children:[(0,B.jsx)(Lt,{}),d&&(0,B.jsx)(`div`,{className:`fixed top-[72px] left-1/2 -translate-x-1/2 z-[9999] h-[52px]`,children:(0,B.jsx)(Da,{color:`warning`,onClose:()=>f(!1),children:(0,B.jsx)(`div`,{className:`text-xs prose prose-xs max-w-none`,children:(0,B.jsx)(P,{remarkPlugins:[$],children:e(`introModal.alert`)})})})}),!1,(0,B.jsxs)(`div`,{className:`flex flex-1 overflow-hidden`,children:[(0,B.jsx)(Nn,{}),(0,B.jsx)(Ea,{}),(0,B.jsx)(bn,{selectedMap:n,markers:o,mapRef:u,visibleSubtypes:i||new Set,types:r,subtypes:a,showLabels:l,completedSet:s,toggleMarkerCompleted:c})]})]})};function ka(){if(typeof window>`u`)return;let e=localStorage.getItem(`theme`),t=document.documentElement,n=`light`;n=e===`dark`||e===`light`?e:window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`,n===`dark`?t.classList.add(`dark`):t.classList.remove(`dark`)}ka(),pt.createRoot(document.getElementById(`root`)).render((0,B.jsx)(R.StrictMode,{children:(0,B.jsx)(yt,{children:(0,B.jsx)(ue,{children:(0,B.jsx)(Ot,{children:(0,B.jsx)(ln,{children:(0,B.jsx)(fn,{children:(0,B.jsx)(kn,{children:(0,B.jsx)(Oa,{})})})})})})})}));