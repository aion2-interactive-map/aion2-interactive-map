import{i as e,s as t,t as n}from"./rolldown-runtime-Cb2Vi1zU.js";import{a as r,n as i,r as a,t as o}from"./vendor-react-Pim_c09P.js";import{$ as s,A as c,B as l,C as u,D as d,E as f,F as p,G as m,H as h,I as g,J as _,K as v,L as y,M as b,N as x,O as ee,P as S,Q as te,R as ne,S as re,T as ie,U as ae,V as oe,W as se,X as ce,Y as le,Z as C,_ as ue,a as de,b as fe,c as pe,d as me,et as he,f as ge,g as _e,h as w,i as ve,j as ye,k as be,l as xe,m as Se,n as Ce,nt as we,o as Te,p as Ee,q as De,r as Oe,s as ke,u as Ae,v as je,w as Me,x as Ne,y as Pe,z as Fe}from"./vendor-ui-B-zE63HM.js";import{n as Ie,r as Le,t as Re}from"./vendor-i18n-BQXfFuOk.js";import{a as ze,i as Be,n as Ve,o as He,r as Ue,s as We,t as Ge}from"./vendor-map-DNr47FEq.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var Ke=n((e=>{var t=r();function n(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var i=typeof Object.is==`function`?Object.is:n,a=t.useState,o=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function l(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})},[e,n,t]),o(function(){return u(i)&&l({inst:i}),e(function(){u(i)&&l({inst:i})})},[e]),c(n),n}function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch{return!0}}function d(e,t){return t()}var f=typeof window>`u`||window.document===void 0||window.document.createElement===void 0?d:l;e.useSyncExternalStore=t.useSyncExternalStore===void 0?f:t.useSyncExternalStore})),qe=n(((e,t)=>{t.exports=Ke()}));const Je=(e,t,n,r)=>{let i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,`warn`,`react-i18next::`,!0);tt(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)};var Ye={};const Xe=(e,t,n,r)=>{tt(n)&&Ye[n]||(tt(n)&&(Ye[n]=new Date),Je(e,t,n,r))};var Ze=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off(`initialized`,n)},0),t()};e.on(`initialized`,n)}};const Qe=(e,t,n)=>{e.loadNamespaces(t,Ze(e,n))},$e=(e,t,n,r)=>{if(tt(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Qe(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,Ze(e,r))},et=(e,t,n={})=>!t.languages||!t.languages.length?(Xe(t,`NO_LANGUAGES`,`i18n.languages were undefined or empty`,{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf(`languageChanging`)>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}),tt=e=>typeof e==`string`,nt=e=>typeof e==`object`&&!!e;var rt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,it={"&amp;":`&`,"&#38;":`&`,"&lt;":`<`,"&#60;":`<`,"&gt;":`>`,"&#62;":`>`,"&apos;":`'`,"&#39;":`'`,"&quot;":`"`,"&#34;":`"`,"&nbsp;":` `,"&#160;":` `,"&copy;":`©`,"&#169;":`©`,"&reg;":`®`,"&#174;":`®`,"&hellip;":`…`,"&#8230;":`…`,"&#x2F;":`/`,"&#47;":`/`},at=e=>it[e],ot={bindI18n:`languageChanged`,bindI18nStore:``,transEmptyNodeValue:``,transSupportBasicHtmlNodes:!0,transWrapTextNodes:``,transKeepBasicHtmlNodesFor:[`br`,`strong`,`i`,`p`],useSuspense:!0,unescape:e=>e.replace(rt,at)};const st=(e={})=>{ot={...ot,...e}},ct=()=>ot;var lt;const ut=e=>{lt=e},dt=()=>lt,ft={type:`3rdParty`,init(e){st(e.options.react),ut(e)}};var T=t(r());const pt=(0,T.createContext)();var mt=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}},ht=t(qe()),gt={t:(e,t)=>tt(t)?t:nt(t)&&tt(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,ready:!1},_t=()=>()=>{};const vt=(e,t={})=>{let{i18n:n}=t,{i18n:r,defaultNS:i}=(0,T.useContext)(pt)||{},a=n||r||dt();a&&!a.reportNamespaces&&(a.reportNamespaces=new mt),a||Xe(a,`NO_I18NEXT_INSTANCE`,`useTranslation: You will need to pass in an i18next instance by using initReactI18next`);let o=(0,T.useMemo)(()=>({...ct(),...a?.options?.react,...t}),[a,t]),{useSuspense:s,keyPrefix:c}=o,l=(0,T.useMemo)(()=>{let t=e||i||a?.options?.defaultNS;return tt(t)?[t]:t||[`translation`]},[e,i,a]);a?.reportNamespaces?.addUsedNamespaces?.(l);let u=(0,T.useRef)(0),d=(0,T.useCallback)(e=>{if(!a)return _t;let{bindI18n:t,bindI18nStore:n}=o,r=()=>{u.current+=1,e()};return t&&a.on(t,r),n&&a.store.on(n,r),()=>{t&&t.split(` `).forEach(e=>a.off(e,r)),n&&n.split(` `).forEach(e=>a.store.off(e,r))}},[a,o]),f=(0,T.useRef)(),p=(0,T.useCallback)(()=>{if(!a)return gt;let e=!!(a.isInitialized||a.initializedStoreOnce)&&l.every(e=>et(e,a,o)),n=t.lng||a.language,r=u.current,i=f.current;if(i&&i.ready===e&&i.lng===n&&i.keyPrefix===c&&i.revision===r)return i;let s={t:a.getFixedT(n,o.nsMode===`fallback`?l:l[0],c),ready:e,lng:n,keyPrefix:c,revision:r};return f.current=s,s},[a,l,c,o,t.lng]),[m,h]=(0,T.useState)(0),{t:g,ready:_}=(0,ht.useSyncExternalStore)(d,p,p);(0,T.useEffect)(()=>{if(a&&!_&&!s){let e=()=>h(e=>e+1);t.lng?$e(a,t.lng,l,e):Qe(a,l,e)}},[a,t.lng,l,_,s,m]);let v=a||{},y=(0,T.useRef)(null),b=(0,T.useRef)(),x=e=>{let t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;let n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,`__original`))try{Object.defineProperty(n,`__original`,{value:e,writable:!1,enumerable:!1,configurable:!1})}catch{}return n},ee=(0,T.useMemo)(()=>{let e=v,t=e?.language,n=e;e&&(y.current&&y.current.__original===e&&b.current===t?n=y.current:(n=x(e),y.current=n,b.current=t));let r=[g,n,_];return r.t=g,r.i18n=n,r.ready=_,r},[g,v,_,v.resolvedLanguage,v.language,v.languages]);if(a&&s&&!_)throw new Promise(e=>{let n=()=>e();t.lng?$e(a,t.lng,l,n):Qe(a,l,n)});return ee};var yt=t(a(),1),bt=`theme`;function xt(){return typeof window>`u`?`light`:window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`}function St(){if(typeof window>`u`)return`light`;let e=localStorage.getItem(bt);return e===`light`||e===`dark`?e:xt()}function Ct(e){if(typeof document>`u`)return;let t=document.documentElement;e===`dark`?t.classList.add(`dark`):t.classList.remove(`dark`)}function wt(){let[e,t]=(0,T.useState)(()=>St());return(0,T.useEffect)(()=>{Ct(e)},[e]),{theme:e,toggleTheme:(0,T.useCallback)(()=>{t(e=>{let t=e===`dark`?`light`:`dark`;return localStorage.setItem(bt,t),Ct(t),t})},[])}}var E=t(i(),1);function Tt(e){return e===`dynamic`?`dynamic`:`static`}var Et=Tt(void 0),Dt=(0,T.createContext)(void 0);function Ot(){return`/aion2-interactive-map/`.replace(/\/+$/,``)}function kt(e){return e===`static`?Ot():`/api/v1/export`}function At(e=Et){let t=kt(e),n=Ot();return(e,r)=>{let i=e[0],a=r[0];return a===`common`?`${n}/locales/${i}/${a}.yaml`:`${t}/locales/${i}/${a}.yaml`}}function jt(e){console.log(`updateI18nForMode:`,e);let t=Ft.services.backendConnector?.backend??null;t&&(t.options=t.options||{},t.options.loadPath=At(e)),Ft.reloadResources().catch(e=>console.error(`[useDataMode] reloadResources error:`,e))}function Mt({children:e}){let[t,n]=(0,T.useState)(Et),r=(0,T.useCallback)(e=>{n(e)},[]),i=(0,T.useCallback)(()=>{n(e=>{let t=e===`static`?`dynamic`:`static`;return console.log(`toggleDataMode`,e,`->`,t),t})},[]),a=(0,T.useCallback)(()=>kt(t),[t]),o=(0,T.useCallback)(()=>{jt(t)},[t]);(0,T.useEffect)(()=>{jt(t)},[t]);let s=(0,T.useMemo)(()=>({dataMode:t,setDataMode:r,toggleDataMode:i,getBaseUrl:a,reloadI18n:o}),[t,r,i,a,o]);return(0,E.jsx)(Dt.Provider,{value:s,children:e})}function Nt(){let e=(0,T.useContext)(Dt);if(!e)throw Error(`useDataMode must be used within a DataModeProvider`);return e}const Pt=[`en`,`zh-CN`,`zh-TW`];Le.use(Ie).use(Re).use(ft).init({fallbackLng:`zh-CN`,supportedLngs:Pt,ns:[`common`,`maps`,`types`,`regions`],defaultNS:`common`,detection:{order:[`querystring`,`localStorage`,`navigator`,`htmlTag`],caches:[`localStorage`]},backend:{loadPath:At(),parse:e=>f(e)},interpolation:{escapeValue:!1}});var Ft=Le,It=()=>{let{t:e,i18n:t}=vt(`common`);return(0,E.jsxs)(m,{children:[(0,E.jsx)(v,{children:(0,E.jsx)(C,{isIconOnly:!0,variant:`light`,children:(0,E.jsx)(g,{icon:x,className:`text-lg`})})}),(0,E.jsx)(De,{"aria-label":`Language Selection`,children:Pt.map(n=>(0,E.jsx)(_,{onPress:()=>t.changeLanguage(n),children:e(`language.${n}`)},n))})]})};function Lt(e){return typeof window>`u`?null:new URLSearchParams(window.location.search).get(e)}function Rt(e,t){if(typeof window>`u`)return;let n=new URL(window.location.href),r=n.searchParams;t===null?r.delete(e):r.set(e,t),window.history.replaceState({},``,`${n.pathname}?${r.toString()}`)}var zt=`/aion2-interactive-map/`;function Bt(e){return zt+e.replace(/^\//,``)}function Vt(e,t){return e||=`UI/Resource/Texture/Icon/UT_Marker_Exploration_Hideen.webp`,e.includes(`Light`)&&t.type===`dark`&&(e=e.replace(`Light`,`Dark`)),Bt(e)}var Ht=({onOpenIntroModal:e})=>{let{t}=vt(),{theme:n,toggleTheme:r}=wt(),i=n===`dark`,{dataMode:a,toggleDataMode:o}=Nt(),s=a===`static`;return(0,E.jsxs)(Fe,{maxWidth:`full`,className:`border-b border-default-200 px-4`,children:[(0,E.jsxs)(ne,{className:`flex items-center gap-2 select-none cursor-default`,children:[(0,E.jsx)(`img`,{src:`/aion2-interactive-map/aion2.webp`,alt:`AION2 Logo`,className:`w-8 h-8 object-contain`}),(0,E.jsx)(`span`,{className:`font-semibold text-lg tracking-wide`,children:t(`common:siteTitle`,`AION2 Interactive Map`)})]}),(0,E.jsx)(`div`,{className:`
          absolute left-1/2 top-1/2
          -translate-x-1/2 -translate-y-1/2
          pointer-events-none
          text-sm font-medium text-default-600
        `,children:t(`announcement`,`Welcome to AION2 Interactive Map!`)}),(0,E.jsxs)(y,{justify:`end`,className:`flex items-center gap-1`,children:[(0,E.jsx)(`a`,{href:`https://m.flashkrypton.com/?ch=10004&gameConfigId=286&autoShow=0#/community`,target:`_blank`,children:(0,E.jsx)(`img`,{src:Bt(`images/shanke.webp`),alt:`Banner`,className:`h-10 w-auto object-contain select-none pointer-events-none`})}),(0,E.jsx)(It,{}),(0,E.jsx)(C,{isIconOnly:!0,variant:`light`,onPress:r,children:(0,E.jsx)(g,{icon:i?p:S,className:`text-lg`})}),(0,E.jsx)(C,{isIconOnly:!0,variant:`light`,onPress:o,children:(0,E.jsx)(g,{icon:s?b:ye,className:`text-lg`})}),(0,E.jsx)(C,{isIconOnly:!0,variant:`light`,onPress:e,children:(0,E.jsx)(g,{icon:c,className:`text-lg`})})]})]})},Ut=({maps:e,regions:t,types:n,selectedMapId:r,onMapChange:i,loadingMarkers:a,subtypeCounts:o,completedCounts:c,visibleSubtypes:l,onToggleSubtype:u,visibleRegions:d,onToggleRegion:f,showLabels:p,onToggleShowLabels:m,onShowAllSubtypes:h,onHideAllSubtypes:_,collapsed:v,onToggleCollapsed:y})=>{let b=e.find(e=>e.name===r),x=`regions/${r}`,{t:S}=vt(x);return(0,E.jsxs)(`aside`,{className:`
    relative h-full border-r border-default bg-content1
    transition-all duration-300 flex flex-col space-y-2
    ${v?`w-[0px]`:`w-96 px-2 py-2`}
  `,children:[(0,E.jsx)(`button`,{onClick:y,className:`
      absolute top-1/2 -right-4 transform -translate-y-1/2
      z-20000
      bg-background border border-default shadow-md
      h-8 w-8 rounded-full flex items-center justify-center
      hover:bg-primary hover:text-primary-foreground
      transition-colors
    `,children:(0,E.jsx)(g,{icon:v?be:ee,className:`text-[20px]`})}),!v&&(0,E.jsx)(`div`,{className:`flex-1 overflow-y-auto space-y-2 scrollbar-hide`,children:(0,E.jsxs)(he,{variant:`shadow`,selectionMode:`multiple`,defaultExpandedKeys:[`maps`,`types`],itemClasses:{base:`bg-content1`,title:`text-sm font-semibold`,content:`pt-2 space-y-2`},children:[(0,E.jsx)(s,{"aria-label":`Maps`,title:S(`common:menu.maps`),children:(0,E.jsxs)(`div`,{className:`grid grid-cols-2 gap-2`,children:[e.map(e=>{let t=e.name===r;return(0,E.jsx)(C,{size:`sm`,variant:t?`flat`:`light`,onPress:()=>i(e.name),className:[`flex items-center justify-between text-xs px-2 py-1 rounded border transition-colors h-auto w-full`,t?`bg-default-100 border-default-300`:`bg-content1 border-default-200 opacity-60 hover:opacity-80`].join(` `),children:(0,E.jsx)(`span`,{className:`truncate text-left`,children:S(`maps:${e.name}.name`,e.name)})},e.name)}),e.length===0&&(0,E.jsx)(`p`,{className:`text-xs text-default-500`,children:`No maps loaded.`})]})},`maps`),b?(0,E.jsxs)(s,{"aria-label":`Marker Types`,title:S(`common:menu.markerTypes`,`Marker Types`),children:[a&&(0,E.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-default-500 mb-2`,children:[(0,E.jsx)(te,{size:`sm`}),(0,E.jsx)(`span`,{children:S(`common:loadingMarkers`,`Loading markers…`)})]}),(0,E.jsxs)(`div`,{className:`flex items-center justify-start gap-2 pb-2`,children:[(0,E.jsx)(C,{size:`sm`,variant:`light`,onPress:h,children:S(`common:menu.showAllMarkers`,`Show all`)}),(0,E.jsx)(C,{size:`sm`,variant:`light`,onPress:_,children:S(`common:menu.hideAllMarkers`,`Hide all`)})]}),(0,E.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[n.filter(e=>e.subtypes.length>0).map(e=>(0,E.jsxs)(`div`,{className:`rounded-lg border border-default-200 bg-content2/60`,children:[(0,E.jsx)(`div`,{className:`flex items-center justify-between px-3 py-2 border-b border-default-200`,children:(0,E.jsxs)(`div`,{className:`flex items-center gap-2 min-w-0`,children:[e.icon&&b&&(0,E.jsx)(`div`,{className:`relative w-5 h-5 overflow-visible flex items-center justify-center`,children:(0,E.jsx)(`img`,{src:Vt(e.icon,b),alt:``,className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-contain pointer-events-none`,style:{width:20,height:20}})}),(0,E.jsx)(`span`,{className:`text-xs font-semibold truncate`,children:S(`types:categories.${e.name}.name`,e.name)})]})}),(0,E.jsx)(`div`,{className:`grid grid-cols-2 gap-1 p-2`,children:e.subtypes.map(t=>{let n=t.name,r=o.get(n)??0,i=c.get(n)??0,a=l.has(n),s=t.canComplete===!0,d=t.icon||e.icon||``,f=(t.iconScale||1)*20;return(0,E.jsxs)(C,{size:`sm`,variant:a?`flat`:`light`,onPress:()=>u(t.name),className:[`flex items-center justify-between text-xs px-2 py-1 rounded border transition-colors h-auto w-full`,a?`bg-default-100 border-default-300`:`bg-content1 border-default-200 opacity-60 hover:opacity-80`].join(` `),children:[(0,E.jsxs)(`span`,{className:`flex items-center gap-1 min-w-0`,children:[d&&b&&(0,E.jsx)(`div`,{className:`relative w-5 h-5 overflow-visible flex items-center justify-center`,children:(0,E.jsx)(`img`,{src:Vt(d,b),alt:``,className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-contain pointer-events-none`,style:{width:f,height:f}})}),(0,E.jsx)(`span`,{className:`truncate text-left`,children:S(`types:subtypes.${t.name}.name`,t.name)})]}),(0,E.jsx)(`span`,{className:`text-[12px] text-default-500 ml-2`,children:s?`${i}/${r}`:r})]},t.name)})})]},e.name)),n.length===0&&!a&&(0,E.jsx)(`p`,{className:`text-xs text-default-500`,children:S(`common:noMarkerTypes`,`No marker types loaded.`)})]}),(0,E.jsx)(`div`,{className:`mt-3 flex items-center justify-between`,children:(0,E.jsx)(le,{size:`sm`,isSelected:p,onValueChange:m,children:(0,E.jsx)(`span`,{className:`text-xs text-default-600`,children:S(`common:menu.showNamesOnPins`,`Show names on pins`)})})})]},`types`):null,b?(0,E.jsxs)(s,{"aria-label":`Regions`,title:S(`common:menu.regions`),children:[(0,E.jsx)(`div`,{className:`flex items-center justify-start gap-2 pb-2`,children:`Testing feature ...`}),(0,E.jsx)(`div`,{className:`grid grid-cols-2 gap-2 p-1.5`,children:t.map(e=>{let t=d.has(e.name);return(0,E.jsx)(C,{size:`sm`,variant:t?`flat`:`light`,onPress:()=>f(e.name),className:[`flex items-center justify-between text-xs px-2 py-1 rounded border transition-colors h-auto`,t?`bg-default-100 border-default-300`:`bg-content1 border-default-200 opacity-60 hover:opacity-80`].join(` `),children:(0,E.jsx)(`span`,{className:`flex items-center gap-1 min-w-0`,children:(0,E.jsx)(`span`,{className:`truncate text-left`,children:S(`${x}:${e.name}.name`,e.name)})})},e.name)})})]},`regions`):null]})})]})},Wt=t(o(),1),Gt=t(We(),1);function Kt(e){return!e||/^https?:\/\//i.test(e)?e:`/aion2-interactive-map/${e.replace(/^\/+/,``)}`}function qt(e){return!e||!Array.isArray(e)?[]:e.map(e=>Kt(e))}function Jt(e){return Object.prototype.toString.call(e)===`[object Object]`}function Yt(e){return Jt(e)||Array.isArray(e)}function Xt(){return!!(typeof window<`u`&&window.document&&window.document.createElement)}function Zt(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||JSON.stringify(Object.keys(e.breakpoints||{}))!==JSON.stringify(Object.keys(t.breakpoints||{}))?!1:n.every(n=>{let r=e[n],i=t[n];return typeof r==`function`?`${r}`==`${i}`:!Yt(r)||!Yt(i)?r===i:Zt(r,i)})}function Qt(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function $t(e,t){if(e.length!==t.length)return!1;let n=Qt(e),r=Qt(t);return n.every((e,t)=>{let n=r[t];return Zt(e,n)})}function en(e={},t=[]){let n=(0,T.useRef)(e),r=(0,T.useRef)(t),[i,a]=(0,T.useState)(),[o,s]=(0,T.useState)(),c=(0,T.useCallback)(()=>{i&&i.reInit(n.current,r.current)},[i]);return(0,T.useEffect)(()=>{Zt(n.current,e)||(n.current=e,c())},[e,c]),(0,T.useEffect)(()=>{$t(r.current,t)||(r.current=t,c())},[t,c]),(0,T.useEffect)(()=>{if(Xt()&&o){ie.globalOptions=en.globalOptions;let e=ie(o,n.current,r.current);return a(e),()=>e.destroy()}else a(void 0)},[o,a]),[s,i]}en.globalOptions=void 0;var tn=({images:e,selectedIndex:t,onSelect:n,options:r,className:i=``})=>{let[a,o]=en({dragFree:!0,containScroll:`trimSnaps`,slidesToScroll:`auto`,...r});return(0,T.useEffect)(()=>{o&&o.scrollTo(t,!0)},[o,t]),(0,E.jsx)(`section`,{className:[`embla-thumbs`,i].join(` `),children:(0,E.jsx)(`div`,{className:`embla-thumbs__viewport`,ref:a,children:(0,E.jsx)(`div`,{className:`embla-thumbs__container`,children:e.map((e,r)=>(0,E.jsx)(`button`,{type:`button`,className:[`embla-thumbs__slide`,r===t?`embla-thumbs__slide--selected`:``].filter(Boolean).join(` `),onClick:()=>n(r),children:(0,E.jsx)(`img`,{src:e,alt:``,loading:`lazy`,className:`embla-thumbs__img`})},r))})})})};const nn=({selected:e=!1,className:t=``,...n})=>(0,E.jsx)(`button`,{type:`button`,className:[`embla__dot`,e?`embla__dot--selected`:``,t].filter(Boolean).join(` `),...n}),rn=e=>{let[t,n]=(0,T.useState)(!0),[r,i]=(0,T.useState)(!0),a=(0,T.useCallback)(()=>{e&&e.scrollPrev()},[e]),o=(0,T.useCallback)(()=>{e&&e.scrollNext()},[e]),s=(0,T.useCallback)(e=>{n(!e.canScrollPrev()),i(!e.canScrollNext())},[]);return(0,T.useEffect)(()=>{if(e)return s(e),e.on(`reInit`,s).on(`select`,s),()=>{e.off(`reInit`,s).off(`select`,s)}},[e,s]),{prevBtnDisabled:t,nextBtnDisabled:r,onPrevButtonClick:a,onNextButtonClick:o}},an=e=>{let{children:t,...n}=e;return(0,E.jsxs)(`button`,{className:`embla__button embla__button--prev`,type:`button`,...n,children:[(0,E.jsx)(`svg`,{className:`embla__button__svg`,viewBox:`0 0 532 532`,children:(0,E.jsx)(`path`,{fill:`currentColor`,d:`M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z`})}),t]})},on=e=>{let{children:t,...n}=e;return(0,E.jsxs)(`button`,{className:`embla__button embla__button--next`,type:`button`,...n,children:[(0,E.jsx)(`svg`,{className:`embla__button__svg`,viewBox:`0 0 532 532`,children:(0,E.jsx)(`path`,{fill:`currentColor`,d:`M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z`})}),t]})};var sn=({images:e,selectedIndex:t,onSelect:n,options:r,className:i=``})=>{let[a,o]=en({loop:!0,...r}),[s,c]=(0,T.useState)([]),l=e.length>1,{prevBtnDisabled:u,nextBtnDisabled:d,onPrevButtonClick:f,onNextButtonClick:p}=rn(o);(0,T.useEffect)(()=>{if(!o)return;let e=e=>{n(e.selectedScrollSnap())},t=t=>{c(t.scrollSnapList()),e(t)};return c(o.scrollSnapList()),e(o),o.on(`select`,e),o.on(`reInit`,t),()=>{o.off(`select`,e),o.off(`reInit`,t)}},[o,n]),(0,T.useEffect)(()=>{o&&o.scrollTo(t,!1)},[o,t]);let m=(0,T.useCallback)(e=>{o&&o.scrollTo(e)},[o]);return(0,E.jsxs)(`div`,{className:`embla-frame-wrapper`,children:[l&&(0,E.jsx)(an,{className:`embla-nav-button__prev`,onClick:f,disabled:u}),(0,E.jsxs)(`section`,{className:[`embla embla--gallery`,i].join(` `),children:[(0,E.jsx)(`div`,{className:`embla__viewport`,ref:a,children:(0,E.jsx)(`div`,{className:`embla__container`,children:e.map((e,t)=>(0,E.jsx)(`div`,{className:`embla__slide`,children:(0,E.jsx)(`div`,{className:`embla__slide__inner`,children:(0,E.jsx)(`img`,{src:e,alt:``,className:`embla__slide__img`})})},t))})}),l&&(0,E.jsx)(`div`,{className:`embla__dots`,children:s.map((e,n)=>(0,E.jsx)(nn,{onClick:()=>m(n),selected:n===t},n))})]}),l&&(0,E.jsx)(on,{className:`embla-nav-button__next`,onClick:p,disabled:d})]})},cn=({name:e,categoryLabel:t,subtypeLabel:n,x:r,y:i,images:a,description:o,canComplete:s,completed:c,onToggleCompleted:u})=>{let{t:d}=vt(),[f,p]=(0,T.useState)(!1),[m,h]=(0,T.useState)(0),g=a&&a.length>0,_=qt(a);return(0,E.jsxs)(ce,{className:`
      min-w-[260px] max-w-[360px]
      p-3 space-y-2 text-xs leading-snug
      bg-content1 text-foreground
    `,radius:`sm`,children:[(0,E.jsx)(`h3`,{className:`text-sm font-semibold`,children:e}),(0,E.jsxs)(`p`,{className:`text-[11px] text-default-500`,children:[t,` / `,n,` `,(0,E.jsxs)(`span`,{className:`opacity-80`,children:[`(`,r.toFixed(0),`, `,i.toFixed(0),`)`]})]}),g&&(0,E.jsx)(`div`,{className:`w-full h-28 rounded-md bg-black/10 dark:bg-white/10`,children:(0,E.jsx)(tn,{images:_,selectedIndex:m,onSelect:e=>{h(e),p(!0)}})}),(0,E.jsx)(`div`,{className:`pt-1 border-t border-default-200`,children:(0,E.jsx)(`p`,{className:`text-[11px] text-default-600`,children:o})}),s&&(0,E.jsx)(`div`,{className:`pt-1`,children:(0,E.jsx)(C,{size:`sm`,variant:`flat`,color:c?`success`:`primary`,onPress:u,children:c?d(`common:markerActions:markNotCompleted`,`Completed`):d(`common:markerActions:markCompleted`,`Mark as completed`)})}),(0,E.jsx)(l,{isOpen:f,onOpenChange:e=>p(e),size:`5xl`,backdrop:`blur`,placement:`center`,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:`z-[9999]`,base:`bg-transparent shadow-none`},children:(0,E.jsx)(ae,{children:()=>(0,E.jsx)(se,{className:`p-0 flex items-center justify-center`,children:(0,E.jsxs)(`div`,{className:`relative w-[90vw] max-w-5xl h-[80vh] bg-black/60 dark:bg-black/70 rounded-xl overflow-hidden backdrop-blur-md p-4`,children:[(0,E.jsx)(`button`,{type:`button`,onClick:()=>p(!1),className:`
      absolute top-3 right-3 z-20
      inline-flex h-8 w-8 items-center justify-center
      rounded-full
      bg-black/60 text-white
      hover:bg-black/80
      dark:bg-white/80 dark:text-black dark:hover:bg-white
      shadow-md
    `,"aria-label":`Close gallery`,children:`✕`}),(0,E.jsx)(sn,{images:_,selectedIndex:m,onSelect:h})]})})})})]})};function ln(e,t){return Vt(e?.icon||``,t)}function un(e,t,n){let r=40*t,i=(0,Wt.renderToString)((0,E.jsxs)(`div`,{style:{position:`relative`,width:`40px`,height:`40px`,display:`flex`,alignItems:`center`,justifyContent:`center`,opacity:n?.4:1},children:[(0,E.jsx)(`img`,{src:e,alt:``,style:{width:`${r}px`,height:`${r}px`,objectFit:`contain`,pointerEvents:`none`,zIndex:1e3}}),n&&(0,E.jsx)(g,{icon:d,style:{position:`absolute`,fontSize:`12px`,right:`-2px`,bottom:`-2px`,color:`#22c55e`}})]}));return Gt.default.divIcon({html:i,className:``,iconSize:[40,40],iconAnchor:[40/2,40/2],popupAnchor:[0,-10]})}var dn=(0,T.memo)(({map:e,marker:t,types:n,subtypes:r,showLabel:i,completedSet:a,toggleMarkerCompleted:o})=>{let s=`markers/${e.name}`,{t:c}=vt(s),l=`${s}:${t.id}`,u=r.get(t.subtype),d=c(`types:categories.${n.find(e=>e.name===u?.category)?.name}.name`),f=c(`types:subtypes.${u?.name}.name`),p=u?.iconScale||1,m=!!u?.canComplete,h=!!u?.hideTooltip,g=t.id,_=a.has(g),v=un(ln(u,e),p,_),y=c(`${l}.name`,``);y||=f;let b=c(`${l}.description`,`No description available yet.`);return(0,E.jsxs)(Ue,{position:new Gt.default.LatLng(t.y,t.x),icon:v,children:[i&&!h&&(0,E.jsx)(Ge,{permanent:!0,direction:`top`,offset:[0,-15],className:`game-marker-tooltip`,children:y}),(0,E.jsx)(Ve,{maxWidth:360,minWidth:360,autoPan:!0,closeButton:!1,children:(0,E.jsx)(cn,{name:y,categoryLabel:d,subtypeLabel:f,x:t.x,y:t.y,images:t.images,description:b,canComplete:m,completed:_,onToggleCompleted:()=>o(t)})})]})}),fn=t(We(),1),pn=class extends fn.default.TileLayer{constructor(e){e.tileSize=e.selectedMap.tileWidth,super(``,e),this.gameOptions=e}getTileUrl(e){let{selectedMap:t,isWatermark:n}=this.gameOptions,r=e.x,i=t.tilesCountY+e.y;if(r<0||i<0||r>=t.tilesCountX||i>=t.tilesCountY)return``;if(n)return Bt(`images/watermark.webp`);let a=String(r).padStart(2,`0`),o=String(i).padStart(2,`0`);return Bt(`UI/Map/WorldMap/${t.name}/Res/${t.name}_${a}_${o}.webp`)}},mn=({selectedMap:e})=>{let t=ze();return(0,T.useEffect)(()=>{console.log(`[GameMapTiles] useEffect mount`,{selectedMap:e,map:t});let n=new pn({selectedMap:e,noWrap:!0,minZoom:t.getMinZoom(),maxZoom:t.getMaxZoom(),maxNativeZoom:0,minNativeZoom:0});n.addTo(t);let r=new pn({selectedMap:e,isWatermark:!0,noWrap:!0,minZoom:t.getMinZoom(),maxZoom:t.getMaxZoom(),maxNativeZoom:0,minNativeZoom:0,opacity:.15});return r.addTo(t),()=>{console.log(`[GameMapTiles] useEffect cleanup`),t.removeLayer(n),t.removeLayer(r)}},[t,e]),null},hn=t(We(),1),gn=({onUpdate:e})=>(He({mousemove(t){let{lat:n,lng:r}=t.latlng;e(r,n)}}),null),_n=({onOpenMenu:e,onCloseMenu:t})=>{let n=He({contextmenu(t){t.originalEvent.preventDefault();let r=t.latlng.lng,i=t.latlng.lat,a=n.latLngToContainerPoint(t.latlng);e({x:a.x,y:a.y,mapX:r,mapY:i})},click(){t()},movestart(){t()},zoomstart(){t()}});return null},vn=({selectedMap:e,markers:t,mapRef:n,visibleSubtypes:r,types:i,subtypes:a,showLabels:o,completedSet:s,toggleMarkerCompleted:c})=>{let[l,u]=(0,T.useState)(null),[d,f]=(0,T.useState)(null),p=(0,T.useCallback)((e,t)=>{let n=`${Math.round(e)}, ${Math.round(t)}`;typeof navigator<`u`&&navigator.clipboard?.writeText?navigator.clipboard.writeText(n).catch(e=>console.error(`Clipboard error`,e)):console.log(`Copied position:`,n)},[]);if(!e)return(0,E.jsx)(`div`,{className:`flex-1 flex items-center justify-center text-sm text-default-500`,children:`No map selected.`});let m=e.tileWidth*e.tilesCountX,h=e.tileHeight*e.tilesCountY,g=[[0,0],[h,m]];return(0,E.jsxs)(`div`,{className:`flex-1 relative`,onClick:()=>f(null),children:[(0,E.jsxs)(Be,{center:[h/2,m/2],bounds:g,zoom:0,minZoom:-3,maxZoom:2,zoomSnap:.25,zoomDelta:.25,crs:hn.default.CRS.Simple,className:`w-full h-full`,attributionControl:!1,ref:n,children:[(0,E.jsx)(gn,{onUpdate:(e,t)=>{u({x:e,y:t})}}),(0,E.jsx)(_n,{onOpenMenu:e=>f(e),onCloseMenu:()=>f(null)}),(0,E.jsx)(mn,{selectedMap:e}),t.filter(e=>r.has(e.subtype)).map(t=>(0,E.jsx)(dn,{map:e,marker:t,types:i,subtypes:a,showLabel:o,completedSet:s,toggleMarkerCompleted:c},t.id))]},e.id),l&&(0,E.jsxs)(`div`,{className:`absolute bottom-3 left-3 z-[1000] rounded bg-black/80 text-white text-sm px-3 py-1.5 pointer-events-none shadow-lg backdrop-blur-sm`,children:[`x: `,l.x.toFixed(0),`, y: `,l.y.toFixed(0)]}),d&&(0,E.jsx)(`div`,{className:`absolute z-[5000]`,style:{left:d.x,top:d.y},onClick:e=>e.stopPropagation(),children:(0,E.jsx)(`div`,{className:`min-w-[190px] rounded-md border border-default-200 bg-content1 shadow-lg text-sm py-1`,children:(0,E.jsxs)(`button`,{type:`button`,className:`w-full px-3 py-1.5 text-left hover:bg-default-100`,onClick:e=>{e.stopPropagation(),p(d.mapX,d.mapY),f(null)},children:[`Copy position (`,Math.round(d.mapX),`,`,` `,Math.round(d.mapY),`)`]})})})]})},yn;function D(){return yn.apply(null,arguments)}function bn(e){yn=e}function O(e){return e instanceof Array||Object.prototype.toString.call(e)===`[object Array]`}function xn(e){return e!=null&&Object.prototype.toString.call(e)===`[object Object]`}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sn(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;for(var t in e)if(k(e,t))return!1;return!0}function A(e){return e===void 0}function Cn(e){return typeof e==`number`||Object.prototype.toString.call(e)===`[object Number]`}function wn(e){return e instanceof Date||Object.prototype.toString.call(e)===`[object Date]`}function Tn(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function En(e,t){for(var n in t)k(t,n)&&(e[n]=t[n]);return k(t,`toString`)&&(e.toString=t.toString),k(t,`valueOf`)&&(e.valueOf=t.valueOf),e}function Dn(e,t,n,r){return Ua(e,t,n,r,!0).utc()}function On(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function j(e){return e._pf??=On(),e._pf}var kn=Array.prototype.some?Array.prototype.some:function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function An(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=j(e),n=kn.call(t.parsedDateParts,function(e){return e!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function jn(e){var t=Dn(NaN);return e==null?j(t).userInvalidated=!0:En(j(t),e),t}var Mn=D.momentProperties=[],Nn=!1;function Pn(e,t){var n,r,i,a=Mn.length;if(A(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),A(t._i)||(e._i=t._i),A(t._f)||(e._f=t._f),A(t._l)||(e._l=t._l),A(t._strict)||(e._strict=t._strict),A(t._tzm)||(e._tzm=t._tzm),A(t._isUTC)||(e._isUTC=t._isUTC),A(t._offset)||(e._offset=t._offset),A(t._pf)||(e._pf=j(t)),A(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)r=Mn[n],i=t[r],A(i)||(e[r]=i);return e}function Fn(e){Pn(this,e),this._d=new Date(e._d==null?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),Nn===!1&&(Nn=!0,D.updateOffset(this),Nn=!1)}function M(e){return e instanceof Fn||e!=null&&e._isAMomentObject!=null}function In(e){D.suppressDeprecationWarnings===!1&&typeof console<`u`&&console.warn&&console.warn(`Deprecation warning: `+e)}function N(e,t){var n=!0;return En(function(){if(D.deprecationHandler!=null&&D.deprecationHandler(null,e),n){var r=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i=``,typeof arguments[a]==`object`){for(o in i+=`
[`+a+`] `,arguments[0])k(arguments[0],o)&&(i+=o+`: `+arguments[0][o]+`, `);i=i.slice(0,-2)}else i=arguments[a];r.push(i)}In(e+`
Arguments: `+Array.prototype.slice.call(r).join(``)+`
`+Error().stack),n=!1}return t.apply(this,arguments)},t)}var Ln={};function Rn(e,t){D.deprecationHandler!=null&&D.deprecationHandler(e,t),Ln[e]||(In(t),Ln[e]=!0)}D.suppressDeprecationWarnings=!1,D.deprecationHandler=null;function zn(e){return typeof Function<`u`&&e instanceof Function||Object.prototype.toString.call(e)===`[object Function]`}function Bn(e){var t,n;for(n in e)k(e,n)&&(t=e[n],zn(t)?this[n]=t:this[`_`+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+`|\\d{1,2}`)}function Vn(e,t){var n=En({},e),r;for(r in t)k(t,r)&&(xn(e[r])&&xn(t[r])?(n[r]={},En(n[r],e[r]),En(n[r],t[r])):t[r]==null?delete n[r]:n[r]=t[r]);for(r in e)k(e,r)&&!k(t,r)&&xn(e[r])&&(n[r]=En({},n[r]));return n}function Hn(e){e!=null&&this.set(e)}var Un=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)k(e,t)&&n.push(t);return n},Wn={sameDay:`[Today at] LT`,nextDay:`[Tomorrow at] LT`,nextWeek:`dddd [at] LT`,lastDay:`[Yesterday at] LT`,lastWeek:`[Last] dddd [at] LT`,sameElse:`L`};function Gn(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return zn(r)?r.call(t,n):r}function P(e,t,n){var r=``+Math.abs(e),i=t-r.length;return(e>=0?n?`+`:``:`-`)+(10**Math.max(0,i)).toString().substr(1)+r}var Kn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Jn={},Yn={};function F(e,t,n,r){var i=r;typeof r==`string`&&(i=function(){return this[r]()}),e&&(Yn[e]=i),t&&(Yn[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(Yn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Xn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,``):e.replace(/\\/g,``)}function Zn(e){var t=e.match(Kn),n,r;for(n=0,r=t.length;n<r;n++)Yn[t[n]]?t[n]=Yn[t[n]]:t[n]=Xn(t[n]);return function(n){var i=``,a;for(a=0;a<r;a++)i+=zn(t[a])?t[a].call(n,e):t[a];return i}}function Qn(e,t){return e.isValid()?(t=$n(t,e.localeData()),Jn[t]=Jn[t]||Zn(t),Jn[t](e)):e.localeData().invalidDate()}function $n(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(qn.lastIndex=0;n>=0&&qn.test(e);)e=e.replace(qn,r),qn.lastIndex=0,--n;return e}var er={LTS:`h:mm:ss A`,LT:`h:mm A`,L:`MM/DD/YYYY`,LL:`MMMM D, YYYY`,LLL:`MMMM D, YYYY h:mm A`,LLLL:`dddd, MMMM D, YYYY h:mm A`};function tr(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Kn).map(function(e){return e===`MMMM`||e===`MM`||e===`DD`||e===`dddd`?e.slice(1):e}).join(``),this._longDateFormat[e])}var nr=`Invalid date`;function rr(){return this._invalidDate}var ir=`%d`,ar=/\d{1,2}/;function or(e){return this._ordinal.replace(`%d`,e)}var sr={future:`in %s`,past:`%s ago`,s:`a few seconds`,ss:`%d seconds`,m:`a minute`,mm:`%d minutes`,h:`an hour`,hh:`%d hours`,d:`a day`,dd:`%d days`,w:`a week`,ww:`%d weeks`,M:`a month`,MM:`%d months`,y:`a year`,yy:`%d years`};function cr(e,t,n,r){var i=this._relativeTime[n];return zn(i)?i(e,t,n,r):i.replace(/%d/i,e)}function lr(e,t){var n=this._relativeTime[e>0?`future`:`past`];return zn(n)?n(t):n.replace(/%s/i,t)}var ur={D:`date`,dates:`date`,date:`date`,d:`day`,days:`day`,day:`day`,e:`weekday`,weekdays:`weekday`,weekday:`weekday`,E:`isoWeekday`,isoweekdays:`isoWeekday`,isoweekday:`isoWeekday`,DDD:`dayOfYear`,dayofyears:`dayOfYear`,dayofyear:`dayOfYear`,h:`hour`,hours:`hour`,hour:`hour`,ms:`millisecond`,milliseconds:`millisecond`,millisecond:`millisecond`,m:`minute`,minutes:`minute`,minute:`minute`,M:`month`,months:`month`,month:`month`,Q:`quarter`,quarters:`quarter`,quarter:`quarter`,s:`second`,seconds:`second`,second:`second`,gg:`weekYear`,weekyears:`weekYear`,weekyear:`weekYear`,GG:`isoWeekYear`,isoweekyears:`isoWeekYear`,isoweekyear:`isoWeekYear`,w:`week`,weeks:`week`,week:`week`,W:`isoWeek`,isoweeks:`isoWeek`,isoweek:`isoWeek`,y:`year`,years:`year`,year:`year`};function I(e){return typeof e==`string`?ur[e]||ur[e.toLowerCase()]:void 0}function dr(e){var t={},n,r;for(r in e)k(e,r)&&(n=I(r),n&&(t[n]=e[r]));return t}var fr={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function pr(e){var t=[],n;for(n in e)k(e,n)&&t.push({unit:n,priority:fr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}var mr=/\d/,L=/\d\d/,hr=/\d{3}/,gr=/\d{4}/,_r=/[+-]?\d{6}/,R=/\d\d?/,vr=/\d\d\d\d?/,yr=/\d\d\d\d\d\d?/,br=/\d{1,3}/,xr=/\d{1,4}/,Sr=/[+-]?\d{1,6}/,Cr=/\d+/,wr=/[+-]?\d+/,Tr=/Z|[+-]\d\d:?\d\d/gi,Er=/Z|[+-]\d\d(?::?\d\d)?/gi,Dr=/[+-]?\d+(\.\d{1,3})?/,Or=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,kr=/^[1-9]\d?/,Ar=/^([1-9]\d|\d)/,jr={};function z(e,t,n){jr[e]=zn(t)?t:function(e,r){return e&&n?n:t}}function Mr(e,t){return k(jr,e)?jr[e](t._strict,t._locale):new RegExp(Nr(e))}function Nr(e){return Pr(e.replace(`\\`,``).replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Pr(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,`\\$&`)}function B(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=B(t)),n}var Fr={};function H(e,t){var n,r=t,i;for(typeof e==`string`&&(e=[e]),Cn(t)&&(r=function(e,n){n[t]=V(e)}),i=e.length,n=0;n<i;n++)Fr[e[n]]=r}function Ir(e,t){H(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Lr(e,t,n){t!=null&&k(Fr,e)&&Fr[e](t,n._a,n,e)}function Rr(e){return e%4==0&&e%100!=0||e%400==0}var U=0,zr=1,W=2,G=3,K=4,Br=5,Vr=6,Hr=7,Ur=8;F(`Y`,0,0,function(){var e=this.year();return e<=9999?P(e,4):`+`+e}),F(0,[`YY`,2],0,function(){return this.year()%100}),F(0,[`YYYY`,4],0,`year`),F(0,[`YYYYY`,5],0,`year`),F(0,[`YYYYYY`,6,!0],0,`year`),z(`Y`,wr),z(`YY`,R,L),z(`YYYY`,xr,gr),z(`YYYYY`,Sr,_r),z(`YYYYYY`,Sr,_r),H([`YYYYY`,`YYYYYY`],U),H(`YYYY`,function(e,t){t[U]=e.length===2?D.parseTwoDigitYear(e):V(e)}),H(`YY`,function(e,t){t[U]=D.parseTwoDigitYear(e)}),H(`Y`,function(e,t){t[U]=parseInt(e,10)});function Wr(e){return Rr(e)?366:365}D.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var Gr=qr(`FullYear`,!0);function Kr(){return Rr(this.year())}function qr(e,t){return function(n){return n==null?Jr(this,e):(Yr(this,e,n),D.updateOffset(this,t),this)}}function Jr(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case`Milliseconds`:return r?n.getUTCMilliseconds():n.getMilliseconds();case`Seconds`:return r?n.getUTCSeconds():n.getSeconds();case`Minutes`:return r?n.getUTCMinutes():n.getMinutes();case`Hours`:return r?n.getUTCHours():n.getHours();case`Date`:return r?n.getUTCDate():n.getDate();case`Day`:return r?n.getUTCDay():n.getDay();case`Month`:return r?n.getUTCMonth():n.getMonth();case`FullYear`:return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Yr(e,t,n){var r,i,a,o,s;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case`Milliseconds`:i?r.setUTCMilliseconds(n):r.setMilliseconds(n);return;case`Seconds`:i?r.setUTCSeconds(n):r.setSeconds(n);return;case`Minutes`:i?r.setUTCMinutes(n):r.setMinutes(n);return;case`Hours`:i?r.setUTCHours(n):r.setHours(n);return;case`Date`:i?r.setUTCDate(n):r.setDate(n);return;case`FullYear`:break;default:return}a=n,o=e.month(),s=e.date(),s=s===29&&o===1&&!Rr(a)?28:s,i?r.setUTCFullYear(a,o,s):r.setFullYear(a,o,s)}}function Xr(e){return e=I(e),zn(this[e])?this[e]():this}function Zr(e,t){if(typeof e==`object`){e=dr(e);var n=pr(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=I(e),zn(this[e]))return this[e](t);return this}function Qr(e,t){return(e%t+t)%t}var q=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function $r(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Qr(t,12);return e+=(t-n)/12,n===1?Rr(e)?29:28:31-n%7%2}F(`M`,[`MM`,2],`Mo`,function(){return this.month()+1}),F(`MMM`,0,0,function(e){return this.localeData().monthsShort(this,e)}),F(`MMMM`,0,0,function(e){return this.localeData().months(this,e)}),z(`M`,R,kr),z(`MM`,R,L),z(`MMM`,function(e,t){return t.monthsShortRegex(e)}),z(`MMMM`,function(e,t){return t.monthsRegex(e)}),H([`M`,`MM`],function(e,t){t[zr]=V(e)-1}),H([`MMM`,`MMMM`],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i==null?j(n).invalidMonth=e:t[zr]=i});var ei=`January_February_March_April_May_June_July_August_September_October_November_December`.split(`_`),ti=`Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec`.split(`_`),ni=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ri=Or,ii=Or;function ai(e,t){return e?O(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ni).test(t)?`format`:`standalone`][e.month()]:O(this._months)?this._months:this._months.standalone}function oi(e,t){return e?O(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ni.test(t)?`format`:`standalone`][e.month()]:O(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function si(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=Dn([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,``).toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,``).toLocaleLowerCase();return n?t===`MMM`?(i=q.call(this._shortMonthsParse,o),i===-1?null:i):(i=q.call(this._longMonthsParse,o),i===-1?null:i):t===`MMM`?(i=q.call(this._shortMonthsParse,o),i===-1?(i=q.call(this._longMonthsParse,o),i===-1?null:i):i):(i=q.call(this._longMonthsParse,o),i===-1?(i=q.call(this._shortMonthsParse,o),i===-1?null:i):i)}function ci(e,t,n){var r,i,a;if(this._monthsParseExact)return si.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if(i=Dn([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=RegExp(`^`+this.months(i,``).replace(`.`,``)+`$`,`i`),this._shortMonthsParse[r]=RegExp(`^`+this.monthsShort(i,``).replace(`.`,``)+`$`,`i`)),!n&&!this._monthsParse[r]&&(a=`^`+this.months(i,``)+`|^`+this.monthsShort(i,``),this._monthsParse[r]=new RegExp(a.replace(`.`,``),`i`)),n&&t===`MMMM`&&this._longMonthsParse[r].test(e)||n&&t===`MMM`&&this._shortMonthsParse[r].test(e)||!n&&this._monthsParse[r].test(e))return r}function li(e,t){if(!e.isValid())return e;if(typeof t==`string`){if(/^\d+$/.test(t))t=V(t);else if(t=e.localeData().monthsParse(t),!Cn(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,$r(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ui(e){return e==null?Jr(this,`Month`):(li(this,e),D.updateOffset(this,!0),this)}function di(){return $r(this.year(),this.month())}function fi(e){return this._monthsParseExact?(k(this,`_monthsRegex`)||mi.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,`_monthsShortRegex`)||(this._monthsShortRegex=ri),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pi(e){return this._monthsParseExact?(k(this,`_monthsRegex`)||mi.call(this),e?this._monthsStrictRegex:this._monthsRegex):(k(this,`_monthsRegex`)||(this._monthsRegex=ii),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function mi(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],i,a,o,s;for(i=0;i<12;i++)a=Dn([2e3,i]),o=Pr(this.monthsShort(a,``)),s=Pr(this.months(a,``)),t.push(o),n.push(s),r.push(s),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=RegExp(`^(`+r.join(`|`)+`)`,`i`),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=RegExp(`^(`+n.join(`|`)+`)`,`i`),this._monthsShortStrictRegex=RegExp(`^(`+t.join(`|`)+`)`,`i`)}function hi(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function gi(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _i(e,t,n){var r=7+t-n;return-((7+gi(e,0,r).getUTCDay()-t)%7)+r-1}function vi(e,t,n,r,i){var a=(7+n-r)%7,o=_i(e,r,i),s=1+7*(t-1)+a+o,c,l;return s<=0?(c=e-1,l=Wr(c)+s):s>Wr(e)?(c=e+1,l=s-Wr(e)):(c=e,l=s),{year:c,dayOfYear:l}}function yi(e,t,n){var r=_i(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,a,o;return i<1?(o=e.year()-1,a=i+bi(o,t,n)):i>bi(e.year(),t,n)?(a=i-bi(e.year(),t,n),o=e.year()+1):(o=e.year(),a=i),{week:a,year:o}}function bi(e,t,n){var r=_i(e,t,n),i=_i(e+1,t,n);return(Wr(e)-r+i)/7}F(`w`,[`ww`,2],`wo`,`week`),F(`W`,[`WW`,2],`Wo`,`isoWeek`),z(`w`,R,kr),z(`ww`,R,L),z(`W`,R,kr),z(`WW`,R,L),Ir([`w`,`ww`,`W`,`WW`],function(e,t,n,r){t[r.substr(0,1)]=V(e)});function xi(e){return yi(e,this._week.dow,this._week.doy).week}var Si={dow:0,doy:6};function Ci(){return this._week.dow}function wi(){return this._week.doy}function Ti(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,`d`)}function Ei(e){var t=yi(this,1,4).week;return e==null?t:this.add((e-t)*7,`d`)}F(`d`,0,`do`,`day`),F(`dd`,0,0,function(e){return this.localeData().weekdaysMin(this,e)}),F(`ddd`,0,0,function(e){return this.localeData().weekdaysShort(this,e)}),F(`dddd`,0,0,function(e){return this.localeData().weekdays(this,e)}),F(`e`,0,0,`weekday`),F(`E`,0,0,`isoWeekday`),z(`d`,R),z(`e`,R),z(`E`,R),z(`dd`,function(e,t){return t.weekdaysMinRegex(e)}),z(`ddd`,function(e,t){return t.weekdaysShortRegex(e)}),z(`dddd`,function(e,t){return t.weekdaysRegex(e)}),Ir([`dd`,`ddd`,`dddd`],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i==null?j(n).invalidWeekday=e:t.d=i}),Ir([`d`,`e`,`E`],function(e,t,n,r){t[r]=V(e)});function Di(e,t){return typeof e==`string`?isNaN(e)?(e=t.weekdaysParse(e),typeof e==`number`?e:null):parseInt(e,10):e}function Oi(e,t){return typeof e==`string`?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ki(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Ai=`Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday`.split(`_`),ji=`Sun_Mon_Tue_Wed_Thu_Fri_Sat`.split(`_`),Mi=`Su_Mo_Tu_We_Th_Fr_Sa`.split(`_`),Ni=Or,Pi=Or,Fi=Or;function Ii(e,t){var n=O(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?`format`:`standalone`];return e===!0?ki(n,this._week.dow):e?n[e.day()]:n}function Li(e){return e===!0?ki(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ri(e){return e===!0?ki(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zi(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=Dn([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,``).toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,``).toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,``).toLocaleLowerCase();return n?t===`dddd`?(i=q.call(this._weekdaysParse,o),i===-1?null:i):t===`ddd`?(i=q.call(this._shortWeekdaysParse,o),i===-1?null:i):(i=q.call(this._minWeekdaysParse,o),i===-1?null:i):t===`dddd`?(i=q.call(this._weekdaysParse,o),i!==-1||(i=q.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=q.call(this._minWeekdaysParse,o),i===-1?null:i)):t===`ddd`?(i=q.call(this._shortWeekdaysParse,o),i!==-1||(i=q.call(this._weekdaysParse,o),i!==-1)?i:(i=q.call(this._minWeekdaysParse,o),i===-1?null:i)):(i=q.call(this._minWeekdaysParse,o),i!==-1||(i=q.call(this._weekdaysParse,o),i!==-1)?i:(i=q.call(this._shortWeekdaysParse,o),i===-1?null:i))}function Bi(e,t,n){var r,i,a;if(this._weekdaysParseExact)return zi.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if(i=Dn([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=RegExp(`^`+this.weekdays(i,``).replace(`.`,`\\.?`)+`$`,`i`),this._shortWeekdaysParse[r]=RegExp(`^`+this.weekdaysShort(i,``).replace(`.`,`\\.?`)+`$`,`i`),this._minWeekdaysParse[r]=RegExp(`^`+this.weekdaysMin(i,``).replace(`.`,`\\.?`)+`$`,`i`)),this._weekdaysParse[r]||(a=`^`+this.weekdays(i,``)+`|^`+this.weekdaysShort(i,``)+`|^`+this.weekdaysMin(i,``),this._weekdaysParse[r]=new RegExp(a.replace(`.`,``),`i`)),n&&t===`dddd`&&this._fullWeekdaysParse[r].test(e)||n&&t===`ddd`&&this._shortWeekdaysParse[r].test(e)||n&&t===`dd`&&this._minWeekdaysParse[r].test(e)||!n&&this._weekdaysParse[r].test(e))return r}function Vi(e){if(!this.isValid())return e==null?NaN:this;var t=Jr(this,`Day`);return e==null?t:(e=Di(e,this.localeData()),this.add(e-t,`d`))}function Hi(e){if(!this.isValid())return e==null?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,`d`)}function Ui(e){if(!this.isValid())return e==null?NaN:this;if(e!=null){var t=Oi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Wi(e){return this._weekdaysParseExact?(k(this,`_weekdaysRegex`)||qi.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,`_weekdaysRegex`)||(this._weekdaysRegex=Ni),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gi(e){return this._weekdaysParseExact?(k(this,`_weekdaysRegex`)||qi.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,`_weekdaysShortRegex`)||(this._weekdaysShortRegex=Pi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ki(e){return this._weekdaysParseExact?(k(this,`_weekdaysRegex`)||qi.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,`_weekdaysMinRegex`)||(this._weekdaysMinRegex=Fi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qi(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],i=[],a,o,s,c,l;for(a=0;a<7;a++)o=Dn([2e3,1]).day(a),s=Pr(this.weekdaysMin(o,``)),c=Pr(this.weekdaysShort(o,``)),l=Pr(this.weekdays(o,``)),t.push(s),n.push(c),r.push(l),i.push(s),i.push(c),i.push(l);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=RegExp(`^(`+i.join(`|`)+`)`,`i`),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=RegExp(`^(`+r.join(`|`)+`)`,`i`),this._weekdaysShortStrictRegex=RegExp(`^(`+n.join(`|`)+`)`,`i`),this._weekdaysMinStrictRegex=RegExp(`^(`+t.join(`|`)+`)`,`i`)}function Ji(){return this.hours()%12||12}function Yi(){return this.hours()||24}F(`H`,[`HH`,2],0,`hour`),F(`h`,[`hh`,2],0,Ji),F(`k`,[`kk`,2],0,Yi),F(`hmm`,0,0,function(){return``+Ji.apply(this)+P(this.minutes(),2)}),F(`hmmss`,0,0,function(){return``+Ji.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),F(`Hmm`,0,0,function(){return``+this.hours()+P(this.minutes(),2)}),F(`Hmmss`,0,0,function(){return``+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)});function Xi(e,t){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Xi(`a`,!0),Xi(`A`,!1);function Zi(e,t){return t._meridiemParse}z(`a`,Zi),z(`A`,Zi),z(`H`,R,Ar),z(`h`,R,kr),z(`k`,R,kr),z(`HH`,R,L),z(`hh`,R,L),z(`kk`,R,L),z(`hmm`,vr),z(`hmmss`,yr),z(`Hmm`,vr),z(`Hmmss`,yr),H([`H`,`HH`],G),H([`k`,`kk`],function(e,t,n){var r=V(e);t[G]=r===24?0:r}),H([`a`,`A`],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),H([`h`,`hh`],function(e,t,n){t[G]=V(e),j(n).bigHour=!0}),H(`hmm`,function(e,t,n){var r=e.length-2;t[G]=V(e.substr(0,r)),t[K]=V(e.substr(r)),j(n).bigHour=!0}),H(`hmmss`,function(e,t,n){var r=e.length-4,i=e.length-2;t[G]=V(e.substr(0,r)),t[K]=V(e.substr(r,2)),t[Br]=V(e.substr(i)),j(n).bigHour=!0}),H(`Hmm`,function(e,t,n){var r=e.length-2;t[G]=V(e.substr(0,r)),t[K]=V(e.substr(r))}),H(`Hmmss`,function(e,t,n){var r=e.length-4,i=e.length-2;t[G]=V(e.substr(0,r)),t[K]=V(e.substr(r,2)),t[Br]=V(e.substr(i))});function Qi(e){return(e+``).toLowerCase().charAt(0)===`p`}var $i=/[ap]\.?m?\.?/i,ea=qr(`Hours`,!0);function ta(e,t,n){return e>11?n?`pm`:`PM`:n?`am`:`AM`}var na={calendar:Wn,longDateFormat:er,invalidDate:nr,ordinal:ir,dayOfMonthOrdinalParse:ar,relativeTime:sr,months:ei,monthsShort:ti,week:Si,weekdays:Ai,weekdaysMin:Mi,weekdaysShort:ji,meridiemParse:$i},J={},ra={},ia;function aa(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function oa(e){return e&&e.toLowerCase().replace(`_`,`-`)}function sa(e){for(var t=0,n,r,i,a;t<e.length;){for(a=oa(e[t]).split(`-`),n=a.length,r=oa(e[t+1]),r=r?r.split(`-`):null;n>0;){if(i=la(a.slice(0,n).join(`-`)),i)return i;if(r&&r.length>=n&&aa(a,r)>=n-1)break;n--}t++}return ia}function ca(e){return!!(e&&e.match(`^[^/\\\\]*$`))}function la(t){var n=null,r;if(J[t]===void 0&&typeof module<`u`&&module&&module.exports&&ca(t))try{n=ia._abbr,r=e,r(`./locale/`+t),ua(n)}catch{J[t]=null}return J[t]}function ua(e,t){var n;return e&&(n=A(t)?pa(e):da(e,t),n?ia=n:typeof console<`u`&&console.warn&&console.warn(`Locale `+e+` not found. Did you forget to load it?`)),ia._abbr}function da(e,t){if(t!==null){var n,r=na;if(t.abbr=e,J[e]!=null)Rn(`defineLocaleOverride`,`use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.`),r=J[e]._config;else if(t.parentLocale!=null)if(J[t.parentLocale]!=null)r=J[t.parentLocale]._config;else if(n=la(t.parentLocale),n!=null)r=n._config;else return ra[t.parentLocale]||(ra[t.parentLocale]=[]),ra[t.parentLocale].push({name:e,config:t}),null;return J[e]=new Hn(Vn(r,t)),ra[e]&&ra[e].forEach(function(e){da(e.name,e.config)}),ua(e),J[e]}else return delete J[e],null}function fa(e,t){if(t!=null){var n,r,i=na;J[e]!=null&&J[e].parentLocale!=null?J[e].set(Vn(J[e]._config,t)):(r=la(e),r!=null&&(i=r._config),t=Vn(i,t),r??(t.abbr=e),n=new Hn(t),n.parentLocale=J[e],J[e]=n),ua(e)}else J[e]!=null&&(J[e].parentLocale==null?J[e]!=null&&delete J[e]:(J[e]=J[e].parentLocale,e===ua()&&ua(e)));return J[e]}function pa(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ia;if(!O(e)){if(t=la(e),t)return t;e=[e]}return sa(e)}function ma(){return Un(J)}function ha(e){var t,n=e._a;return n&&j(e).overflow===-2&&(t=n[zr]<0||n[zr]>11?zr:n[W]<1||n[W]>$r(n[U],n[zr])?W:n[G]<0||n[G]>24||n[G]===24&&(n[K]!==0||n[Br]!==0||n[Vr]!==0)?G:n[K]<0||n[K]>59?K:n[Br]<0||n[Br]>59?Br:n[Vr]<0||n[Vr]>999?Vr:-1,j(e)._overflowDayOfYear&&(t<U||t>W)&&(t=W),j(e)._overflowWeeks&&t===-1&&(t=Hr),j(e)._overflowWeekday&&t===-1&&(t=Ur),j(e).overflow=t),e}var ga=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_a=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,va=/Z|[+-]\d\d(?::?\d\d)?/,ya=[[`YYYYYY-MM-DD`,/[+-]\d{6}-\d\d-\d\d/],[`YYYY-MM-DD`,/\d{4}-\d\d-\d\d/],[`GGGG-[W]WW-E`,/\d{4}-W\d\d-\d/],[`GGGG-[W]WW`,/\d{4}-W\d\d/,!1],[`YYYY-DDD`,/\d{4}-\d{3}/],[`YYYY-MM`,/\d{4}-\d\d/,!1],[`YYYYYYMMDD`,/[+-]\d{10}/],[`YYYYMMDD`,/\d{8}/],[`GGGG[W]WWE`,/\d{4}W\d{3}/],[`GGGG[W]WW`,/\d{4}W\d{2}/,!1],[`YYYYDDD`,/\d{7}/],[`YYYYMM`,/\d{6}/,!1],[`YYYY`,/\d{4}/,!1]],ba=[[`HH:mm:ss.SSSS`,/\d\d:\d\d:\d\d\.\d+/],[`HH:mm:ss,SSSS`,/\d\d:\d\d:\d\d,\d+/],[`HH:mm:ss`,/\d\d:\d\d:\d\d/],[`HH:mm`,/\d\d:\d\d/],[`HHmmss.SSSS`,/\d\d\d\d\d\d\.\d+/],[`HHmmss,SSSS`,/\d\d\d\d\d\d,\d+/],[`HHmmss`,/\d\d\d\d\d\d/],[`HHmm`,/\d\d\d\d/],[`HH`,/\d\d/]],xa=/^\/?Date\((-?\d+)/i,Sa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ca={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wa(e){var t,n,r=e._i,i=ga.exec(r)||_a.exec(r),a,o,s,c,l=ya.length,u=ba.length;if(i){for(j(e).iso=!0,t=0,n=l;t<n;t++)if(ya[t][1].exec(i[1])){o=ya[t][0],a=ya[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=u;t<n;t++)if(ba[t][1].exec(i[3])){s=(i[2]||` `)+ba[t][0];break}if(s==null){e._isValid=!1;return}}if(!a&&s!=null){e._isValid=!1;return}if(i[4])if(va.exec(i[4]))c=`Z`;else{e._isValid=!1;return}e._f=o+(s||``)+(c||``),Ia(e)}else e._isValid=!1}function Ta(e,t,n,r,i,a){var o=[Ea(e),ti.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Ea(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Da(e){return e.replace(/\([^()]*\)|[\n\t]/g,` `).replace(/(\s\s+)/g,` `).replace(/^\s\s*/,``).replace(/\s\s*$/,``)}function Oa(e,t,n){return e&&ji.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay()?(j(n).weekdayMismatch=!0,n._isValid=!1,!1):!0}function ka(e,t,n){if(e)return Ca[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Aa(e){var t=Sa.exec(Da(e._i)),n;if(t){if(n=Ta(t[4],t[3],t[2],t[5],t[6],t[7]),!Oa(t[1],n,e))return;e._a=n,e._tzm=ka(t[8],t[9],t[10]),e._d=gi.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),j(e).rfc2822=!0}else e._isValid=!1}function ja(e){var t=xa.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(wa(e),e._isValid===!1)delete e._isValid;else return;if(Aa(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:D.createFromInputFallback(e)}D.createFromInputFallback=N(`value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.`,function(e){e._d=new Date(e._i+(e._useUTC?` UTC`:``))});function Ma(e,t,n){return e??t??n}function Na(e){var t=new Date(D.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Pa(e){var t,n,r=[],i,a,o;if(!e._d){for(i=Na(e),e._w&&e._a[W]==null&&e._a[zr]==null&&Fa(e),e._dayOfYear!=null&&(o=Ma(e._a[U],i[U]),(e._dayOfYear>Wr(o)||e._dayOfYear===0)&&(j(e)._overflowDayOfYear=!0),n=gi(o,0,e._dayOfYear),e._a[zr]=n.getUTCMonth(),e._a[W]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[G]===24&&e._a[K]===0&&e._a[Br]===0&&e._a[Vr]===0&&(e._nextDay=!0,e._a[G]=0),e._d=(e._useUTC?gi:hi).apply(null,r),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[G]=24),e._w&&e._w.d!==void 0&&e._w.d!==a&&(j(e).weekdayMismatch=!0)}}function Fa(e){var t=e._w,n,r,i,a,o,s,c,l;t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,n=Ma(t.GG,e._a[U],yi(Y(),1,4).year),r=Ma(t.W,1),i=Ma(t.E,1),(i<1||i>7)&&(c=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,l=yi(Y(),a,o),n=Ma(t.gg,e._a[U],l.year),r=Ma(t.w,l.week),t.d==null?t.e==null?i=a:(i=t.e+a,(t.e<0||t.e>6)&&(c=!0)):(i=t.d,(i<0||i>6)&&(c=!0))),r<1||r>bi(n,a,o)?j(e)._overflowWeeks=!0:c==null?(s=vi(n,r,i,a,o),e._a[U]=s.year,e._dayOfYear=s.dayOfYear):j(e)._overflowWeekday=!0}D.ISO_8601=function(){},D.RFC_2822=function(){};function Ia(e){if(e._f===D.ISO_8601){wa(e);return}if(e._f===D.RFC_2822){Aa(e);return}e._a=[],j(e).empty=!0;var t=``+e._i,n,r,i,a,o,s=t.length,c=0,l,u;for(i=$n(e._f,e._locale).match(Kn)||[],u=i.length,n=0;n<u;n++)a=i[n],r=(t.match(Mr(a,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&j(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),c+=r.length),Yn[a]?(r?j(e).empty=!1:j(e).unusedTokens.push(a),Lr(a,r,e)):e._strict&&!r&&j(e).unusedTokens.push(a);j(e).charsLeftOver=s-c,t.length>0&&j(e).unusedInput.push(t),e._a[G]<=12&&j(e).bigHour===!0&&e._a[G]>0&&(j(e).bigHour=void 0),j(e).parsedDateParts=e._a.slice(0),j(e).meridiem=e._meridiem,e._a[G]=La(e._locale,e._a[G],e._meridiem),l=j(e).era,l!==null&&(e._a[U]=e._locale.erasConvertYear(l,e._a[U])),Pa(e),ha(e)}function La(e,t,n){var r;return n==null?t:e.meridiemHour==null?e.isPM==null?t:(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0),t):e.meridiemHour(t,n)}function Ra(e){var t,n,r,i,a,o,s=!1,c=e._f.length;if(c===0){j(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<c;i++)a=0,o=!1,t=Pn({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Ia(t),An(t)&&(o=!0),a+=j(t).charsLeftOver,a+=j(t).unusedTokens.length*10,j(t).score=a,s?a<r&&(r=a,n=t):(r==null||a<r||o)&&(r=a,n=t,o&&(s=!0));En(e,n||t)}function za(e){if(!e._d){var t=dr(e._i),n=t.day===void 0?t.date:t.day;e._a=Tn([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Pa(e)}}function Ba(e){var t=new Fn(ha(Va(e)));return t._nextDay&&=(t.add(1,`d`),void 0),t}function Va(e){var t=e._i,n=e._f;return e._locale=e._locale||pa(e._l),t===null||n===void 0&&t===``?jn({nullInput:!0}):(typeof t==`string`&&(e._i=t=e._locale.preparse(t)),M(t)?new Fn(ha(t)):(wn(t)?e._d=t:O(n)?Ra(e):n?Ia(e):Ha(e),An(e)||(e._d=null),e))}function Ha(e){var t=e._i;A(t)?e._d=new Date(D.now()):wn(t)?e._d=new Date(t.valueOf()):typeof t==`string`?ja(e):O(t)?(e._a=Tn(t.slice(0),function(e){return parseInt(e,10)}),Pa(e)):xn(t)?za(e):Cn(t)?e._d=new Date(t):D.createFromInputFallback(e)}function Ua(e,t,n,r,i){var a={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(xn(e)&&Sn(e)||O(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Ba(a)}function Y(e,t,n,r){return Ua(e,t,n,r,!1)}var Wa=N(`moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/`,function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:jn()}),Ga=N(`moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/`,function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:jn()});function Ka(e,t){var n,r;if(t.length===1&&O(t[0])&&(t=t[0]),!t.length)return Y();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function qa(){return Ka(`isBefore`,[].slice.call(arguments,0))}function Ja(){return Ka(`isAfter`,[].slice.call(arguments,0))}var Ya=function(){return Date.now?Date.now():+new Date},Xa=[`year`,`quarter`,`month`,`week`,`day`,`hour`,`minute`,`second`,`millisecond`];function Za(e){var t,n=!1,r,i=Xa.length;for(t in e)if(k(e,t)&&!(q.call(Xa,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Xa[r]]){if(n)return!1;parseFloat(e[Xa[r]])!==V(e[Xa[r]])&&(n=!0)}return!0}function Qa(){return this._isValid}function $a(){return X(NaN)}function eo(e){var t=dr(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=Za(t),this._milliseconds=+u+l*1e3+c*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+r*3+n*12,this._data={},this._locale=pa(),this._bubble()}function to(e){return e instanceof eo}function no(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ro(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&V(e[o])!==V(t[o]))&&a++;return a+i}function io(e,t){F(e,0,0,function(){var e=this.utcOffset(),n=`+`;return e<0&&(e=-e,n=`-`),n+P(~~(e/60),2)+t+P(~~e%60,2)})}io(`Z`,`:`),io(`ZZ`,``),z(`Z`,Er),z(`ZZ`,Er),H([`Z`,`ZZ`],function(e,t,n){n._useUTC=!0,n._tzm=oo(Er,e)});var ao=/([\+\-]|\d\d)/gi;function oo(e,t){var n=(t||``).match(e),r,i,a;return n===null?null:(r=n[n.length-1]||[],i=(r+``).match(ao)||[`-`,0,0],a=+(i[1]*60)+V(i[2]),a===0?0:i[0]===`+`?a:-a)}function so(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(M(e)||wn(e)?e.valueOf():Y(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),D.updateOffset(n,!1),n):Y(e).local()}function co(e){return-Math.round(e._d.getTimezoneOffset())}D.updateOffset=function(){};function lo(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e==null?NaN:this;if(e!=null){if(typeof e==`string`){if(e=oo(Er,e),e===null)return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=co(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,`m`),r!==e&&(!t||this._changeInProgress?Do(this,X(e-r,`m`),1,!1):this._changeInProgress||=(this._changeInProgress=!0,D.updateOffset(this,!0),null)),this}else return this._isUTC?r:co(this)}function uo(e,t){return e==null?-this.utcOffset():(typeof e!=`string`&&(e=-e),this.utcOffset(e,t),this)}function fo(e){return this.utcOffset(0,e)}function po(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(co(this),`m`)),this}function mo(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i==`string`){var e=oo(Tr,this._i);e==null?this.utcOffset(0,!0):this.utcOffset(e)}return this}function ho(e){return this.isValid()?(e=e?Y(e).utcOffset():0,(this.utcOffset()-e)%60==0):!1}function go(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _o(){if(!A(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Pn(e,this),e=Va(e),e._a?(t=e._isUTC?Dn(e._a):Y(e._a),this._isDSTShifted=this.isValid()&&ro(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vo(){return this.isValid()?!this._isUTC:!1}function yo(){return this.isValid()?this._isUTC:!1}function bo(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xo=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,So=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function X(e,t){var n=e,r=null,i,a,o;return to(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Cn(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=xo.exec(e))?(i=r[1]===`-`?-1:1,n={y:0,d:V(r[W])*i,h:V(r[G])*i,m:V(r[K])*i,s:V(r[Br])*i,ms:V(no(r[Vr]*1e3))*i}):(r=So.exec(e))?(i=r[1]===`-`?-1:1,n={y:Co(r[2],i),M:Co(r[3],i),w:Co(r[4],i),d:Co(r[5],i),h:Co(r[6],i),m:Co(r[7],i),s:Co(r[8],i)}):n==null?n={}:typeof n==`object`&&(`from`in n||`to`in n)&&(o=To(Y(n.from),Y(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new eo(n),to(e)&&k(e,`_locale`)&&(a._locale=e._locale),to(e)&&k(e,`_isValid`)&&(a._isValid=e._isValid),a}X.fn=eo.prototype,X.invalid=$a;function Co(e,t){var n=e&&parseFloat(e.replace(`,`,`.`));return(isNaN(n)?0:n)*t}function wo(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,`M`).isAfter(t)&&--n.months,n.milliseconds=t-+e.clone().add(n.months,`M`),n}function To(e,t){var n;return e.isValid()&&t.isValid()?(t=so(t,e),e.isBefore(t)?n=wo(e,t):(n=wo(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Eo(e,t){return function(n,r){var i,a;return r!==null&&!isNaN(+r)&&(Rn(t,`moment().`+t+`(period, number) is deprecated. Please use moment().`+t+`(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.`),a=n,n=r,r=a),i=X(n,r),Do(this,i,e),this}}function Do(e,t,n,r){var i=t._milliseconds,a=no(t._days),o=no(t._months);e.isValid()&&(r??=!0,o&&li(e,Jr(e,`Month`)+o*n),a&&Yr(e,`Date`,Jr(e,`Date`)+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&D.updateOffset(e,a||o))}var Oo=Eo(1,`add`),ko=Eo(-1,`subtract`);function Ao(e){return typeof e==`string`||e instanceof String}function jo(e){return M(e)||wn(e)||Ao(e)||Cn(e)||No(e)||Mo(e)||e==null}function Mo(e){var t=xn(e)&&!Sn(e),n=!1,r=[`years`,`year`,`y`,`months`,`month`,`M`,`days`,`day`,`d`,`dates`,`date`,`D`,`hours`,`hour`,`h`,`minutes`,`minute`,`m`,`seconds`,`second`,`s`,`milliseconds`,`millisecond`,`ms`],i,a,o=r.length;for(i=0;i<o;i+=1)a=r[i],n||=k(e,a);return t&&n}function No(e){var t=O(e),n=!1;return t&&(n=e.filter(function(t){return!Cn(t)&&Ao(e)}).length===0),t&&n}function Po(e){var t=xn(e)&&!Sn(e),n=!1,r=[`sameDay`,`nextDay`,`lastDay`,`nextWeek`,`lastWeek`,`sameElse`],i,a;for(i=0;i<r.length;i+=1)a=r[i],n||=k(e,a);return t&&n}function Fo(e,t){var n=e.diff(t,`days`,!0);return n<-6?`sameElse`:n<-1?`lastWeek`:n<0?`lastDay`:n<1?`sameDay`:n<2?`nextDay`:n<7?`nextWeek`:`sameElse`}function Io(e,t){arguments.length===1&&(arguments[0]?jo(arguments[0])?(e=arguments[0],t=void 0):Po(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Y(),r=so(n,this).startOf(`day`),i=D.calendarFormat(this,r)||`sameElse`,a=t&&(zn(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Y(n)))}function Lo(){return new Fn(this)}function Ro(e,t){var n=M(e)?e:Y(e);return this.isValid()&&n.isValid()?(t=I(t)||`millisecond`,t===`millisecond`?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function zo(e,t){var n=M(e)?e:Y(e);return this.isValid()&&n.isValid()?(t=I(t)||`millisecond`,t===`millisecond`?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Bo(e,t,n,r){var i=M(e)?e:Y(e),a=M(t)?t:Y(t);return this.isValid()&&i.isValid()&&a.isValid()?(r||=`()`,(r[0]===`(`?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===`)`?this.isBefore(a,n):!this.isAfter(a,n))):!1}function Vo(e,t){var n=M(e)?e:Y(e),r;return this.isValid()&&n.isValid()?(t=I(t)||`millisecond`,t===`millisecond`?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Ho(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Uo(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Wo(e,t,n){var r,i,a;if(!this.isValid()||(r=so(e,this),!r.isValid()))return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=I(t),t){case`year`:a=Go(this,r)/12;break;case`month`:a=Go(this,r);break;case`quarter`:a=Go(this,r)/3;break;case`second`:a=(this-r)/1e3;break;case`minute`:a=(this-r)/6e4;break;case`hour`:a=(this-r)/36e5;break;case`day`:a=(this-r-i)/864e5;break;case`week`:a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:B(a)}function Go(e,t){if(e.date()<t.date())return-Go(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,`months`),i,a;return t-r<0?(i=e.clone().add(n-1,`months`),a=(t-r)/(r-i)):(i=e.clone().add(n+1,`months`),a=(t-r)/(i-r)),-(n+a)||0}D.defaultFormat=`YYYY-MM-DDTHH:mm:ssZ`,D.defaultFormatUtc=`YYYY-MM-DDTHH:mm:ss[Z]`;function Ko(){return this.clone().locale(`en`).format(`ddd MMM DD YYYY HH:mm:ss [GMT]ZZ`)}function qo(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Qn(n,t?`YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]`:`YYYYYY-MM-DD[T]HH:mm:ss.SSSZ`):zn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace(`Z`,Qn(n,`Z`)):Qn(n,t?`YYYY-MM-DD[T]HH:mm:ss.SSS[Z]`:`YYYY-MM-DD[T]HH:mm:ss.SSSZ`)}function Jo(){if(!this.isValid())return`moment.invalid(/* `+this._i+` */)`;var e=`moment`,t=``,n,r,i,a;return this.isLocal()||(e=this.utcOffset()===0?`moment.utc`:`moment.parseZone`,t=`Z`),n=`[`+e+`("]`,r=0<=this.year()&&this.year()<=9999?`YYYY`:`YYYYYY`,i=`-MM-DD[T]HH:mm:ss.SSS`,a=t+`[")]`,this.format(n+r+i+a)}function Yo(e){e||=this.isUtc()?D.defaultFormatUtc:D.defaultFormat;var t=Qn(this,e);return this.localeData().postformat(t)}function Xo(e,t){return this.isValid()&&(M(e)&&e.isValid()||Y(e).isValid())?X({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Zo(e){return this.from(Y(),e)}function Qo(e,t){return this.isValid()&&(M(e)&&e.isValid()||Y(e).isValid())?X({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function $o(e){return this.to(Y(),e)}function es(e){var t;return e===void 0?this._locale._abbr:(t=pa(e),t!=null&&(this._locale=t),this)}var ts=N(`moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.`,function(e){return e===void 0?this.localeData():this.locale(e)});function ns(){return this._locale}var rs=1e3,is=60*rs,as=60*is,os=146097*24*as;function ss(e,t){return(e%t+t)%t}function cs(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-os:new Date(e,t,n).valueOf()}function ls(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-os:Date.UTC(e,t,n)}function us(e){var t,n;if(e=I(e),e===void 0||e===`millisecond`||!this.isValid())return this;switch(n=this._isUTC?ls:cs,e){case`year`:t=n(this.year(),0,1);break;case`quarter`:t=n(this.year(),this.month()-this.month()%3,1);break;case`month`:t=n(this.year(),this.month(),1);break;case`week`:t=n(this.year(),this.month(),this.date()-this.weekday());break;case`isoWeek`:t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case`day`:case`date`:t=n(this.year(),this.month(),this.date());break;case`hour`:t=this._d.valueOf(),t-=ss(t+(this._isUTC?0:this.utcOffset()*is),as);break;case`minute`:t=this._d.valueOf(),t-=ss(t,is);break;case`second`:t=this._d.valueOf(),t-=ss(t,rs);break}return this._d.setTime(t),D.updateOffset(this,!0),this}function ds(e){var t,n;if(e=I(e),e===void 0||e===`millisecond`||!this.isValid())return this;switch(n=this._isUTC?ls:cs,e){case`year`:t=n(this.year()+1,0,1)-1;break;case`quarter`:t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case`month`:t=n(this.year(),this.month()+1,1)-1;break;case`week`:t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case`isoWeek`:t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case`day`:case`date`:t=n(this.year(),this.month(),this.date()+1)-1;break;case`hour`:t=this._d.valueOf(),t+=as-ss(t+(this._isUTC?0:this.utcOffset()*is),as)-1;break;case`minute`:t=this._d.valueOf(),t+=is-ss(t,is)-1;break;case`second`:t=this._d.valueOf(),t+=rs-ss(t,rs)-1;break}return this._d.setTime(t),D.updateOffset(this,!0),this}function fs(){return this._d.valueOf()-(this._offset||0)*6e4}function ps(){return Math.floor(this.valueOf()/1e3)}function ms(){return new Date(this.valueOf())}function hs(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gs(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _s(){return this.isValid()?this.toISOString():null}function vs(){return An(this)}function ys(){return En({},j(this))}function bs(){return j(this).overflow}function xs(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F(`N`,0,0,`eraAbbr`),F(`NN`,0,0,`eraAbbr`),F(`NNN`,0,0,`eraAbbr`),F(`NNNN`,0,0,`eraName`),F(`NNNNN`,0,0,`eraNarrow`),F(`y`,[`y`,1],`yo`,`eraYear`),F(`y`,[`yy`,2],0,`eraYear`),F(`y`,[`yyy`,3],0,`eraYear`),F(`y`,[`yyyy`,4],0,`eraYear`),z(`N`,Ms),z(`NN`,Ms),z(`NNN`,Ms),z(`NNNN`,Ns),z(`NNNNN`,Ps),H([`N`,`NN`,`NNN`,`NNNN`,`NNNNN`],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?j(n).era=i:j(n).invalidEra=e}),z(`y`,Cr),z(`yy`,Cr),z(`yyy`,Cr),z(`yyyy`,Cr),z(`yo`,Fs),H([`y`,`yy`,`yyy`,`yyyy`],U),H([`yo`],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[U]=n._locale.eraYearOrdinalParse(e,i):t[U]=parseInt(e,10)});function Ss(e,t){var n,r,i,a=this._eras||pa(`en`)._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case`string`:i=D(a[n].since).startOf(`day`),a[n].since=i.valueOf();break}switch(typeof a[n].until){case`undefined`:a[n].until=1/0;break;case`string`:i=D(a[n].until).startOf(`day`).valueOf(),a[n].until=i.valueOf();break}}return a}function Cs(e,t,n){var r,i,a=this.eras(),o,s,c;for(e=e.toUpperCase(),r=0,i=a.length;r<i;++r)if(o=a[r].name.toUpperCase(),s=a[r].abbr.toUpperCase(),c=a[r].narrow.toUpperCase(),n)switch(t){case`N`:case`NN`:case`NNN`:if(s===e)return a[r];break;case`NNNN`:if(o===e)return a[r];break;case`NNNNN`:if(c===e)return a[r];break}else if([o,s,c].indexOf(e)>=0)return a[r]}function ws(e,t){var n=e.since<=e.until?1:-1;return t===void 0?D(e.since).year():D(e.since).year()+(t-e.offset)*n}function Ts(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf(`day`).valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return``}function Es(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf(`day`).valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return``}function Ds(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf(`day`).valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return``}function Os(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf(`day`).valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-D(i[e].since).year())*n+i[e].offset;return this.year()}function ks(e){return k(this,`_erasNameRegex`)||Is.call(this),e?this._erasNameRegex:this._erasRegex}function As(e){return k(this,`_erasAbbrRegex`)||Is.call(this),e?this._erasAbbrRegex:this._erasRegex}function js(e){return k(this,`_erasNarrowRegex`)||Is.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ms(e,t){return t.erasAbbrRegex(e)}function Ns(e,t){return t.erasNameRegex(e)}function Ps(e,t){return t.erasNarrowRegex(e)}function Fs(e,t){return t._eraYearOrdinalRegex||Cr}function Is(){var e=[],t=[],n=[],r=[],i,a,o,s,c,l=this.eras();for(i=0,a=l.length;i<a;++i)o=Pr(l[i].name),s=Pr(l[i].abbr),c=Pr(l[i].narrow),t.push(o),e.push(s),n.push(c),r.push(o),r.push(s),r.push(c);this._erasRegex=RegExp(`^(`+r.join(`|`)+`)`,`i`),this._erasNameRegex=RegExp(`^(`+t.join(`|`)+`)`,`i`),this._erasAbbrRegex=RegExp(`^(`+e.join(`|`)+`)`,`i`),this._erasNarrowRegex=RegExp(`^(`+n.join(`|`)+`)`,`i`)}F(0,[`gg`,2],0,function(){return this.weekYear()%100}),F(0,[`GG`,2],0,function(){return this.isoWeekYear()%100});function Ls(e,t){F(0,[e,e.length],0,t)}Ls(`gggg`,`weekYear`),Ls(`ggggg`,`weekYear`),Ls(`GGGG`,`isoWeekYear`),Ls(`GGGGG`,`isoWeekYear`),z(`G`,wr),z(`g`,wr),z(`GG`,R,L),z(`gg`,R,L),z(`GGGG`,xr,gr),z(`gggg`,xr,gr),z(`GGGGG`,Sr,_r),z(`ggggg`,Sr,_r),Ir([`gggg`,`ggggg`,`GGGG`,`GGGGG`],function(e,t,n,r){t[r.substr(0,2)]=V(e)}),Ir([`gg`,`GG`],function(e,t,n,r){t[r]=D.parseTwoDigitYear(e)});function Rs(e){return Ws.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zs(e){return Ws.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Bs(){return bi(this.year(),1,4)}function Vs(){return bi(this.isoWeekYear(),1,4)}function Hs(){var e=this.localeData()._week;return bi(this.year(),e.dow,e.doy)}function Us(){var e=this.localeData()._week;return bi(this.weekYear(),e.dow,e.doy)}function Ws(e,t,n,r,i){var a;return e==null?yi(this,r,i).year:(a=bi(e,r,i),t>a&&(t=a),Gs.call(this,e,t,n,r,i))}function Gs(e,t,n,r,i){var a=vi(e,t,n,r,i),o=gi(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}F(`Q`,0,`Qo`,`quarter`),z(`Q`,mr),H(`Q`,function(e,t){t[zr]=(V(e)-1)*3});function Ks(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}F(`D`,[`DD`,2],`Do`,`date`),z(`D`,R,kr),z(`DD`,R,L),z(`Do`,function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),H([`D`,`DD`],W),H(`Do`,function(e,t){t[W]=V(e.match(R)[0])});var qs=qr(`Date`,!0);F(`DDD`,[`DDDD`,3],`DDDo`,`dayOfYear`),z(`DDD`,br),z(`DDDD`,hr),H([`DDD`,`DDDD`],function(e,t,n){n._dayOfYear=V(e)});function Js(e){var t=Math.round((this.clone().startOf(`day`)-this.clone().startOf(`year`))/864e5)+1;return e==null?t:this.add(e-t,`d`)}F(`m`,[`mm`,2],0,`minute`),z(`m`,R,Ar),z(`mm`,R,L),H([`m`,`mm`],K);var Ys=qr(`Minutes`,!1);F(`s`,[`ss`,2],0,`second`),z(`s`,R,Ar),z(`ss`,R,L),H([`s`,`ss`],Br);var Xs=qr(`Seconds`,!1);F(`S`,0,0,function(){return~~(this.millisecond()/100)}),F(0,[`SS`,2],0,function(){return~~(this.millisecond()/10)}),F(0,[`SSS`,3],0,`millisecond`),F(0,[`SSSS`,4],0,function(){return this.millisecond()*10}),F(0,[`SSSSS`,5],0,function(){return this.millisecond()*100}),F(0,[`SSSSSS`,6],0,function(){return this.millisecond()*1e3}),F(0,[`SSSSSSS`,7],0,function(){return this.millisecond()*1e4}),F(0,[`SSSSSSSS`,8],0,function(){return this.millisecond()*1e5}),F(0,[`SSSSSSSSS`,9],0,function(){return this.millisecond()*1e6}),z(`S`,br,mr),z(`SS`,br,L),z(`SSS`,br,hr);var Zs,Qs;for(Zs=`SSSS`;Zs.length<=9;Zs+=`S`)z(Zs,Cr);function $s(e,t){t[Vr]=V((`0.`+e)*1e3)}for(Zs=`S`;Zs.length<=9;Zs+=`S`)H(Zs,$s);Qs=qr(`Milliseconds`,!1),F(`z`,0,0,`zoneAbbr`),F(`zz`,0,0,`zoneName`);function ec(){return this._isUTC?`UTC`:``}function tc(){return this._isUTC?`Coordinated Universal Time`:``}var Z=Fn.prototype;Z.add=Oo,Z.calendar=Io,Z.clone=Lo,Z.diff=Wo,Z.endOf=ds,Z.format=Yo,Z.from=Xo,Z.fromNow=Zo,Z.to=Qo,Z.toNow=$o,Z.get=Xr,Z.invalidAt=bs,Z.isAfter=Ro,Z.isBefore=zo,Z.isBetween=Bo,Z.isSame=Vo,Z.isSameOrAfter=Ho,Z.isSameOrBefore=Uo,Z.isValid=vs,Z.lang=ts,Z.locale=es,Z.localeData=ns,Z.max=Ga,Z.min=Wa,Z.parsingFlags=ys,Z.set=Zr,Z.startOf=us,Z.subtract=ko,Z.toArray=hs,Z.toObject=gs,Z.toDate=ms,Z.toISOString=qo,Z.inspect=Jo,typeof Symbol<`u`&&Symbol.for!=null&&(Z[Symbol.for(`nodejs.util.inspect.custom`)]=function(){return`Moment<`+this.format()+`>`}),Z.toJSON=_s,Z.toString=Ko,Z.unix=ps,Z.valueOf=fs,Z.creationData=xs,Z.eraName=Ts,Z.eraNarrow=Es,Z.eraAbbr=Ds,Z.eraYear=Os,Z.year=Gr,Z.isLeapYear=Kr,Z.weekYear=Rs,Z.isoWeekYear=zs,Z.quarter=Z.quarters=Ks,Z.month=ui,Z.daysInMonth=di,Z.week=Z.weeks=Ti,Z.isoWeek=Z.isoWeeks=Ei,Z.weeksInYear=Hs,Z.weeksInWeekYear=Us,Z.isoWeeksInYear=Bs,Z.isoWeeksInISOWeekYear=Vs,Z.date=qs,Z.day=Z.days=Vi,Z.weekday=Hi,Z.isoWeekday=Ui,Z.dayOfYear=Js,Z.hour=Z.hours=ea,Z.minute=Z.minutes=Ys,Z.second=Z.seconds=Xs,Z.millisecond=Z.milliseconds=Qs,Z.utcOffset=lo,Z.utc=fo,Z.local=po,Z.parseZone=mo,Z.hasAlignedHourOffset=ho,Z.isDST=go,Z.isLocal=vo,Z.isUtcOffset=yo,Z.isUtc=bo,Z.isUTC=bo,Z.zoneAbbr=ec,Z.zoneName=tc,Z.dates=N(`dates accessor is deprecated. Use date instead.`,qs),Z.months=N(`months accessor is deprecated. Use month instead`,ui),Z.years=N(`years accessor is deprecated. Use year instead`,Gr),Z.zone=N(`moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/`,uo),Z.isDSTShifted=N(`isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information`,_o);function nc(e){return Y(e*1e3)}function rc(){return Y.apply(null,arguments).parseZone()}function ic(e){return e}var Q=Hn.prototype;Q.calendar=Gn,Q.longDateFormat=tr,Q.invalidDate=rr,Q.ordinal=or,Q.preparse=ic,Q.postformat=ic,Q.relativeTime=cr,Q.pastFuture=lr,Q.set=Bn,Q.eras=Ss,Q.erasParse=Cs,Q.erasConvertYear=ws,Q.erasAbbrRegex=As,Q.erasNameRegex=ks,Q.erasNarrowRegex=js,Q.months=ai,Q.monthsShort=oi,Q.monthsParse=ci,Q.monthsRegex=pi,Q.monthsShortRegex=fi,Q.week=xi,Q.firstDayOfYear=wi,Q.firstDayOfWeek=Ci,Q.weekdays=Ii,Q.weekdaysMin=Ri,Q.weekdaysShort=Li,Q.weekdaysParse=Bi,Q.weekdaysRegex=Wi,Q.weekdaysShortRegex=Gi,Q.weekdaysMinRegex=Ki,Q.isPM=Qi,Q.meridiem=ta;function ac(e,t,n,r){var i=pa(),a=Dn().set(r,t);return i[n](a,e)}function oc(e,t,n){if(Cn(e)&&(t=e,e=void 0),e||=``,t!=null)return ac(e,t,n,`month`);var r,i=[];for(r=0;r<12;r++)i[r]=ac(e,r,n,`month`);return i}function sc(e,t,n,r){typeof e==`boolean`?(Cn(t)&&(n=t,t=void 0),t||=``):(t=e,n=t,e=!1,Cn(t)&&(n=t,t=void 0),t||=``);var i=pa(),a=e?i._week.dow:0,o,s=[];if(n!=null)return ac(t,(n+a)%7,r,`day`);for(o=0;o<7;o++)s[o]=ac(t,(o+a)%7,r,`day`);return s}function cc(e,t){return oc(e,t,`months`)}function lc(e,t){return oc(e,t,`monthsShort`)}function uc(e,t,n){return sc(e,t,n,`weekdays`)}function dc(e,t,n){return sc(e,t,n,`weekdaysShort`)}function fc(e,t,n){return sc(e,t,n,`weekdaysMin`)}ua(`en`,{eras:[{since:`0001-01-01`,until:1/0,offset:1,name:`Anno Domini`,narrow:`AD`,abbr:`AD`},{since:`0000-12-31`,until:-1/0,offset:1,name:`Before Christ`,narrow:`BC`,abbr:`BC`}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(V(e%100/10)===1?`th`:t===1?`st`:t===2?`nd`:t===3?`rd`:`th`)}}),D.lang=N(`moment.lang is deprecated. Use moment.locale instead.`,ua),D.langData=N(`moment.langData is deprecated. Use moment.localeData instead.`,pa);var pc=Math.abs;function mc(){var e=this._data;return this._milliseconds=pc(this._milliseconds),this._days=pc(this._days),this._months=pc(this._months),e.milliseconds=pc(e.milliseconds),e.seconds=pc(e.seconds),e.minutes=pc(e.minutes),e.hours=pc(e.hours),e.months=pc(e.months),e.years=pc(e.years),this}function hc(e,t,n,r){var i=X(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function gc(e,t){return hc(this,e,t,1)}function _c(e,t){return hc(this,e,t,-1)}function vc(e){return e<0?Math.floor(e):Math.ceil(e)}function yc(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,a,o,s,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=vc(xc(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=B(e/1e3),r.seconds=i%60,a=B(i/60),r.minutes=a%60,o=B(a/60),r.hours=o%24,t+=B(o/24),c=B(bc(t)),n+=c,t-=vc(xc(c)),s=B(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function bc(e){return e*4800/146097}function xc(e){return e*146097/4800}function Sc(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=I(e),e===`month`||e===`quarter`||e===`year`)switch(t=this._days+r/864e5,n=this._months+bc(t),e){case`month`:return n;case`quarter`:return n/3;case`year`:return n/12}else switch(t=this._days+Math.round(xc(this._months)),e){case`week`:return t/7+r/6048e5;case`day`:return t+r/864e5;case`hour`:return t*24+r/36e5;case`minute`:return t*1440+r/6e4;case`second`:return t*86400+r/1e3;case`millisecond`:return Math.floor(t*864e5)+r;default:throw Error(`Unknown unit `+e)}}function Cc(e){return function(){return this.as(e)}}var wc=Cc(`ms`),Tc=Cc(`s`),Ec=Cc(`m`),Dc=Cc(`h`),Oc=Cc(`d`),kc=Cc(`w`),Ac=Cc(`M`),jc=Cc(`Q`),Mc=Cc(`y`),Nc=wc;function Pc(){return X(this)}function Fc(e){return e=I(e),this.isValid()?this[e+`s`]():NaN}function Ic(e){return function(){return this.isValid()?this._data[e]:NaN}}var Lc=Ic(`milliseconds`),Rc=Ic(`seconds`),zc=Ic(`minutes`),Bc=Ic(`hours`),Vc=Ic(`days`),Hc=Ic(`months`),Uc=Ic(`years`);function Wc(){return B(this.days()/7)}var Gc=Math.round,Kc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qc(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Jc(e,t,n,r){var i=X(e).abs(),a=Gc(i.as(`s`)),o=Gc(i.as(`m`)),s=Gc(i.as(`h`)),c=Gc(i.as(`d`)),l=Gc(i.as(`M`)),u=Gc(i.as(`w`)),d=Gc(i.as(`y`)),f=a<=n.ss&&[`s`,a]||a<n.s&&[`ss`,a]||o<=1&&[`m`]||o<n.m&&[`mm`,o]||s<=1&&[`h`]||s<n.h&&[`hh`,s]||c<=1&&[`d`]||c<n.d&&[`dd`,c];return n.w!=null&&(f=f||u<=1&&[`w`]||u<n.w&&[`ww`,u]),f=f||l<=1&&[`M`]||l<n.M&&[`MM`,l]||d<=1&&[`y`]||[`yy`,d],f[2]=t,f[3]=+e>0,f[4]=r,qc.apply(null,f)}function Yc(e){return e===void 0?Gc:typeof e==`function`?(Gc=e,!0):!1}function Xc(e,t){return Kc[e]===void 0?!1:t===void 0?Kc[e]:(Kc[e]=t,e===`s`&&(Kc.ss=t-1),!0)}function Zc(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Kc,i,a;return typeof e==`object`&&(t=e,e=!1),typeof e==`boolean`&&(n=e),typeof t==`object`&&(r=Object.assign({},Kc,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),a=Jc(this,!n,r,i),n&&(a=i.pastFuture(+this,a)),i.postformat(a)}var Qc=Math.abs;function $c(e){return(e>0)-(e<0)||+e}function el(){if(!this.isValid())return this.localeData().invalidDate();var e=Qc(this._milliseconds)/1e3,t=Qc(this._days),n=Qc(this._months),r,i,a,o,s=this.asSeconds(),c,l,u,d;return s?(r=B(e/60),i=B(r/60),e%=60,r%=60,a=B(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,``):``,c=s<0?`-`:``,l=$c(this._months)===$c(s)?``:`-`,u=$c(this._days)===$c(s)?``:`-`,d=$c(this._milliseconds)===$c(s)?``:`-`,c+`P`+(a?l+a+`Y`:``)+(n?l+n+`M`:``)+(t?u+t+`D`:``)+(i||r||e?`T`:``)+(i?d+i+`H`:``)+(r?d+r+`M`:``)+(e?d+o+`S`:``)):`P0D`}var $=eo.prototype;$.isValid=Qa,$.abs=mc,$.add=gc,$.subtract=_c,$.as=Sc,$.asMilliseconds=wc,$.asSeconds=Tc,$.asMinutes=Ec,$.asHours=Dc,$.asDays=Oc,$.asWeeks=kc,$.asMonths=Ac,$.asQuarters=jc,$.asYears=Mc,$.valueOf=Nc,$._bubble=yc,$.clone=Pc,$.get=Fc,$.milliseconds=Lc,$.seconds=Rc,$.minutes=zc,$.hours=Bc,$.days=Vc,$.weeks=Wc,$.months=Hc,$.years=Uc,$.humanize=Zc,$.toISOString=el,$.toString=el,$.toJSON=el,$.locale=es,$.localeData=ns,$.toIsoString=N(`toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)`,el),$.lang=ts,F(`X`,0,0,`unix`),F(`x`,0,0,`valueOf`),z(`x`,wr),z(`X`,Dr),H(`X`,function(e,t,n){n._d=new Date(parseFloat(e)*1e3)}),H(`x`,function(e,t,n){n._d=new Date(V(e))}),D.version=`2.30.1`,bn(Y),D.fn=Z,D.min=qa,D.max=Ja,D.now=Ya,D.utc=Dn,D.unix=nc,D.months=cc,D.isDate=wn,D.locale=ua,D.invalid=jn,D.duration=X,D.isMoment=M,D.weekdays=uc,D.parseZone=rc,D.localeData=pa,D.isDuration=to,D.monthsShort=lc,D.weekdaysMin=fc,D.defineLocale=da,D.updateLocale=fa,D.locales=ma,D.weekdaysShort=dc,D.normalizeUnits=I,D.relativeTimeRounding=Yc,D.relativeTimeThreshold=Xc,D.calendarFormat=Fo,D.prototype=Z,D.HTML5_FMT={DATETIME_LOCAL:`YYYY-MM-DDTHH:mm`,DATETIME_LOCAL_SECONDS:`YYYY-MM-DDTHH:mm:ss`,DATETIME_LOCAL_MS:`YYYY-MM-DDTHH:mm:ss.SSS`,DATE:`YYYY-MM-DD`,TIME:`HH:mm`,TIME_SECONDS:`HH:mm:ss`,TIME_MS:`HH:mm:ss.SSS`,WEEK:`GGGG-[W]WW`,MONTH:`YYYY-MM`};var tl=D;function nl(e,t){let n=String(e);if(typeof t!=`string`)throw TypeError(`Expected character`);let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function rl(e){if(typeof e!=`string`)throw TypeError(`Expected a string`);return e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`)}function il(e,t,n){let r=Te((n||{}).ignore||[]),i=al(t),a=-1;for(;++a<i.length;)de(e,`text`,o);function o(e,t){let n=-1,i;for(;++n<t.length;){let e=t[n],a=i?i.children:void 0;if(r(e,a?a.indexOf(e):void 0,i))return;i=e}if(i)return s(e,t)}function s(e,t){let n=t[t.length-1],r=i[a][0],o=i[a][1],s=0,c=n.children.indexOf(e),l=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){let n=d.index,i={index:d.index,input:d.input,stack:[...t,e]},a=o(...d,i);if(typeof a==`string`&&(a=a.length>0?{type:`text`,value:a}:void 0),a===!1?r.lastIndex=n+1:(s!==n&&u.push({type:`text`,value:e.value.slice(s,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),s=n+d[0].length,l=!0),!r.global)break;d=r.exec(e.value)}return l?(s<e.value.length&&u.push({type:`text`,value:e.value.slice(s)}),n.children.splice(c,1,...u)):u=[e],c+u.length}}function al(e){let t=[];if(!Array.isArray(e))throw TypeError(`Expected find and replace tuple or list of tuples`);let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){let e=n[r];t.push([ol(e[0]),sl(e[1])])}return t}function ol(e){return typeof e==`string`?new RegExp(rl(e),`g`):e}function sl(e){return typeof e==`function`?e:function(){return e}}var cl=`phrasing`,ll=[`autolink`,`link`,`image`,`label`];function ul(){return{transforms:[vl],enter:{literalAutolink:fl,literalAutolinkEmail:pl,literalAutolinkHttp:pl,literalAutolinkWww:pl},exit:{literalAutolink:_l,literalAutolinkEmail:gl,literalAutolinkHttp:ml,literalAutolinkWww:hl}}}function dl(){return{unsafe:[{character:`@`,before:`[+\\-.\\w]`,after:`[\\-.\\w]`,inConstruct:cl,notInConstruct:ll},{character:`.`,before:`[Ww]`,after:`[\\-.\\w]`,inConstruct:cl,notInConstruct:ll},{character:`:`,before:`[ps]`,after:`\\/`,inConstruct:cl,notInConstruct:ll}]}}function fl(e){this.enter({type:`link`,title:null,url:``,children:[]},e)}function pl(e){this.config.enter.autolinkProtocol.call(this,e)}function ml(e){this.config.exit.autolinkProtocol.call(this,e)}function hl(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];t.type,t.url=`http://`+this.sliceSerialize(e)}function gl(e){this.config.exit.autolinkEmail.call(this,e)}function _l(e){this.exit(e)}function vl(e){il(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,yl],[RegExp(`(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)`,`gu`),bl]],{ignore:[`link`,`linkReference`]})}function yl(e,t,n,r,i){let a=``;if(!Cl(i)||(/^w/i.test(t)&&(n=t+n,t=``,a=`http://`),!xl(n)))return!1;let o=Sl(n+r);if(!o[0])return!1;let s={type:`link`,title:null,url:a+t+o[0],children:[{type:`text`,value:t+o[0]}]};return o[1]?[s,{type:`text`,value:o[1]}]:s}function bl(e,t,n,r){return!Cl(r,!0)||/[-\d_]$/.test(n)?!1:{type:`link`,title:null,url:`mailto:`+t+`@`+n,children:[{type:`text`,value:t+`@`+n}]}}function xl(e){let t=e.split(`.`);return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Sl(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(`)`),i=nl(e,`(`),a=nl(e,`)`);for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(`)`),a++;return[e,n]}function Cl(e,t){let n=e.input.charCodeAt(e.index-1);return(e.index===0||je(n)||ue(n))&&(!t||n!==47)}Nl.peek=Ml;function wl(){this.buffer()}function Tl(e){this.enter({type:`footnoteReference`,identifier:``,label:``},e)}function El(){this.buffer()}function Dl(e){this.enter({type:`footnoteDefinition`,identifier:``,label:``,children:[]},e)}function Ol(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pe(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kl(e){this.exit(e)}function Al(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pe(this.sliceSerialize(e)).toLowerCase(),n.label=t}function jl(e){this.exit(e)}function Ml(){return`[`}function Nl(e,t,n,r){let i=n.createTracker(r),a=i.move(`[^`),o=n.enter(`footnoteReference`),s=n.enter(`reference`);return a+=i.move(n.safe(n.associationId(e),{after:`]`,before:a})),s(),o(),a+=i.move(`]`),a}function Pl(){return{enter:{gfmFootnoteCallString:wl,gfmFootnoteCall:Tl,gfmFootnoteDefinitionLabelString:El,gfmFootnoteDefinition:Dl},exit:{gfmFootnoteCallString:Ol,gfmFootnoteCall:kl,gfmFootnoteDefinitionLabelString:Al,gfmFootnoteDefinition:jl}}}function Fl(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Nl},unsafe:[{character:`[`,inConstruct:[`label`,`phrasing`,`reference`]}]};function n(e,n,r,i){let a=r.createTracker(i),o=a.move(`[^`),s=r.enter(`footnoteDefinition`),c=r.enter(`label`);return o+=a.move(r.safe(r.associationId(e),{before:o,after:`]`})),c(),o+=a.move(`]:`),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?`
`:` `)+r.indentLines(r.containerFlow(e,a.current()),t?Ll:Il))),s(),o}}function Il(e,t,n){return t===0?e:Ll(e,t,n)}function Ll(e,t,n){return(n?``:`    `)+e}var Rl=[`autolink`,`destinationLiteral`,`destinationRaw`,`reference`,`titleQuote`,`titleApostrophe`];Ul.peek=Wl;function zl(){return{canContainEols:[`delete`],enter:{strikethrough:Vl},exit:{strikethrough:Hl}}}function Bl(){return{unsafe:[{character:`~`,inConstruct:`phrasing`,notInConstruct:Rl}],handlers:{delete:Ul}}}function Vl(e){this.enter({type:`delete`,children:[]},e)}function Hl(e){this.exit(e)}function Ul(e,t,n,r){let i=n.createTracker(r),a=n.enter(`strikethrough`),o=i.move(`~~`);return o+=n.containerPhrasing(e,{...i.current(),before:o,after:`~`}),o+=i.move(`~~`),a(),o}function Wl(){return`~`}function Gl(e){return e.length}function Kl(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Gl,a=[],o=[],s=[],c=[],l=0,u=-1;for(;++u<e.length;){let t=[],r=[],a=-1;for(e[u].length>l&&(l=e[u].length);++a<e[u].length;){let o=ql(e[u][a]);if(n.alignDelimiters!==!1){let e=i(o);r[a]=e,(c[a]===void 0||e>c[a])&&(c[a]=e)}t.push(o)}o[u]=t,s[u]=r}let d=-1;if(typeof r==`object`&&`length`in r)for(;++d<l;)a[d]=Jl(r[d]);else{let e=Jl(r);for(;++d<l;)a[d]=e}d=-1;let f=[],p=[];for(;++d<l;){let e=a[d],t=``,r=``;e===99?(t=`:`,r=`:`):e===108?t=`:`:e===114&&(r=`:`);let i=n.alignDelimiters===!1?1:Math.max(1,c[d]-t.length-r.length),o=t+`-`.repeat(i)+r;n.alignDelimiters!==!1&&(i=t.length+i+r.length,i>c[d]&&(c[d]=i),p[d]=i),f[d]=o}o.splice(1,0,f),s.splice(1,0,p),u=-1;let m=[];for(;++u<o.length;){let e=o[u],t=s[u];d=-1;let r=[];for(;++d<l;){let i=e[d]||``,o=``,s=``;if(n.alignDelimiters!==!1){let e=c[d]-(t[d]||0),n=a[d];n===114?o=` `.repeat(e):n===99?e%2?(o=` `.repeat(e/2+.5),s=` `.repeat(e/2-.5)):(o=` `.repeat(e/2),s=o):s=` `.repeat(e)}n.delimiterStart!==!1&&!d&&r.push(`|`),n.padding!==!1&&!(n.alignDelimiters===!1&&i===``)&&(n.delimiterStart!==!1||d)&&r.push(` `),n.alignDelimiters!==!1&&r.push(o),r.push(i),n.alignDelimiters!==!1&&r.push(s),n.padding!==!1&&r.push(` `),(n.delimiterEnd!==!1||d!==l-1)&&r.push(`|`)}m.push(n.delimiterEnd===!1?r.join(``).replace(/ +$/,``):r.join(``))}return m.join(`
`)}function ql(e){return e==null?``:String(e)}function Jl(e){let t=typeof e==`string`?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Yl(e,t,n,r){let i=n.enter(`blockquote`),a=n.createTracker(r);a.move(`> `),a.shift(2);let o=n.indentLines(n.containerFlow(e,a.current()),Xl);return i(),o}function Xl(e,t,n){return`>`+(n?``:` `)+e}function Zl(e,t){return Ql(e,t.inConstruct,!0)&&!Ql(e,t.notInConstruct,!1)}function Ql(e,t,n){if(typeof t==`string`&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function $l(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Zl(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?``:` `;return`\\
`}function eu(e,t){let n=String(e),r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!=`string`)throw TypeError(`Expected substring`);for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function tu(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function nu(e){let t=e.options.fence||"`";if(t!=="`"&&t!==`~`)throw Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function ru(e,t,n,r){let i=nu(n),a=e.value||``,o=i==="`"?`GraveAccent`:`Tilde`;if(tu(e,n)){let e=n.enter(`codeIndented`),t=n.indentLines(a,iu);return e(),t}let s=n.createTracker(r),c=i.repeat(Math.max(eu(a,i)+1,3)),l=n.enter(`codeFenced`),u=s.move(c);if(e.lang){let t=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:` `,encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){let t=n.enter(`codeFencedMeta${o}`);u+=s.move(` `),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),t()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(c),l(),u}function iu(e,t,n){return(n?``:`    `)+e}function au(e){let t=e.options.quote||`"`;if(t!==`"`&&t!==`'`)throw Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ou(e,t,n,r){let i=au(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`definition`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`[`);return l+=c.move(n.safe(n.associationId(e),{before:l,after:`]`,...c.current()})),l+=c.move(`]: `),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),o(),l}function su(e){let t=e.options.emphasis||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function cu(e){return`&#x`+e.toString(16).toUpperCase()+`;`}function lu(e,t,n){let r=xe(e),i=xe(t);return r===void 0?i===void 0?n===`_`?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}uu.peek=du;function uu(e,t,n,r){let i=su(n),a=n.enter(`emphasis`),o=n.createTracker(r),s=o.move(i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=lu(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=cu(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=lu(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+cu(d));let p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function du(e,t,n){return n.options.emphasis||`*`}function fu(e,t){let n=!1;return Oe(e,function(e){if(`value`in e&&/\r?\n|\r/.test(e.value)||e.type===`break`)return n=!0,!1}),!!((!e.depth||e.depth<3)&&re(e)&&(t.options.setext||n))}function pu(e,t,n,r){let i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(fu(e,n)){let t=n.enter(`headingSetext`),r=n.enter(`phrasing`),o=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return r(),t(),o+`
`+(i===1?`=`:`-`).repeat(o.length-(Math.max(o.lastIndexOf(`\r`),o.lastIndexOf(`
`))+1))}let o=`#`.repeat(i),s=n.enter(`headingAtx`),c=n.enter(`phrasing`);a.move(o+` `);let l=n.containerPhrasing(e,{before:`# `,after:`
`,...a.current()});return/^[\t ]/.test(l)&&(l=cu(l.charCodeAt(0))+l.slice(1)),l=l?o+` `+l:o,n.options.closeAtx&&(l+=` `+o),c(),s(),l}mu.peek=hu;function mu(e){return e.value||``}function hu(){return`<`}gu.peek=_u;function gu(e,t,n,r){let i=au(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`image`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`![`);return l+=c.move(n.safe(e.alt,{before:l,after:`]`,...c.current()})),l+=c.move(`](`),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),l+=c.move(`)`),o(),l}function _u(){return`!`}vu.peek=yu;function vu(e,t,n,r){let i=e.referenceType,a=n.enter(`imageReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`![`),l=n.safe(e.alt,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function yu(){return`!`}bu.peek=xu;function bu(e,t,n){let r=e.value||``,i="`",a=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=` `+r+` `);++a<n.unsafe.length;){let e=n.unsafe[a],t=n.compilePattern(e),i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;r.charCodeAt(e)===10&&r.charCodeAt(e-1)===13&&e--,r=r.slice(0,e)+` `+r.slice(i.index+1)}}return i+r+i}function xu(){return"`"}function Su(e,t){let n=re(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type===`text`&&(n===e.url||`mailto:`+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Cu.peek=wu;function Cu(e,t,n,r){let i=au(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.createTracker(r),s,c;if(Su(e,n)){let t=n.stack;n.stack=[],s=n.enter(`autolink`);let r=o.move(`<`);return r+=o.move(n.containerPhrasing(e,{before:r,after:`>`,...o.current()})),r+=o.move(`>`),s(),n.stack=t,r}s=n.enter(`link`),c=n.enter(`label`);let l=o.move(`[`);return l+=o.move(n.containerPhrasing(e,{before:l,after:`](`,...o.current()})),l+=o.move(`](`),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter(`destinationLiteral`),l+=o.move(`<`),l+=o.move(n.safe(e.url,{before:l,after:`>`,...o.current()})),l+=o.move(`>`)):(c=n.enter(`destinationRaw`),l+=o.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),l+=o.move(` `+i),l+=o.move(n.safe(e.title,{before:l,after:i,...o.current()})),l+=o.move(i),c()),l+=o.move(`)`),s(),l}function wu(e,t,n){return Su(e,n)?`<`:`[`}Tu.peek=Eu;function Tu(e,t,n,r){let i=e.referenceType,a=n.enter(`linkReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`[`),l=n.containerPhrasing(e,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function Eu(){return`[`}function Du(e){let t=e.options.bullet||`*`;if(t!==`*`&&t!==`+`&&t!==`-`)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ou(e){let t=Du(e),n=e.options.bulletOther;if(!n)return t===`*`?`-`:`*`;if(n!==`*`&&n!==`+`&&n!==`-`)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ku(e){let t=e.options.bulletOrdered||`.`;if(t!==`.`&&t!==`)`)throw Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Au(e){let t=e.options.rule||`*`;if(t!==`*`&&t!==`-`&&t!==`_`)throw Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ju(e,t,n,r){let i=n.enter(`list`),a=n.bulletCurrent,o=e.ordered?ku(n):Du(n),s=e.ordered?o===`.`?`)`:`.`:Ou(n),c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){let t=e.children?e.children[0]:void 0;if((o===`*`||o===`-`)&&t&&(!t.children||!t.children[0])&&n.stack[n.stack.length-1]===`list`&&n.stack[n.stack.length-2]===`listItem`&&n.stack[n.stack.length-3]===`list`&&n.stack[n.stack.length-4]===`listItem`&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Au(n)===o&&t){let t=-1;for(;++t<e.children.length;){let n=e.children[t];if(n&&n.type===`listItem`&&n.children&&n.children[0]&&n.children[0].type===`thematicBreak`){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;let l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),l}function Mu(e){let t=e.options.listItemIndent||`one`;if(t!==`tab`&&t!==`one`&&t!==`mixed`)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Nu(e,t,n,r){let i=Mu(n),a=n.bulletCurrent||Du(n);t&&t.type===`list`&&t.ordered&&(a=(typeof t.start==`number`&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i===`tab`||i===`mixed`&&(t&&t.type===`list`&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);let s=n.createTracker(r);s.move(a+` `.repeat(o-a.length)),s.shift(o);let c=n.enter(`listItem`),l=n.indentLines(n.containerFlow(e,s.current()),u);return c(),l;function u(e,t,n){return t?(n?``:` `.repeat(o))+e:(n?a:a+` `.repeat(o-a.length))+e}}function Pu(e,t,n,r){let i=n.enter(`paragraph`),a=n.enter(`phrasing`),o=n.containerPhrasing(e,r);return a(),i(),o}const Fu=Te([`break`,`delete`,`emphasis`,`footnote`,`footnoteReference`,`image`,`imageReference`,`inlineCode`,`inlineMath`,`link`,`linkReference`,`mdxJsxTextElement`,`mdxTextExpression`,`strong`,`text`,`textDirective`]);function Iu(e,t,n,r){return(e.children.some(function(e){return Fu(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Lu(e){let t=e.options.strong||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Ru.peek=zu;function Ru(e,t,n,r){let i=Lu(n),a=n.enter(`strong`),o=n.createTracker(r),s=o.move(i+i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=lu(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=cu(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=lu(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+cu(d));let p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function zu(e,t,n){return n.options.strong||`*`}function Bu(e,t,n,r){return n.safe(e.value,r)}function Vu(e){let t=e.options.ruleRepetition||3;if(t<3)throw Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Hu(e,t,n){let r=(Au(n)+(n.options.ruleSpaces?` `:``)).repeat(Vu(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Uu={blockquote:Yl,break:$l,code:ru,definition:ou,emphasis:uu,hardBreak:$l,heading:pu,html:mu,image:gu,imageReference:vu,inlineCode:bu,link:Cu,linkReference:Tu,list:ju,listItem:Nu,paragraph:Pu,root:Iu,strong:Ru,text:Bu,thematicBreak:Hu};function Wu(){return{enter:{table:Gu,tableData:Yu,tableHeader:Yu,tableRow:qu},exit:{codeText:Xu,table:Ku,tableData:Ju,tableHeader:Ju,tableRow:Ju}}}function Gu(e){let t=e._align;this.enter({type:`table`,align:t.map(function(e){return e===`none`?null:e}),children:[]},e),this.data.inTable=!0}function Ku(e){this.exit(e),this.data.inTable=void 0}function qu(e){this.enter({type:`tableRow`,children:[]},e)}function Ju(e){this.exit(e)}function Yu(e){this.enter({type:`tableCell`,children:[]},e)}function Xu(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Zu));let n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Zu(e,t){return t===`|`?t:e}function Qu(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?` `:`|`;return{unsafe:[{character:`\r`,inConstruct:`tableCell`},{character:`
`,inConstruct:`tableCell`},{atBreak:!0,character:`|`,after:`[	 :-]`},{character:`|`,inConstruct:`tableCell`},{atBreak:!0,character:`:`,after:`-`},{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:s}};function o(e,t,n,r){return l(u(e,n,r),e.align)}function s(e,t,n,r){let i=l([d(e,n,r)]);return i.slice(0,i.indexOf(`
`))}function c(e,t,n,r){let i=n.enter(`tableCell`),o=n.enter(`phrasing`),s=n.containerPhrasing(e,{...r,before:a,after:a});return o(),i(),s}function l(e,t){return Kl(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function u(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`table`);for(;++i<r.length;)a[i]=d(r[i],t,n);return o(),a}function d(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`tableRow`);for(;++i<r.length;)a[i]=c(r[i],e,t,n);return o(),a}function f(e,t,n){let r=Uu.inlineCode(e,t,n);return n.stack.includes(`tableCell`)&&(r=r.replace(/\|/g,`\\$&`)),r}}function $u(){return{exit:{taskListCheckValueChecked:td,taskListCheckValueUnchecked:td,paragraph:nd}}}function ed(){return{unsafe:[{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{listItem:rd}}}function td(e){let t=this.stack[this.stack.length-2];t.type,t.checked=e.type===`taskListCheckValueChecked`}function nd(e){let t=this.stack[this.stack.length-2];if(t&&t.type===`listItem`&&typeof t.checked==`boolean`){let e=this.stack[this.stack.length-1];e.type;let n=e.children[0];if(n&&n.type===`text`){let r=t.children,i=-1,a;for(;++i<r.length;){let e=r[i];if(e.type===`paragraph`){a=e;break}}a===e&&(n.value=n.value.slice(1),n.value.length===0?e.children.shift():e.position&&n.position&&typeof n.position.start.offset==`number`&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function rd(e,t,n,r){let i=e.children[0],a=typeof e.checked==`boolean`&&i&&i.type===`paragraph`,o=`[`+(e.checked?`x`:` `)+`] `,s=n.createTracker(r);a&&s.move(o);let c=Uu.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),c;function l(e){return e+o}}function id(){return[ul(),Pl(),zl(),Wu(),$u()]}function ad(e){return{extensions:[dl(),Fl(e),Bl(),Qu(e),ed()]}}var od={tokenize:bd,partial:!0},sd={tokenize:xd,partial:!0},cd={tokenize:Sd,partial:!0},ld={tokenize:Cd,partial:!0},ud={tokenize:wd,partial:!0},dd={name:`wwwAutolink`,tokenize:vd,previous:Td},fd={name:`protocolAutolink`,tokenize:yd,previous:Ed},pd={name:`emailAutolink`,tokenize:_d,previous:Dd},md={};function hd(){return{text:md}}for(var gd=48;gd<123;)md[gd]=pd,gd++,gd===58?gd=65:gd===91&&(gd=97);md[43]=pd,md[45]=pd,md[46]=pd,md[95]=pd,md[72]=[pd,fd],md[104]=[pd,fd],md[87]=[pd,dd],md[119]=[pd,dd];function _d(e,t,n){let r=this,i,a;return o;function o(t){return!Od(t)||!Dd.call(r,r.previous)||kd(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkEmail`),s(t))}function s(t){return Od(t)?(e.consume(t),s):t===64?(e.consume(t),c):n(t)}function c(t){return t===46?e.check(ud,u,l)(t):t===45||t===95||ge(t)?(a=!0,e.consume(t),c):u(t)}function l(t){return e.consume(t),i=!0,c}function u(o){return a&&i&&me(r.previous)?(e.exit(`literalAutolinkEmail`),e.exit(`literalAutolink`),t(o)):n(o)}}function vd(e,t,n){let r=this;return i;function i(t){return t!==87&&t!==119||!Td.call(r,r.previous)||kd(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkWww`),e.check(od,e.attempt(sd,e.attempt(cd,a),n),n)(t))}function a(n){return e.exit(`literalAutolinkWww`),e.exit(`literalAutolink`),t(n)}}function yd(e,t,n){let r=this,i=``,a=!1;return o;function o(t){return(t===72||t===104)&&Ed.call(r,r.previous)&&!kd(r.events)?(e.enter(`literalAutolink`),e.enter(`literalAutolinkHttp`),i+=String.fromCodePoint(t),e.consume(t),s):n(t)}function s(t){if(me(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(t===58){let n=i.toLowerCase();if(n===`http`||n===`https`)return e.consume(t),c}return n(t)}function c(t){return t===47?(e.consume(t),a?l:(a=!0,c)):n(t)}function l(t){return t===null||Ee(t)||w(t)||je(t)||ue(t)?n(t):e.attempt(sd,e.attempt(cd,u),n)(t)}function u(n){return e.exit(`literalAutolinkHttp`),e.exit(`literalAutolink`),t(n)}}function bd(e,t,n){let r=0;return i;function i(t){return(t===87||t===119)&&r<3?(r++,e.consume(t),i):t===46&&r===3?(e.consume(t),a):n(t)}function a(e){return e===null?n(e):t(e)}}function xd(e,t,n){let r,i,a;return o;function o(t){return t===46||t===95?e.check(ld,c,s)(t):t===null||w(t)||je(t)||t!==45&&ue(t)?c(t):(a=!0,e.consume(t),o)}function s(t){return t===95?r=!0:(i=r,r=void 0),e.consume(t),o}function c(e){return i||r||!a?n(e):t(e)}}function Sd(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(ld,t,a)(o):o===null||w(o)||je(o)?t(o):(e.consume(o),i)}function a(t){return t===41&&r++,e.consume(t),i}}function Cd(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||w(o)||je(o)?t(o):n(o)}function i(e){return e===null||e===40||e===91||w(e)||je(e)?t(e):r(e)}function a(e){return me(e)?o(e):n(e)}function o(t){return t===59?(e.consume(t),r):me(t)?(e.consume(t),o):n(t)}}function wd(e,t,n){return r;function r(t){return e.consume(t),i}function i(e){return ge(e)?n(e):t(e)}}function Td(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||w(e)}function Ed(e){return!me(e)}function Dd(e){return!(e===47||Od(e))}function Od(e){return e===43||e===45||e===46||e===95||ge(e)}function kd(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if((r.type===`labelLink`||r.type===`labelImage`)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}var Ad={tokenize:Rd,partial:!0};function jd(){return{document:{91:{name:`gfmFootnoteDefinition`,tokenize:Fd,continuation:{tokenize:Id},exit:Ld}},text:{91:{name:`gfmFootnoteCall`,tokenize:Pd},93:{name:`gfmPotentialFootnoteCall`,add:`after`,tokenize:Md,resolveTo:Nd}}}}function Md(e,t,n){let r=this,i=r.events.length,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),o;for(;i--;){let e=r.events[i][1];if(e.type===`labelImage`){o=e;break}if(e.type===`gfmFootnoteCall`||e.type===`labelLink`||e.type===`label`||e.type===`image`||e.type===`link`)break}return s;function s(i){if(!o||!o._balanced)return n(i);let s=Pe(r.sliceSerialize({start:o.end,end:r.now()}));return s.codePointAt(0)!==94||!a.includes(s.slice(1))?n(i):(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(i),e.exit(`gfmFootnoteCallLabelMarker`),t(i))}}function Nd(e,t){let n=e.length;for(;n--;)if(e[n][1].type===`labelImage`&&e[n][0]===`enter`){e[n][1];break}e[n+1][1].type=`data`,e[n+3][1].type=`gfmFootnoteCallLabelMarker`;let r={type:`gfmFootnoteCall`,start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:`gfmFootnoteCallMarker`,start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;let a={type:`gfmFootnoteCallString`,start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:`chunkString`,contentType:`string`,start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],[`enter`,r,t],e[n+3],e[n+4],[`enter`,i,t],[`exit`,i,t],[`enter`,a,t],[`enter`,o,t],[`exit`,o,t],[`exit`,a,t],e[e.length-2],e[e.length-1],[`exit`,r,t]];return e.splice(n,e.length-n+1,...s),e}function Pd(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a=0,o;return s;function s(t){return e.enter(`gfmFootnoteCall`),e.enter(`gfmFootnoteCallLabelMarker`),e.consume(t),e.exit(`gfmFootnoteCallLabelMarker`),c}function c(t){return t===94?(e.enter(`gfmFootnoteCallMarker`),e.consume(t),e.exit(`gfmFootnoteCallMarker`),e.enter(`gfmFootnoteCallString`),e.enter(`chunkString`).contentType=`string`,l):n(t)}function l(s){if(a>999||s===93&&!o||s===null||s===91||w(s))return n(s);if(s===93){e.exit(`chunkString`);let a=e.exit(`gfmFootnoteCallString`);return i.includes(Pe(r.sliceSerialize(a)))?(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(s),e.exit(`gfmFootnoteCallLabelMarker`),e.exit(`gfmFootnoteCall`),t):n(s)}return w(s)||(o=!0),a++,e.consume(s),s===92?u:l}function u(t){return t===91||t===92||t===93?(e.consume(t),a++,l):l(t)}}function Fd(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a,o=0,s;return c;function c(t){return e.enter(`gfmFootnoteDefinition`)._container=!0,e.enter(`gfmFootnoteDefinitionLabel`),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),l}function l(t){return t===94?(e.enter(`gfmFootnoteDefinitionMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionMarker`),e.enter(`gfmFootnoteDefinitionLabelString`),e.enter(`chunkString`).contentType=`string`,u):n(t)}function u(t){if(o>999||t===93&&!s||t===null||t===91||w(t))return n(t);if(t===93){e.exit(`chunkString`);let n=e.exit(`gfmFootnoteDefinitionLabelString`);return a=Pe(r.sliceSerialize(n)),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),e.exit(`gfmFootnoteDefinitionLabel`),f}return w(t)||(s=!0),o++,e.consume(t),t===92?d:u}function d(t){return t===91||t===92||t===93?(e.consume(t),o++,u):u(t)}function f(t){return t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),i.includes(a)||i.push(a),Ae(e,p,`gfmFootnoteDefinitionWhitespace`)):n(t)}function p(e){return t(e)}}function Id(e,t,n){return e.check(ke,t,e.attempt(Ad,t,n))}function Ld(e){e.exit(`gfmFootnoteDefinition`)}function Rd(e,t,n){let r=this;return Ae(e,i,`gfmFootnoteDefinitionIndent`,5);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`gfmFootnoteDefinitionIndent`&&i[2].sliceSerialize(i[1],!0).length===4?t(e):n(e)}}function zd(e){let t=(e||{}).singleTilde,n={name:`strikethrough`,tokenize:i,resolveAll:r};return t??=!0,{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(e,t){let n=-1;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`strikethroughSequenceTemporary`&&e[n][1]._close){let r=n;for(;r--;)if(e[r][0]===`exit`&&e[r][1].type===`strikethroughSequenceTemporary`&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type=`strikethroughSequence`,e[r][1].type=`strikethroughSequence`;let i={type:`strikethrough`,start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:`strikethroughText`,start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o=[[`enter`,i,t],[`enter`,e[r][1],t],[`exit`,e[r][1],t],[`enter`,a,t]],s=t.parser.constructs.insideSpan.null;s&&Ne(o,o.length,0,pe(s,e.slice(r+1,n),t)),Ne(o,o.length,0,[[`exit`,a,t],[`enter`,e[n][1],t],[`exit`,e[n][1],t],[`exit`,i,t]]),Ne(e,r-1,n-r+3,o),n=r+o.length-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`strikethroughSequenceTemporary`&&(e[n][1].type=`data`);return e}function i(e,n,r){let i=this.previous,a=this.events,o=0;return s;function s(t){return i===126&&a[a.length-1][1].type!==`characterEscape`?r(t):(e.enter(`strikethroughSequenceTemporary`),c(t))}function c(a){let s=xe(i);if(a===126)return o>1?r(a):(e.consume(a),o++,c);if(o<2&&!t)return r(a);let l=e.exit(`strikethroughSequenceTemporary`),u=xe(a);return l._open=!u||u===2&&!!s,l._close=!s||s===2&&!!u,n(a)}}}var Bd=class{constructor(){this.map=[]}add(e,t,n){Vd(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),this.map.length===0)return;let t=this.map.length,n=[];for(;t>0;)--t,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}};function Vd(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Hd(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if(i[0]===`enter`)i[1].type===`tableContent`&&r.push(e[t+1][1].type===`tableDelimiterMarker`?`left`:`none`);else if(i[1].type===`tableContent`){if(e[t-1][1].type===`tableDelimiterMarker`){let e=r.length-1;r[e]=r[e]===`left`?`center`:`right`}}else if(i[1].type===`tableDelimiterRow`)break}else i[0]===`enter`&&i[1].type===`tableDelimiterRow`&&(n=!0);t+=1}return r}function Ud(){return{flow:{null:{name:`table`,tokenize:Wd,resolveAll:Gd}}}}function Wd(e,t,n){let r=this,i=0,a=0,o;return s;function s(e){let t=r.events.length-1;for(;t>-1;){let e=r.events[t][1].type;if(e===`lineEnding`||e===`linePrefix`)t--;else break}let i=t>-1?r.events[t][1].type:null,a=i===`tableHead`||i===`tableRow`?ee:c;return a===ee&&r.parser.lazy[r.now().line]?n(e):a(e)}function c(t){return e.enter(`tableHead`),e.enter(`tableRow`),l(t)}function l(e){return e===124?u(e):(o=!0,a+=1,u(e))}function u(t){return t===null?n(t):Se(t)?a>1?(a=0,r.interrupt=!0,e.exit(`tableRow`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),p):n(t):_e(t)?Ae(e,u,`whitespace`)(t):(a+=1,o&&(o=!1,i+=1),t===124?(e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),o=!0,u):(e.enter(`data`),d(t)))}function d(t){return t===null||t===124||w(t)?(e.exit(`data`),u(t)):(e.consume(t),t===92?f:d)}function f(t){return t===92||t===124?(e.consume(t),d):d(t)}function p(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter(`tableDelimiterRow`),o=!1,_e(t)?Ae(e,m,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):m(t))}function m(t){return t===45||t===58?g(t):t===124?(o=!0,e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),h):x(t)}function h(t){return _e(t)?Ae(e,g,`whitespace`)(t):g(t)}function g(t){return t===58?(a+=1,o=!0,e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),_):t===45?(a+=1,_(t)):t===null||Se(t)?b(t):x(t)}function _(t){return t===45?(e.enter(`tableDelimiterFiller`),v(t)):x(t)}function v(t){return t===45?(e.consume(t),v):t===58?(o=!0,e.exit(`tableDelimiterFiller`),e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),y):(e.exit(`tableDelimiterFiller`),y(t))}function y(t){return _e(t)?Ae(e,b,`whitespace`)(t):b(t)}function b(n){return n===124?m(n):n===null||Se(n)?!o||i!==a?x(n):(e.exit(`tableDelimiterRow`),e.exit(`tableHead`),t(n)):x(n)}function x(e){return n(e)}function ee(t){return e.enter(`tableRow`),S(t)}function S(n){return n===124?(e.enter(`tableCellDivider`),e.consume(n),e.exit(`tableCellDivider`),S):n===null||Se(n)?(e.exit(`tableRow`),t(n)):_e(n)?Ae(e,S,`whitespace`)(n):(e.enter(`data`),te(n))}function te(t){return t===null||t===124||w(t)?(e.exit(`data`),S(t)):(e.consume(t),t===92?ne:te)}function ne(t){return t===92||t===124?(e.consume(t),te):te(t)}}function Gd(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,l,u,d,f=new Bd;for(;++n<e.length;){let p=e[n],m=p[1];p[0]===`enter`?m.type===`tableHead`?(s=!1,c!==0&&(qd(f,t,c,l,u),u=void 0,c=0),l={type:`table`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,l,t]])):m.type===`tableRow`||m.type===`tableDelimiterRow`?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:`tableBody`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,u,t]])),i=m.type===`tableDelimiterRow`?2:u?3:1):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Kd(f,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type===`tableCellDivider`&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=Kd(f,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type===`tableHead`?(s=!0,c=n):m.type===`tableRow`||m.type===`tableDelimiterRow`?(c=n,a[1]===0?o[1]!==0&&(d=Kd(f,t,o,i,n,d)):(o[0]=o[1],d=Kd(f,t,a,i,n,d)),i=0):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)&&(o[3]=n)}for(c!==0&&qd(f,t,c,l,u),f.consume(t.events),n=-1;++n<t.events.length;){let e=t.events[n];e[0]===`enter`&&e[1].type===`table`&&(e[1]._align=Hd(t.events,n))}return e}function Kd(e,t,n,r,i,a){let o=r===1?`tableHeader`:r===2?`tableDelimiter`:`tableData`;n[0]!==0&&(a.end=Object.assign({},Jd(t.events,n[0])),e.add(n[0],0,[[`exit`,a,t]]));let s=Jd(t.events,n[1]);if(a={type:o,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[[`enter`,a,t]]),n[2]!==0){let i=Jd(t.events,n[2]),a=Jd(t.events,n[3]),o={type:`tableContent`,start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[[`enter`,o,t]]),r!==2){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type=`chunkText`,r[1].contentType=`text`,n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[[`exit`,o,t]])}return i!==void 0&&(a.end=Object.assign({},Jd(t.events,i)),e.add(i,0,[[`exit`,a,t]]),a=void 0),a}function qd(e,t,n,r,i){let a=[],o=Jd(t.events,n);i&&(i.end=Object.assign({},o),a.push([`exit`,i,t])),r.end=Object.assign({},o),a.push([`exit`,r,t]),e.add(n+1,0,a)}function Jd(e,t){let n=e[t],r=n[0]===`enter`?`start`:`end`;return n[1][r]}var Yd={name:`tasklistCheck`,tokenize:Zd};function Xd(){return{text:{91:Yd}}}function Zd(e,t,n){let r=this;return i;function i(t){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(t):(e.enter(`taskListCheck`),e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),a)}function a(t){return w(t)?(e.enter(`taskListCheckValueUnchecked`),e.consume(t),e.exit(`taskListCheckValueUnchecked`),o):t===88||t===120?(e.enter(`taskListCheckValueChecked`),e.consume(t),e.exit(`taskListCheckValueChecked`),o):n(t)}function o(t){return t===93?(e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),e.exit(`taskListCheck`),s):n(t)}function s(r){return Se(r)?t(r):_e(r)?e.check({tokenize:Qd},t,n)(r):n(r)}}function Qd(e,t,n){return Ae(e,r,`whitespace`);function r(e){return e===null?n(e):t(e)}}function $d(e){return fe([hd(),jd(),zd(e),Ud(),Xd()])}var ef={};function tf(e){let t=this,n=e||ef,r=t.data(),i=r.micromarkExtensions||=[],a=r.fromMarkdownExtensions||=[],o=r.toMarkdownExtensions||=[];i.push($d(n)),a.push(id()),o.push(ad(n))}var nf=({isOpen:e,onClose:t})=>{let{t:n}=vt(`common`),[r,i]=(0,T.useState)(!1),a=Bt(`images/alipay.webp`),o=()=>{i(!1),t()},s=tl(1763805845604).format(`YYYY-MM-DD HH:mm:ss`);return(0,E.jsxs)(E.Fragment,{children:[r&&(0,E.jsx)(`div`,{className:`fixed inset-0 z-[31000] flex items-center justify-center bg-black/60`,onClick:()=>i(!1),children:(0,E.jsx)(`img`,{src:a,alt:n(`introModal.helpImageAlt`,`Intro image`),className:`max-w-[90vw] max-h-[90vh] rounded-lg shadow-xl`,onClick:e=>e.stopPropagation()})}),(0,E.jsx)(l,{isOpen:e,onOpenChange:e=>{e||o()},size:`3xl`,backdrop:`blur`,placement:`center`,scrollBehavior:`inside`,classNames:{wrapper:`z-[30000]`,backdrop:`z-[29999] bg-background/60 backdrop-blur-md`,base:`z-[30001]`},hideCloseButton:!0,children:(0,E.jsx)(ae,{children:()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(oe,{className:`flex flex-col gap-1`,children:[(0,E.jsx)(`span`,{className:`text-base font-semibold`,children:n(`introModal.title`)}),(0,E.jsx)(`span`,{className:`text-xs text-default-500`,children:`${n(`introModal.version`,`Version`)} dc22b1 (${s})`})]}),(0,E.jsxs)(se,{className:`space-y-3`,children:[(0,E.jsx)(`div`,{className:`text-sm text-default-600 prose prose-sm dark:prose-invert max-w-none`,children:(0,E.jsx)(Ce,{remarkPlugins:[tf],children:n(`introModal.body`)})}),(0,E.jsx)(`div`,{className:`text-sm text-default-600 prose prose-sm dark:prose-invert max-w-none`,children:(0,E.jsx)(Ce,{remarkPlugins:[tf],children:n(`introModal.hint`)})})]}),(0,E.jsxs)(h,{className:`flex items-center justify-between`,children:[(0,E.jsx)(C,{isIconOnly:!0,variant:`light`,onPress:()=>i(!0),children:(0,E.jsx)(g,{icon:Me,className:`text-xl`})}),(0,E.jsx)(C,{color:`primary`,variant:`solid`,size:`sm`,onPress:t,children:n(`ui.confirm`)})]})]})})})]})};async function rf(e){let t=await fetch(e);if(!t.ok)throw Error(`Failed to load ${e}: ${t.status} ${t.statusText}`);return f(await t.text())}function af(){let{getBaseUrl:e}=Nt();return(0,T.useCallback)(t=>rf(`${e().replace(/\/+$/,``)}/${t.replace(/^\/+/,``)}?build=dc22b1b434e2d8f2a8f81f39e4dda6b9571ae96e`),[e])}function of(){let[e,t]=(0,T.useState)([]),[n,r]=(0,T.useState)([]),[i,a]=(0,T.useState)(!0),o=af();return(0,T.useEffect)(()=>{let e=!1;console.log(`useGameData`);async function n(){try{let[n,i]=await Promise.all([o(`data/maps.yaml`),o(`data/types.yaml`)]);if(e)return;t(n.maps.filter(e=>e.isVisible)),r(i.categories)}catch(e){console.error(e)}finally{e||a(!1)}}return n(),()=>{e=!0}},[o]),{maps:e,types:n,loading:i}}var sf=`aion2.completedMarkers.v1.`;function cf(e){let[t,n]=(0,T.useState)([]),[r,i]=(0,T.useState)([]),[a,o]=(0,T.useState)(!1),s=af(),[c,l]=(0,T.useState)(()=>new Set),u=(0,T.useCallback)(e=>`${e.id}`,[]);(0,T.useEffect)(()=>{if(!e){n([]),i([]);return}let t=!1;async function r(){o(!0);try{let r=await s(`data/markers/${e}.yaml`);if(t)return;let a=await s(`data/regions/${e}.yaml`);n(r.markers),i(a.regions)}catch(e){console.error(e),t||(n([]),i([]))}finally{t||o(!1)}}return r(),()=>{t=!0}},[e,s]);let d=(0,T.useMemo)(()=>{let e=new Map;for(let n of t){let t=n.subtype;e.set(t,(e.get(t)??0)+1)}return e},[t]);(0,T.useEffect)(()=>{if(!e){l(new Set);return}let t=`${sf}${e}`,n=localStorage.getItem(t);if(!n){l(new Set);return}try{let e=JSON.parse(n);l(new Set(e))}catch{l(new Set)}},[e]),(0,T.useEffect)(()=>{if(!e)return;let t=`${sf}${e}`,n=Array.from(c);localStorage.setItem(t,JSON.stringify(n))},[c,e]);let f=(0,T.useCallback)(e=>{let t=u(e);l(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},[u]);return{markers:t,regions:r,loading:a,subtypeCounts:d,completedSet:c,completedCounts:(0,T.useMemo)(()=>{let e=new Map;for(let n of t){let t=n.subtype,r=u(n);c.has(r)&&e.set(t,(e.get(t)??0)+1)}return e},[t,c,u]),toggleMarkerCompleted:f}}var lf=`aion2.visibleSubtypes.v1.`,uf=`aion2.visibleRegions.v1.`,df=(e,t,n)=>{if(!t||!n)return;let r=`${e}${t}`;try{let e=Array.from(n),t=JSON.stringify(e);console.log(`Save`,r,t),typeof window<`u`&&window.localStorage.setItem(r,t)}catch(e){console.warn(`Failed to save to localStorage`,r,e)}},ff=(e,t,n)=>{let r=`${e}${t}`;try{let e=typeof window<`u`?window.localStorage.getItem(r):null;if(!e)throw Error(`Storage is missing`);console.log(`Load`,r,e);let t=JSON.parse(e),i=new Set;return t.forEach(e=>{n.has(e)&&i.add(e)}),i}catch(e){return console.warn(`Failed to parse from localStorage`,r,e),null}},pf=()=>{let{maps:e,types:t,loading:n}=of(),[r,i]=(0,T.useState)(null),{markers:a,regions:o,loading:s,subtypeCounts:c,completedSet:l,completedCounts:u,toggleMarkerCompleted:d}=cf(r),[f,p]=(0,T.useState)(null),[m,h]=(0,T.useState)(null),[g,_]=(0,T.useState)(new Map),[v,y]=(0,T.useState)(!0),[b,x]=(0,T.useState)(!1),[ee,S]=(0,T.useState)(!0);(0,T.useEffect)(()=>{if(!e||e.length===0)return;if(r){Rt(`map`,r);return}let t=Lt(`map`);if(t&&e.some(e=>e.name===t))i(t);else if(e.length>0&&!r){let t=e[0].name;i(t),Rt(`map`,t)}},[e,r]),(0,T.useEffect)(()=>{if(!r||t.length===0)return;let e=new Map;t.forEach(t=>{t.subtypes.forEach(n=>{n.category=t.name,e.set(n.name,n)})}),_(e);let n=new Set(e.keys());p(ff(lf,r,n)||n)},[r,t]),(0,T.useEffect)(()=>{if(!r||o.length===0)return;let e=new Set(o.map(e=>e.name));h(ff(uf,r,e)||e)},[r,o]),(0,T.useEffect)(()=>{console.log(`saveVisibleData`,r,f),df(lf,r,f)},[r,f]),(0,T.useEffect)(()=>{console.log(`saveVisibleData`,r,m),df(uf,r,m)},[r,m]);let ne=(0,T.useMemo)(()=>e.find(e=>e.name===r)??null,[e,r]),re=(0,T.useRef)(null);return n&&!ne?(0,E.jsx)(`div`,{className:`h-screen w-screen flex items-center justify-center`,children:(0,E.jsx)(te,{label:`Loading maps...`})}):(0,E.jsxs)(`div`,{className:`h-screen w-screen flex flex-col`,children:[(0,E.jsx)(Ht,{onOpenIntroModal:()=>S(!0)}),(0,E.jsx)(nf,{isOpen:ee,onClose:()=>S(!1)}),(0,E.jsxs)(`div`,{className:`flex flex-1 overflow-hidden`,children:[(0,E.jsx)(Ut,{maps:e,regions:o,types:t,selectedMapId:r,onMapChange:t=>{i(t);let n=re.current,r=e.find(e=>e.name===t);if(n&&r){let e=r.tileWidth*r?.tilesCountY,t=r.tileWidth*r?.tilesCountX;n.setView([e/2,t/2],n.getZoom())}},loadingMarkers:s,subtypeCounts:c,completedCounts:u,visibleSubtypes:f||new Set,onToggleSubtype:e=>{p(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},visibleRegions:m||new Set,onToggleRegion:e=>{h(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},showLabels:v,onToggleShowLabels:y,onShowAllSubtypes:()=>{p(new Set(g.keys()))},onHideAllSubtypes:()=>{p(new Set)},collapsed:b,onToggleCollapsed:()=>x(e=>!e)}),(0,E.jsx)(vn,{selectedMap:ne,markers:a,mapRef:re,visibleSubtypes:f||new Set,types:t,subtypes:g,showLabels:v,completedSet:l,toggleMarkerCompleted:d})]})]})};function mf(){if(typeof window>`u`)return;let e=localStorage.getItem(`theme`),t=document.documentElement,n=`light`;n=e===`dark`||e===`light`?e:window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`,n===`dark`?t.classList.add(`dark`):t.classList.remove(`dark`)}mf(),yt.createRoot(document.getElementById(`root`)).render((0,E.jsx)(T.StrictMode,{children:(0,E.jsx)(we,{children:(0,E.jsx)(Mt,{children:(0,E.jsx)(pf,{})})})}));