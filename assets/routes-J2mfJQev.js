import{o as e,t}from"./rolldown-runtime-GyhWBpbT.js";import{a as n,n as r,t as i}from"./vendor-react-DPCMXswl.js";import{a,c as o,i as s,l as c,n as l,o as u,r as d,s as f,t as p,u as m}from"./vendor-map-CvIN0rYy.js";import{i as h}from"./vendor-i18n-BumZ4fJa.js";import{$ as g,C as _,D as v,Dt as y,Et as b,G as x,H as S,J as C,L as w,M as ee,O as te,Ot as T,P as ne,R as re,S as E,St as ie,Tt as ae,Y as oe,Z as D,_ as se,_t as ce,a as O,b as le,bt as k,c as ue,ct as A,d as de,dt as fe,et as pe,f as me,ft as he,g as ge,h as _e,i as ve,j as ye,k as be,l as xe,lt as Se,m as Ce,n as we,o as Te,p as Ee,r as De,s as Oe,t as ke,tt as Ae,u as je,ut as Me,v as Ne,vt as Pe,w as Fe,wt as j,x as Ie,xt as Le,y as Re,yt as ze}from"./vendor-ui-BsJo3T0s.js";import{_ as Be,c as Ve,d as He,f as Ue,g as We,h as Ge,i as Ke,l as qe,m as Je,n as Ye,o as Xe,p as Ze,r as Qe,s as $e,u as et,v as tt}from"./index-CbZfjLYD.js";import{t as nt}from"./useYamlLoader-WUYg_D_O.js";var rt=e(t(((e,t)=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}))()),M=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function it(e){var t={type:`tag`,name:``,voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(rt.default[n[1]]||e.charAt(e.length-2)===`/`)&&(t.voidElement=!0),t.name.startsWith(`!--`))){var r=e.indexOf(`-->`);return{type:`comment`,comment:r===-1?``:e.slice(4,r)}}for(var i=new RegExp(M),a=null;(a=i.exec(e))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,``];o.indexOf(`=`)>-1&&(s=o.split(`=`)),t.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var at=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ot=/^\s*$/,st=Object.create(null);function ct(e,t){switch(t.type){case`text`:return e+t.content;case`tag`:return e+=`<`+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+`="`+e[n]+`"`);return t.length?` `+t.join(` `):``}(t.attrs):``)+(t.voidElement?`/>`:`>`),t.voidElement?e:e+t.children.reduce(ct,``)+`</`+t.name+`>`;case`comment`:return e+`<!--`+t.comment+`-->`}}var lt={parse:function(e,t){t||={},t.components||=st;var n,r=[],i=[],a=-1,o=!1;if(e.indexOf(`<`)!==0){var s=e.indexOf(`<`);r.push({type:`text`,content:s===-1?e:e.substring(0,s)})}return e.replace(at,function(s,c){if(o){if(s!==`</`+n.name+`>`)return;o=!1}var l,u=s.charAt(1)!==`/`,d=s.startsWith(`<!--`),f=c+s.length,p=e.charAt(f);if(d){var m=it(s);return a<0?(r.push(m),r):((l=i[a]).children.push(m),r)}if(u&&(a++,(n=it(s)).type===`tag`&&t.components[n.name]&&(n.type=`component`,o=!0),n.voidElement||o||!p||p===`<`||n.children.push({type:`text`,content:e.slice(f,e.indexOf(`<`,f))}),a===0&&r.push(n),(l=i[a-1])&&l.children.push(n),i[a]=n),(!u||n.voidElement)&&(a>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(a--,n=a===-1?r:i[a]),!o&&p!==`<`&&p)){l=a===-1?r:i[a].children;var h=e.indexOf(`<`,f),g=e.slice(f,h===-1?void 0:h);ot.test(g)&&(g=` `),(h>-1&&a+l.length>=0||g!==` `)&&l.push({type:`text`,content:g})}}),r},stringify:function(e){return e.reduce(function(e,t){return e+ct(``,t)},``)}},N=e(n()),ut=(e,t)=>{if(!e)return!1;let n=e.props?.children??e.children;return t?n.length>0:!!n},dt=e=>{if(!e)return[];let t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?pt(t):t},ft=e=>Array.isArray(e)&&e.every(N.isValidElement),pt=e=>Array.isArray(e)?e:[e],mt=(e,t)=>{let n={...t};return n.props=Object.assign(e.props,t.props),n};const ht=(e,t,n,r)=>{if(!e)return``;let i=``,a=pt(e),o=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((e,a)=>{if(We(e)){i+=`${e}`;return}if((0,N.isValidElement)(e)){let{props:s,type:c}=e,l=Object.keys(s).length,u=o.indexOf(c)>-1,d=s.children;if(!d&&u&&!l){i+=`<${c}/>`;return}if(!d&&(!u||l)||s.i18nIsDynamicList){i+=`<${a}></${a}>`;return}if(u&&l===1&&We(d)){i+=`<${c}>${d}</${c}>`;return}let f=ht(d,t,n,r);i+=`<${a}>${f}</${a}>`;return}if(e===null){Be(n,`TRANS_NULL_VALUE`,`Passed in a null value as child`,{i18nKey:r});return}if(Ge(e)){let{format:t,...a}=e,o=Object.keys(a);if(o.length===1){let e=t?`${o[0]}, ${t}`:o[0];i+=`{{${e}}}`;return}Be(n,`TRANS_INVALID_OBJ`,`Invalid child - Object should only have keys {{ value, format }} (format is optional).`,{i18nKey:r,child:e});return}Be(n,`TRANS_INVALID_VAR`,`Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.`,{i18nKey:r,child:e})}),i};var gt=(e,t=[],n={})=>{if(!e)return e;let r=Object.keys(n),i=[...t,...r],a=``,o=0;for(;o<e.length;)if(e[o]===`<`){let t=!1,n=e.slice(o).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(n){let e=n[1];(/^\d+$/.test(e)||i.includes(e))&&(t=!0,a+=n[0],o+=n[0].length)}if(!t){let n=e.slice(o).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(n){let e=n[1];(/^\d+$/.test(e)||i.includes(e))&&(t=!0,a+=n[0],o+=n[0].length)}}t||(a+=`&lt;`,o+=1)}else a+=e[o],o+=1;return a},_t=(e,t,n,r,i,a,o)=>{if(n===``)return[];let s=i.transKeepBasicHtmlNodesFor||[],c=n&&new RegExp(s.map(e=>`<${e}`).join(`|`)).test(n);if(!e&&!t&&!c&&!o)return[n];let l=t??{},u=e=>{pt(e).forEach(e=>{We(e)||(ut(e)?u(dt(e)):Ge(e)&&!(0,N.isValidElement)(e)&&Object.assign(l,e))})};u(e);let d=gt(n,s,l),f=lt.parse(`<0>${d}</0>`),p={...l,...a},m=(e,t,n)=>{let r=dt(e),i=g(r,t.children,n);return ft(r)&&i.length===0||e.props?.i18nIsDynamicList?r:i},h=(e,t,n,r,i)=>{e.dummy?(e.children=t,n.push((0,N.cloneElement)(e,{key:r},i?void 0:t))):n.push(...N.Children.map([e],e=>{let n={...e.props};return delete n.i18nIsDynamicList,(0,N.createElement)(e.type,{...n,key:r,ref:e.props.ref??e.ref},i?null:t)}))},g=(e,n,a)=>{let l=pt(e);return pt(n).reduce((e,n,u)=>{let d=n.children?.[0]?.content&&r.services.interpolator.interpolate(n.children[0].content,p,r.language);if(n.type===`tag`){let o=l[parseInt(n.name,10)];!o&&t&&(o=t[n.name]),a.length===1&&!o&&(o=a[0][n.name]),o||={};let f=Object.keys(n.attrs).length===0?o:mt({props:n.attrs},o),_=(0,N.isValidElement)(f),v=_&&ut(n,!0)&&!n.voidElement,y=c&&Ge(f)&&f.dummy&&!_,b=Ge(t)&&Object.hasOwnProperty.call(t,n.name);if(We(f)){let t=r.services.interpolator.interpolate(f,p,r.language);e.push(t)}else if(ut(f)||v)h(f,m(f,n,a),e,u);else if(y)h(f,g(l,n.children,a),e,u);else if(Number.isNaN(parseFloat(n.name)))if(b)h(f,m(f,n,a),e,u,n.voidElement);else if(i.transSupportBasicHtmlNodes&&s.indexOf(n.name)>-1)if(n.voidElement)e.push((0,N.createElement)(n.name,{key:`${n.name}-${u}`}));else{let t=g(l,n.children,a);e.push((0,N.createElement)(n.name,{key:`${n.name}-${u}`},t))}else if(n.voidElement)e.push(`<${n.name} />`);else{let t=g(l,n.children,a);e.push(`<${n.name}>${t}</${n.name}>`)}else if(Ge(f)&&!_){let t=n.children[0]?d:null;t&&e.push(t)}else h(f,d,e,u,n.children.length!==1||!d)}else if(n.type===`text`){let t=i.transWrapTextNodes,a=o?i.unescape(r.services.interpolator.interpolate(n.content,p,r.language)):r.services.interpolator.interpolate(n.content,p,r.language);t?e.push((0,N.createElement)(t,{key:`${n.name}-${u}`},a)):e.push(a)}return e},[])};return dt(g([{dummy:!0,children:e||[]}],f,pt(e||[]))[0])},vt=(e,t,n)=>{let r=e.key||t,i=(0,N.cloneElement)(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function a(){return(0,N.createElement)(N.Fragment,null,i)}return(0,N.createElement)(a,{key:r})},yt=(e,t)=>e.map((e,n)=>vt(e,n,t)),bt=(e,t)=>{let n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:vt(e[r],r,t)})}),n},xt=(e,t,n,r)=>e?Array.isArray(e)?yt(e,t):Ge(e)?bt(e,t):(tt(n,`TRANS_INVALID_COMPONENTS`,`<Trans /> "components" prop expects an object or array`,{i18nKey:r}),null):null,P=e=>!Ge(e)||Array.isArray(e)?!1:Object.keys(e).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0);function St({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:a={},values:o,defaults:s,components:c,ns:l,i18n:u,t:d,shouldUnescape:f,...p}){let m=u||Ze();if(!m)return tt(m,`NO_I18NEXT_INSTANCE`,`Trans: You need to pass in an i18next instance using i18nextReactModule`,{i18nKey:r}),e;let g=d||m.t.bind(m)||(e=>e),_={...Je(),...m.options?.react},v=l||g.ns||m.options?.defaultNS;v=We(v)?[v]:v||[`translation`];let y=ht(e,_,m,r),b=s||a?.defaultValue||y||_.transEmptyNodeValue||(typeof r==`function`?h(r):r),{hashTransKey:x}=_,S=r||(x?x(y||b):y||b);m.options?.interpolation?.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});let C=o||t!==void 0&&!m.options?.interpolation?.alwaysFormat||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:`#$?`,suffix:`?$#`}},w={...a,context:i||a.context,count:t,...o,...C,defaultValue:b,ns:v},ee=S?g(S,w):b;ee===S&&b&&(ee=b);let te=xt(c,ee,m,r),T=te||e,ne=null;P(te)&&(ne=te,T=e);let re=_t(T,ne,ee,m,_,w,f),E=n??_.defaultTransParent;return E?(0,N.createElement)(E,p,re):re}function Ct({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:a={},values:o,defaults:s,components:c,ns:l,i18n:u,t:d,shouldUnescape:f,...p}){let{i18n:m,defaultNS:h}=(0,N.useContext)(Ue)||{},g=u||m||Ze(),_=d||g?.t.bind(g);return St({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:a,values:o,defaults:s,components:c,ns:l||_?.ns||h||g?.options?.defaultNS,i18n:g,t:d,shouldUnescape:f,...p})}function wt(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}var Tt=e(m(),1),F=e(r(),1),Et=(0,N.createContext)(null);const Dt=({children:e})=>{let[t,n]=(0,N.useState)([]),[r,i]=(0,N.useState)([]),[a,o]=(0,N.useState)(!0),[s,c]=(0,N.useState)(void 0),l=nt();return(0,N.useEffect)(()=>{let e=!1;console.log(`GameDataProvider: loading game data`);async function t(){try{let[t,r]=await Promise.all([l(`data/maps.yaml`),l(`data/types.yaml`)]);if(e)return;n(t.maps.filter(e=>e.isVisible)),i(r.categories)}catch(e){console.error(e)}finally{e||o(!1)}}return t(),()=>{e=!0}},[l]),(0,N.useEffect)(()=>{if(!t||t.length===0)return;if(s){et(`map`,s.name);return}let e=$e(`map`);if(e){c(t.find(t=>t.name===e));return}t.length>0&&!s&&(c(t[0]),et(`map`,t[0].name))},[t,s]),(0,F.jsx)(Et.Provider,{value:{maps:t,types:r,loading:a,selectedMap:s,setSelectedMap:c},children:e})};function Ot(){let e=(0,N.useContext)(Et);if(!e)throw Error(`useGameMap must be used inside <GameMapProvider>`);return e}var I=(0,N.createContext)(null),kt=`aion2.completedMarkers.v1`,At=`aion2.completedMarkers.v2`;function jt(e){let t=`${kt}.${e}`;try{let e=localStorage.getItem(t);if(!e)return new Set;let n=JSON.parse(e);return console.log(`Load`,t,n),new Set(n)}catch{return new Set}}function Mt(e){let t=`${kt}.${e}`;localStorage.removeItem(t)}function Nt(e,t,n){let r=`${At}.${e}.${t}`;localStorage.setItem(r,JSON.stringify([...n])),console.log(`Save`,r,n)}function Pt(e,t){let n=`${At}.${e}.${t}`;try{let e=localStorage.getItem(n);if(!e)return new Set;let t=JSON.parse(e).filter(e=>typeof e==`number`);return new Set(t)}catch{return new Set}}const Ft=({children:e})=>{let[t,n]=(0,N.useState)([]),[r,i]=(0,N.useState)([]),[a,o]=(0,N.useState)(!1),[s,c]=(0,N.useState)(!1),l=nt(),{selectedMap:u}=Ot(),d=`markers/${u?.name}`,{t:f,i18n:p}=He([d]),[m,h]=(0,N.useState)({}),g=(0,N.useMemo)(()=>u?t.map(e=>{let t=f(`${d}:${e.id}.name`,e.name??``),n=f(`${d}:${e.id}.description`,``);return{...e,localizedName:t,localizedDescription:n}}):[],[t,u,f,p.language]),_=(0,N.useMemo)(()=>{let e={};for(let t of g)e[t.id]=t;return e},[g]);(0,N.useEffect)(()=>{if(!u){n([]),i([]);return}let e=!1;async function t(){o(!0);try{let t=await l(`data/markers/${u?.name}.yaml`);if(e)return;let r=await l(`data/regions/${u?.name}.yaml`);n(t.markers),i(r.regions)}catch(t){console.error(t),e||(n([]),i([]))}finally{e||o(!1)}}return t(),()=>{e=!0}},[u,l]);let v=(0,N.useMemo)(()=>{let e={};for(let n of t)e[n.subtype]||(e[n.subtype]=new Set),e[n.subtype].add(n.indexInSubtype);let n={};for(let t of Object.keys(e))n[t]=e[t].size;return n},[t]),y=(0,N.useMemo)(()=>{let e={};for(let[t,n]of Object.entries(m))e[t]=n.size;return e},[m]);(0,N.useEffect)(()=>{if(!u){h({});return}let e=u.name,n=new Set(t.map(e=>e.subtype)),r={},i=!1;for(let t of n){let n=Pt(e,t);n.size>0&&(i=!0),r[t]=n}if(i){h(r);return}let a=jt(e);if(a.size===0){h(r);return}console.log(`[Markers] Migrating V1 → V2`);let o={};for(let e of t){let t=e.id;a.has(t)&&(o[e.subtype]||(o[e.subtype]=new Set),o[e.subtype].add(e.indexInSubtype))}for(let t of Object.keys(o))Nt(e,t,o[t]);h(()=>({...r,...o}))},[u,t]);let b=(0,N.useCallback)(e=>{if(!u)return;let t=u.name,{subtype:n,indexInSubtype:r}=e;h(e=>{let i={...e},a=new Set(e[n]??[]);return a.has(r)?a.delete(r):a.add(r),i[n]=a,Nt(t,n,a),i})},[u]),x=(0,N.useCallback)(()=>{if(!u)return;let e=u.name;Mt(e),h(t=>{let n={};for(let r of Object.keys(t))n[r]=new Set,Nt(e,r,new Set);return n})},[u]);return(0,F.jsx)(I.Provider,{value:{markers:g,markersById:_,regions:r,loading:a,showLabels:s,setShowLabels:c,subtypeCounts:v,completedCounts:y,completedBySubtype:m,toggleMarkerCompleted:b,clearMarkerCompleted:x},children:e})};function It(){let e=(0,N.useContext)(I);if(!e)throw Error(`useMarkers must be used inside <MarkersProvider>`);return e}var Lt=(0,N.createContext)(null),Rt=`aion2.visibleSubtypes.v1.`,zt=`aion2.visibleRegions.v1.`,Bt=(e,t,n)=>{if(!t||!n)return;let r=`${e}${t.name}`;try{let e=Array.from(n),t=JSON.stringify(e);console.log(`Save`,r,t),typeof window<`u`&&window.localStorage.setItem(r,t)}catch(e){console.warn(`Failed to save to localStorage`,r,e)}},Vt=(e,t,n)=>{let r=`${e}${t.name}`;try{let e=typeof window<`u`?window.localStorage.getItem(r):null;if(!e)throw Error(`Storage is missing`);console.log(`Load`,r,e);let t=JSON.parse(e),i=new Set;return t.forEach(e=>{n.has(e)&&i.add(e)}),i}catch(e){return console.warn(`Failed to parse from localStorage`,r,e),null}};const Ht=({children:e})=>{let[t,n]=(0,N.useState)(void 0),[r,i]=(0,N.useState)(void 0),[a,o]=(0,N.useState)(new Map),[s,c]=(0,N.useState)(!1),{types:l,selectedMap:u}=Ot(),{regions:d}=It();return(0,N.useEffect)(()=>{if(!u||l.length===0)return;let e=new Map;l.forEach(t=>{t.subtypes.forEach(n=>{n.category=t.name,e.set(n.name,n)})}),o(e);let t=Vt(Rt,u,new Set(e.keys()));if(t)n(t);else{let t=new Set;e.forEach((e,n)=>{console.log(e,u,n),(e.category===`location`||e.name===`monolithMaterial`&&u.type===`abyss`)&&t.add(n)}),n(t)}},[u,l]),(0,N.useEffect)(()=>{if(!u||d.length===0)return;let e=new Set(d.map(e=>e.name));i(Vt(zt,u,e)||e)},[u,d]),(0,N.useEffect)(()=>{console.log(`saveVisibleData`,u,t),Bt(Rt,u,t)},[u,t]),(0,N.useEffect)(()=>{console.log(`saveVisibleData`,u,r),Bt(zt,u,r)},[u,r]),(0,F.jsx)(Lt.Provider,{value:{visibleSubtypes:t,setVisibleSubtypes:n,visibleRegions:r,setVisibleRegions:i,allSubtypes:a,setAllSubtypes:o,handleToggleSubtype:e=>{n(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},handleToggleRegion:e=>{i(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},handleShowAllSubtypes:()=>{n(new Set(a.keys()))},handleHideAllSubtypes:()=>{n(new Set)},showBorders:s,handleToggleBorders:()=>{c(!s)}},children:e})};function Ut(){let e=(0,N.useContext)(Lt);if(!e)throw Error(`useGameData must be used inside <GameDataProvider>`);return e}var Wt=e(i(),1);function Gt(e,t,n,r=!1){let i=40*t,a=(0,Wt.renderToString)((0,F.jsxs)(`div`,{style:{position:`relative`,width:`40px`,height:`40px`,display:`flex`,alignItems:`center`,justifyContent:`center`,opacity:n?.4:1},children:[r?(0,F.jsx)(`div`,{style:{width:`${i}px`,height:`${i}px`,borderRadius:`50%`,overflow:`hidden`,border:`1.5px solid rgba(255,255,255,0.9)`,boxShadow:`0 0 6px rgba(0,0,0,0.6)`,display:`flex`,alignItems:`center`,justifyContent:`center`,backgroundColor:`rgba(0,0,0,0.4)`},children:(0,F.jsx)(`img`,{src:e,alt:``,style:{width:`100%`,height:`100%`,objectFit:`cover`,pointerEvents:`none`}})}):(0,F.jsx)(`img`,{src:e,alt:``,style:{width:`${i}px`,height:`${i}px`,objectFit:`contain`,pointerEvents:`none`,zIndex:1e3}}),n&&(0,F.jsx)(D,{icon:v,style:{position:`absolute`,fontSize:`12px`,right:`-2px`,bottom:`-2px`,color:`#22c55e`}})]}));return Tt.default.divIcon({html:a,className:``,iconSize:[40,40],iconAnchor:[40/2,40/2],popupAnchor:[0,-10]})}var Kt=e(m(),1),qt=(0,N.memo)(({marker:e,onSelectMarker:t})=>{let{selectedMap:n,types:r}=Ot(),{allSubtypes:i}=Ut(),{showLabels:o,completedBySubtype:s}=It(),{t:c}=He();if(!n)return null;let l=i.get(e.subtype),u=r.find(e=>e.name===l?.category),d=c(`types:subtypes.${l?.name}.name`),f=l?.iconScale||1.25,m=!!l?.hideTooltip,h=!1;l?.name&&s[l.name]&&(h=s[l.name].has(e.indexInSubtype));let g=qe(e.icon||l?.icon||``,n),_;_=u?.name===`creature`?Gt(g,.9,h,!0):Gt(g,f,h);let v=e.localizedName||e.name||d;return(0,F.jsx)(a,{position:new Kt.default.LatLng(e.y,e.x),icon:_,eventHandlers:{click:()=>{console.log(`clicked`),t?.(e.id)}},children:o&&!m&&(0,F.jsx)(p,{permanent:!0,direction:`top`,offset:[0,-15],className:`game-marker-tooltip`,children:v})})}),Jt=e(m(),1),Yt=class extends Jt.default.TileLayer{constructor(e){e.tileSize=e.selectedMap.tileWidth,super(``,e),this.gameOptions=e}getTileUrl(e){let{selectedMap:t,isWatermark:n}=this.gameOptions,r=e.x,i=t.tilesCountY+e.y;if(r<0||i<0||r>=t.tilesCountX||i>=t.tilesCountY)return``;if(n)return Ve(`images/watermark.webp`);let a=String(r).padStart(2,`0`),o=String(i).padStart(2,`0`);return Ve(`UI/Map/WorldMap/${t.name}/Res/${t.name}_${a}_${o}.webp`)}},Xt=({selectedMap:e})=>{let t=o();return(0,N.useEffect)(()=>{console.log(`[GameMapTiles] useEffect mount`,{selectedMap:e,map:t});let n=new Yt({selectedMap:e,noWrap:!0,minZoom:t.getMinZoom(),maxZoom:t.getMaxZoom(),maxNativeZoom:0,minNativeZoom:0});n.addTo(t);let r=new Yt({selectedMap:e,isWatermark:!0,noWrap:!0,minZoom:t.getMinZoom(),maxZoom:t.getMaxZoom(),maxNativeZoom:0,minNativeZoom:0,opacity:.2});return r.addTo(t),()=>{console.log(`[GameMapTiles] useEffect cleanup`),t.removeLayer(n),t.removeLayer(r)}},[t,e]),null},Zt=[`#ff3c3c`,`#3cd23c`,`#3c78ff`,`#ffd200`];function Qt(e){let t=0;for(let n=0;n<e.length;n++)t=t*31+e.charCodeAt(n)|0;return Math.abs(t)%Zt.length}var $t=([e,t])=>[t,e],en=({hoveredRegion:e,setHoveredRegion:t})=>{let{regions:n}=It(),{showBorders:r}=Ut();function i(e,t){let n=`${e}`,r=`${t}`;return n<r?`${n}|${r}`:`${r}|${n}`}let a=(0,N.useMemo)(()=>{let e=new Map;return n.forEach(t=>{t.borders.forEach(n=>{for(let r=0;r<n.length-1;r++){let a=n[r],o=n[r+1],s=i(a,o),c=[$t(a),$t(o)];e.has(s)?e.get(s).regions.push(t.name):e.set(s,{positions:c,regions:[t.name]})}})}),[...e.entries()].map(([e,t])=>({key:e,positions:t.positions,regions:t.regions,color:Zt[Qt(t.regions[0])]}))},[n]);return(0,F.jsxs)(f,{children:[n.map(e=>e.borders.map((n,r)=>(0,F.jsx)(s,{positions:n.map($t),pathOptions:{color:`transparent`,fillOpacity:0},eventHandlers:{mouseover:()=>t(e),mouseout:()=>t(void 0)}},`${e.name}-hit-${r}`))),r?a.map(t=>(0,F.jsx)(d,{positions:t.positions,pathOptions:e&&t.regions.includes(e.name)?{color:`#ffffff`,weight:3,opacity:1,dashArray:`1 0`}:{color:`#ffffff`,weight:3,opacity:.5,dashArray:`8 5`},interactive:!1},t.key)):null]})},tn=[];for(let e=0;e<256;++e)tn.push((e+256).toString(16).slice(1));function nn(e,t=0){return(tn[e[t+0]]+tn[e[t+1]]+tn[e[t+2]]+tn[e[t+3]]+`-`+tn[e[t+4]]+tn[e[t+5]]+`-`+tn[e[t+6]]+tn[e[t+7]]+`-`+tn[e[t+8]]+tn[e[t+9]]+`-`+tn[e[t+10]]+tn[e[t+11]]+tn[e[t+12]]+tn[e[t+13]]+tn[e[t+14]]+tn[e[t+15]]).toLowerCase()}var rn,an=new Uint8Array(16);function L(){if(!rn){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);rn=crypto.getRandomValues.bind(crypto)}return rn(an)}var on={randomUUID:typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function sn(e,t,n){e||={};let r=e.random??e.rng?.()??L();if(r.length<16)throw Error(`Random bytes length must be >= 16`);if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n||=0,n<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return nn(r)}function R(e,t,n){return on.randomUUID&&!t&&!e?on.randomUUID():sn(e,t,n)}var z=R,cn=e(t(((e,t)=>{(function(){var n,r=`4.17.21`,i=200,a=`Unsupported core-js use. Try https://npms.io/search?q=ponyfill.`,o=`Expected a function`,s="Invalid `variable` option passed into `_.template`",c=`__lodash_hash_undefined__`,l=500,u=`__lodash_placeholder__`,d=1,f=2,p=4,m=1,h=2,g=1,_=2,v=4,y=8,b=16,x=32,S=64,C=128,w=256,ee=512,te=30,T=`...`,ne=800,re=16,E=1,ie=2,ae=3,oe=1/0,D=9007199254740991,se=17976931348623157e292,ce=NaN,O=4294967295,le=O-1,k=O>>>1,ue=[[`ary`,C],[`bind`,g],[`bindKey`,_],[`curry`,y],[`curryRight`,b],[`flip`,ee],[`partial`,x],[`partialRight`,S],[`rearg`,w]],A=`[object Arguments]`,de=`[object Array]`,fe=`[object AsyncFunction]`,pe=`[object Boolean]`,me=`[object Date]`,he=`[object DOMException]`,ge=`[object Error]`,_e=`[object Function]`,ve=`[object GeneratorFunction]`,ye=`[object Map]`,be=`[object Number]`,xe=`[object Null]`,Se=`[object Object]`,Ce=`[object Promise]`,we=`[object Proxy]`,Te=`[object RegExp]`,Ee=`[object Set]`,De=`[object String]`,Oe=`[object Symbol]`,ke=`[object Undefined]`,Ae=`[object WeakMap]`,je=`[object WeakSet]`,Me=`[object ArrayBuffer]`,Ne=`[object DataView]`,Pe=`[object Float32Array]`,Fe=`[object Float64Array]`,j=`[object Int8Array]`,Ie=`[object Int16Array]`,Le=`[object Int32Array]`,Re=`[object Uint8Array]`,ze=`[object Uint8ClampedArray]`,Be=`[object Uint16Array]`,Ve=`[object Uint32Array]`,He=/\b__p \+= '';/g,Ue=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ge=/&(?:amp|lt|gt|quot|#39);/g,Ke=/[&<>"']/g,qe=RegExp(Ge.source),Je=RegExp(Ke.source),Ye=/<%-([\s\S]+?)%>/g,Xe=/<%([\s\S]+?)%>/g,Ze=/<%=([\s\S]+?)%>/g,Qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$e=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(tt.source),rt=/^\s+/,M=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,ot=/,? & /,st=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,N=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,pt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,ht=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,vt=/['\n\r\u2028\u2029\\]/g,yt=`\\ud800-\\udfff`,bt=`\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff`,xt=`\\u2700-\\u27bf`,P=`a-z\\xdf-\\xf6\\xf8-\\xff`,St=`\\xac\\xb1\\xd7\\xf7`,Ct=`\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf`,wt=`\\u2000-\\u206f`,Tt=` \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000`,F=`A-Z\\xc0-\\xd6\\xd8-\\xde`,Et=`\\ufe0e\\ufe0f`,Dt=St+Ct+wt+Tt,Ot=`['’]`,I=`[`+yt+`]`,kt=`[`+Dt+`]`,At=`[`+bt+`]`,jt=`\\d+`,Mt=`[`+xt+`]`,Nt=`[`+P+`]`,Pt=`[^`+yt+Dt+jt+xt+P+F+`]`,Ft=`\\ud83c[\\udffb-\\udfff]`,It=`(?:`+At+`|`+Ft+`)`,Lt=`[^`+yt+`]`,Rt=`(?:\\ud83c[\\udde6-\\uddff]){2}`,zt=`[\\ud800-\\udbff][\\udc00-\\udfff]`,Bt=`[`+F+`]`,Vt=`\\u200d`,Ht=`(?:`+Nt+`|`+Pt+`)`,Ut=`(?:`+Bt+`|`+Pt+`)`,Wt=`(?:`+Ot+`(?:d|ll|m|re|s|t|ve))?`,Gt=`(?:`+Ot+`(?:D|LL|M|RE|S|T|VE))?`,Kt=It+`?`,qt=`[`+Et+`]?`,Jt=`(?:`+Vt+`(?:`+[Lt,Rt,zt].join(`|`)+`)`+qt+Kt+`)*`,Yt=`\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])`,Xt=`\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])`,Zt=qt+Kt+Jt,Qt=`(?:`+[Mt,Rt,zt].join(`|`)+`)`+Zt,$t=`(?:`+[Lt+At+`?`,At,Rt,zt,I].join(`|`)+`)`,en=RegExp(Ot,`g`),tn=RegExp(At,`g`),nn=RegExp(Ft+`(?=`+Ft+`)|`+$t+Zt,`g`),rn=RegExp([Bt+`?`+Nt+`+`+Wt+`(?=`+[kt,Bt,`$`].join(`|`)+`)`,Ut+`+`+Gt+`(?=`+[kt,Bt+Ht,`$`].join(`|`)+`)`,Bt+`?`+Ht+`+`+Wt,Bt+`+`+Gt,Xt,Yt,jt,Qt].join(`|`),`g`),an=RegExp(`[`+Vt+yt+bt+Et+`]`),L=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,on=`Array.Buffer.DataView.Date.Error.Float32Array.Float64Array.Function.Int8Array.Int16Array.Int32Array.Map.Math.Object.Promise.RegExp.Set.String.Symbol.TypeError.Uint8Array.Uint8ClampedArray.Uint16Array.Uint32Array.WeakMap._.clearTimeout.isFinite.parseInt.setTimeout`.split(`.`),sn=-1,R={};R[Pe]=R[Fe]=R[j]=R[Ie]=R[Le]=R[Re]=R[ze]=R[Be]=R[Ve]=!0,R[A]=R[de]=R[Me]=R[pe]=R[Ne]=R[me]=R[ge]=R[_e]=R[ye]=R[be]=R[Se]=R[Te]=R[Ee]=R[De]=R[Ae]=!1;var z={};z[A]=z[de]=z[Me]=z[Ne]=z[pe]=z[me]=z[Pe]=z[Fe]=z[j]=z[Ie]=z[Le]=z[ye]=z[be]=z[Se]=z[Te]=z[Ee]=z[De]=z[Oe]=z[Re]=z[ze]=z[Be]=z[Ve]=!0,z[ge]=z[_e]=z[Ae]=!1;var cn={À:`A`,Á:`A`,Â:`A`,Ã:`A`,Ä:`A`,Å:`A`,à:`a`,á:`a`,â:`a`,ã:`a`,ä:`a`,å:`a`,Ç:`C`,ç:`c`,Ð:`D`,ð:`d`,È:`E`,É:`E`,Ê:`E`,Ë:`E`,è:`e`,é:`e`,ê:`e`,ë:`e`,Ì:`I`,Í:`I`,Î:`I`,Ï:`I`,ì:`i`,í:`i`,î:`i`,ï:`i`,Ñ:`N`,ñ:`n`,Ò:`O`,Ó:`O`,Ô:`O`,Õ:`O`,Ö:`O`,Ø:`O`,ò:`o`,ó:`o`,ô:`o`,õ:`o`,ö:`o`,ø:`o`,Ù:`U`,Ú:`U`,Û:`U`,Ü:`U`,ù:`u`,ú:`u`,û:`u`,ü:`u`,Ý:`Y`,ý:`y`,ÿ:`y`,Æ:`Ae`,æ:`ae`,Þ:`Th`,þ:`th`,ß:`ss`,Ā:`A`,Ă:`A`,Ą:`A`,ā:`a`,ă:`a`,ą:`a`,Ć:`C`,Ĉ:`C`,Ċ:`C`,Č:`C`,ć:`c`,ĉ:`c`,ċ:`c`,č:`c`,Ď:`D`,Đ:`D`,ď:`d`,đ:`d`,Ē:`E`,Ĕ:`E`,Ė:`E`,Ę:`E`,Ě:`E`,ē:`e`,ĕ:`e`,ė:`e`,ę:`e`,ě:`e`,Ĝ:`G`,Ğ:`G`,Ġ:`G`,Ģ:`G`,ĝ:`g`,ğ:`g`,ġ:`g`,ģ:`g`,Ĥ:`H`,Ħ:`H`,ĥ:`h`,ħ:`h`,Ĩ:`I`,Ī:`I`,Ĭ:`I`,Į:`I`,İ:`I`,ĩ:`i`,ī:`i`,ĭ:`i`,į:`i`,ı:`i`,Ĵ:`J`,ĵ:`j`,Ķ:`K`,ķ:`k`,ĸ:`k`,Ĺ:`L`,Ļ:`L`,Ľ:`L`,Ŀ:`L`,Ł:`L`,ĺ:`l`,ļ:`l`,ľ:`l`,ŀ:`l`,ł:`l`,Ń:`N`,Ņ:`N`,Ň:`N`,Ŋ:`N`,ń:`n`,ņ:`n`,ň:`n`,ŋ:`n`,Ō:`O`,Ŏ:`O`,Ő:`O`,ō:`o`,ŏ:`o`,ő:`o`,Ŕ:`R`,Ŗ:`R`,Ř:`R`,ŕ:`r`,ŗ:`r`,ř:`r`,Ś:`S`,Ŝ:`S`,Ş:`S`,Š:`S`,ś:`s`,ŝ:`s`,ş:`s`,š:`s`,Ţ:`T`,Ť:`T`,Ŧ:`T`,ţ:`t`,ť:`t`,ŧ:`t`,Ũ:`U`,Ū:`U`,Ŭ:`U`,Ů:`U`,Ű:`U`,Ų:`U`,ũ:`u`,ū:`u`,ŭ:`u`,ů:`u`,ű:`u`,ų:`u`,Ŵ:`W`,ŵ:`w`,Ŷ:`Y`,ŷ:`y`,Ÿ:`Y`,Ź:`Z`,Ż:`Z`,Ž:`Z`,ź:`z`,ż:`z`,ž:`z`,Ĳ:`IJ`,ĳ:`ij`,Œ:`Oe`,œ:`oe`,ŉ:`'n`,ſ:`s`},ln={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#39;`},un={"&amp;":`&`,"&lt;":`<`,"&gt;":`>`,"&quot;":`"`,"&#39;":`'`},dn={"\\":`\\`,"'":`'`,"\n":`n`,"\r":`r`,"\u2028":`u2028`,"\u2029":`u2029`},fn=parseFloat,pn=parseInt,mn=typeof global==`object`&&global&&global.Object===Object&&global,hn=typeof self==`object`&&self&&self.Object===Object&&self,gn=mn||hn||Function(`return this`)(),_n=typeof e==`object`&&e&&!e.nodeType&&e,vn=_n&&typeof t==`object`&&t&&!t.nodeType&&t,yn=vn&&vn.exports===_n,bn=yn&&mn.process,xn=function(){try{return vn&&vn.require&&vn.require(`util`).types||bn&&bn.binding&&bn.binding(`util`)}catch{}}(),Sn=xn&&xn.isArrayBuffer,Cn=xn&&xn.isDate,wn=xn&&xn.isMap,Tn=xn&&xn.isRegExp,En=xn&&xn.isSet,Dn=xn&&xn.isTypedArray;function On(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kn(e,t,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function An(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function jn(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function Mn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nn(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Pn(e,t){return!!(e!=null&&e.length)&&Wn(e,t,0)>-1}function Fn(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function B(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function In(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function V(e,t,n,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ln(e,t,n,r){var i=e==null?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Rn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zn=Jn(`length`);function Bn(e){return e.split(``)}function Vn(e){return e.match(st)||[]}function Hn(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Un(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Wn(e,t,n){return t===t?br(e,t,n):Un(e,Kn,n)}function Gn(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Kn(e){return e!==e}function qn(e,t){var n=e==null?0:e.length;return n?Qn(e,t)/n:ce}function Jn(e){return function(t){return t==null?n:t[e]}}function Yn(e){return function(t){return e==null?n:e[t]}}function Xn(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Zn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Qn(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function $n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function er(e,t){return B(t,function(t){return[t,e[t]]})}function tr(e){return e&&e.slice(0,wr(e)+1).replace(rt,``)}function nr(e){return function(t){return e(t)}}function rr(e,t){return B(t,function(t){return e[t]})}function ir(e,t){return e.has(t)}function ar(e,t){for(var n=-1,r=e.length;++n<r&&Wn(t,e[n],0)>-1;);return n}function or(e,t){for(var n=e.length;n--&&Wn(t,e[n],0)>-1;);return n}function sr(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var cr=Yn(cn),lr=Yn(ln);function ur(e){return`\\`+dn[e]}function dr(e,t){return e==null?n:e[t]}function fr(e){return an.test(e)}function pr(e){return L.test(e)}function mr(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function hr(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function gr(e,t){return function(n){return e(t(n))}}function _r(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];(o===t||o===u)&&(e[n]=u,a[i++]=n)}return a}function vr(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function yr(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function br(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function xr(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Sr(e){return fr(e)?Er(e):zn(e)}function Cr(e){return fr(e)?Dr(e):Bn(e)}function wr(e){for(var t=e.length;t--&&M.test(e.charAt(t)););return t}var Tr=Yn(un);function Er(e){for(var t=nn.lastIndex=0;nn.test(e);)++t;return t}function Dr(e){return e.match(nn)||[]}function Or(e){return e.match(rn)||[]}var kr=(function e(t){t=t==null?gn:kr.defaults(gn.Object(),t,kr.pick(gn,on));var M=t.Array,st=t.Date,yt=t.Error,bt=t.Function,xt=t.Math,P=t.Object,St=t.RegExp,Ct=t.String,wt=t.TypeError,Tt=M.prototype,F=bt.prototype,Et=P.prototype,Dt=t[`__core-js_shared__`],Ot=F.toString,I=Et.hasOwnProperty,kt=0,At=function(){var e=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||``);return e?`Symbol(src)_1.`+e:``}(),jt=Et.toString,Mt=Ot.call(P),Nt=gn._,Pt=St(`^`+Ot.call(I).replace(tt,`\\$&`).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,`$1.*?`)+`$`),Ft=yn?t.Buffer:n,It=t.Symbol,Lt=t.Uint8Array,Rt=Ft?Ft.allocUnsafe:n,zt=gr(P.getPrototypeOf,P),Bt=P.create,Vt=Et.propertyIsEnumerable,Ht=Tt.splice,Ut=It?It.isConcatSpreadable:n,Wt=It?It.iterator:n,Gt=It?It.toStringTag:n,Kt=function(){try{var e=Qo(P,`defineProperty`);return e({},``,{}),e}catch{}}(),qt=t.clearTimeout!==gn.clearTimeout&&t.clearTimeout,Jt=st&&st.now!==gn.Date.now&&st.now,Yt=t.setTimeout!==gn.setTimeout&&t.setTimeout,Xt=xt.ceil,Zt=xt.floor,Qt=P.getOwnPropertySymbols,$t=Ft?Ft.isBuffer:n,nn=t.isFinite,rn=Tt.join,an=gr(P.keys,P),L=xt.max,cn=xt.min,ln=st.now,un=t.parseInt,dn=xt.random,mn=Tt.reverse,hn=Qo(t,`DataView`),_n=Qo(t,`Map`),vn=Qo(t,`Promise`),bn=Qo(t,`Set`),xn=Qo(t,`WeakMap`),zn=Qo(P,`create`),Bn=xn&&new xn,Yn={},br=Ls(hn),Er=Ls(_n),Dr=Ls(vn),Ar=Ls(bn),jr=Ls(xn),Mr=It?It.prototype:n,Nr=Mr?Mr.valueOf:n,Pr=Mr?Mr.toString:n;function H(e){if(Z(e)&&!Y(e)&&!(e instanceof U)){if(e instanceof Lr)return e;if(I.call(e,`__wrapped__`))return zs(e)}return new Lr(e)}var Fr=function(){function e(){}return function(t){if(!X(t))return{};if(Bt)return Bt(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Ir(){}function Lr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}H.templateSettings={escape:Ye,evaluate:Xe,interpolate:Ze,variable:``,imports:{_:H}},H.prototype=Ir.prototype,H.prototype.constructor=H,Lr.prototype=Fr(Ir.prototype),Lr.prototype.constructor=Lr;function U(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function Rr(){var e=new U(this.__wrapped__);return e.__actions__=lo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=lo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=lo(this.__views__),e}function zr(){if(this.__filtered__){var e=new U(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Br(){var e=this.__wrapped__.value(),t=this.__dir__,n=Y(e),r=t<0,i=n?e.length:0,a=rs(0,i,this.__views__),o=a.start,s=a.end,c=s-o,l=r?s:o-1,u=this.__iteratees__,d=u.length,f=0,p=cn(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return Wa(e,this.__actions__);var m=[];outer:for(;c--&&f<p;){l+=t;for(var h=-1,g=e[l];++h<d;){var _=u[h],v=_.iteratee,y=_.type,b=v(g);if(y==ie)g=b;else if(!b){if(y==E)continue outer;break outer}}m[f++]=g}return m}U.prototype=Fr(Ir.prototype),U.prototype.constructor=U;function Vr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hr(){this.__data__=zn?zn(null):{},this.size=0}function Ur(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Wr(e){var t=this.__data__;if(zn){var r=t[e];return r===c?n:r}return I.call(t,e)?t[e]:n}function Gr(e){var t=this.__data__;return zn?t[e]!==n:I.call(t,e)}function Kr(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zn&&t===n?c:t,this}Vr.prototype.clear=Hr,Vr.prototype.delete=Ur,Vr.prototype.get=Wr,Vr.prototype.has=Gr,Vr.prototype.set=Kr;function qr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jr(){this.__data__=[],this.size=0}function Yr(e){var t=this.__data__,n=bi(t,e);return n<0?!1:(n==t.length-1?t.pop():Ht.call(t,n,1),--this.size,!0)}function Xr(e){var t=this.__data__,r=bi(t,e);return r<0?n:t[r][1]}function Zr(e){return bi(this.__data__,e)>-1}function Qr(e,t){var n=this.__data__,r=bi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}qr.prototype.clear=Jr,qr.prototype.delete=Yr,qr.prototype.get=Xr,qr.prototype.has=Zr,qr.prototype.set=Qr;function $r(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ei(){this.size=0,this.__data__={hash:new Vr,map:new(_n||qr),string:new Vr}}function ti(e){var t=Xo(this,e).delete(e);return this.size-=t?1:0,t}function ni(e){return Xo(this,e).get(e)}function ri(e){return Xo(this,e).has(e)}function ii(e,t){var n=Xo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}$r.prototype.clear=ei,$r.prototype.delete=ti,$r.prototype.get=ni,$r.prototype.has=ri,$r.prototype.set=ii;function ai(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $r;++t<n;)this.add(e[t])}function oi(e){return this.__data__.set(e,c),this}function si(e){return this.__data__.has(e)}ai.prototype.add=ai.prototype.push=oi,ai.prototype.has=si;function ci(e){this.size=(this.__data__=new qr(e)).size}function li(){this.__data__=new qr,this.size=0}function ui(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function di(e){return this.__data__.get(e)}function fi(e){return this.__data__.has(e)}function pi(e,t){var n=this.__data__;if(n instanceof qr){var r=n.__data__;if(!_n||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $r(r)}return n.set(e,t),this.size=n.size,this}ci.prototype.clear=li,ci.prototype.delete=ui,ci.prototype.get=di,ci.prototype.has=fi,ci.prototype.set=pi;function mi(e,t){var n=Y(e),r=!n&&fu(e),i=!n&&!r&&_u(e),a=!n&&!r&&!i&&Hu(e),o=n||r||i||a,s=o?$n(e.length,Ct):[],c=s.length;for(var l in e)(t||I.call(e,l))&&!(o&&(l==`length`||i&&(l==`offset`||l==`parent`)||a&&(l==`buffer`||l==`byteLength`||l==`byteOffset`)||ds(l,c)))&&s.push(l);return s}function hi(e){var t=e.length;return t?e[Ta(0,t-1)]:n}function gi(e,t){return Ps(lo(e),Ei(t,0,e.length))}function _i(e){return Ps(lo(e))}function vi(e,t,r){(r!==n&&!lu(e[t],r)||r===n&&!(t in e))&&wi(e,t,r)}function yi(e,t,r){var i=e[t];(!(I.call(e,t)&&lu(i,r))||r===n&&!(t in e))&&wi(e,t,r)}function bi(e,t){for(var n=e.length;n--;)if(lu(e[n][0],t))return n;return-1}function xi(e,t,n,r){return W(e,function(e,i,a){t(r,e,n(e),a)}),r}function Si(e,t){return e&&uo(t,Sd(t),e)}function Ci(e,t){return e&&uo(t,Cd(t),e)}function wi(e,t,n){t==`__proto__`&&Kt?Kt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ti(e,t){for(var r=-1,i=t.length,a=M(i),o=e==null;++r<i;)a[r]=o?n:gd(e,t[r]);return a}function Ei(e,t,r){return e===e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function Di(e,t,r,i,a,o){var s,c=t&d,l=t&f,u=t&p;if(r&&(s=a?r(e,i,a,o):r(e)),s!==n)return s;if(!X(e))return e;var m=Y(e);if(m){if(s=os(e),!c)return lo(e,s)}else{var h=ns(e),g=h==_e||h==ve;if(_u(e))return $a(e,c);if(h==Se||h==A||g&&!a){if(s=l||g?{}:ss(e),!c)return l?po(e,Ci(s,e)):fo(e,Si(s,e))}else{if(!z[h])return a?e:{};s=cs(e,h,c)}}o||=new ci;var _=o.get(e);if(_)return _;o.set(e,s),zu(e)?e.forEach(function(n){s.add(Di(n,t,r,n,e,o))}):Ou(e)&&e.forEach(function(n,i){s.set(i,Di(n,t,r,i,e,o))});var v=m?n:(u?l?Ko:Go:l?Cd:Sd)(e);return An(v||e,function(n,i){v&&(i=n,n=e[i]),yi(s,i,Di(n,t,r,i,e,o))}),s}function Oi(e){var t=Sd(e);return function(n){return ki(n,e,t)}}function ki(e,t,r){var i=r.length;if(e==null)return!i;for(e=P(e);i--;){var a=r[i],o=t[a],s=e[a];if(s===n&&!(a in e)||!o(s))return!1}return!0}function Ai(e,t,r){if(typeof e!=`function`)throw new wt(o);return As(function(){e.apply(n,r)},t)}function ji(e,t,n,r){var a=-1,o=Pn,s=!0,c=e.length,l=[],u=t.length;if(!c)return l;n&&(t=B(t,nr(n))),r?(o=Fn,s=!1):t.length>=i&&(o=ir,s=!1,t=new ai(t));outer:for(;++a<c;){var d=e[a],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue outer;l.push(d)}else o(t,f,r)||l.push(d)}return l}var W=go(zi),Mi=go(Bi,!0);function G(e,t){var n=!0;return W(e,function(e,r,i){return n=!!t(e,r,i),n}),n}function Ni(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(s!=null&&(c===n?s===s&&!Vu(s):r(s,c)))var c=s,l=o}return l}function Pi(e,t,r,i){var a=e.length;for(r=Q(r),r<0&&(r=-r>a?0:a+r),i=i===n||i>a?a:Q(i),i<0&&(i+=a),i=r>i?0:Xu(i);r<i;)e[r++]=t;return e}function Fi(e,t){var n=[];return W(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Ii(e,t,n,r,i){var a=-1,o=e.length;for(n||=us,i||=[];++a<o;){var s=e[a];t>0&&n(s)?t>1?Ii(s,t-1,n,r,i):In(i,s):r||(i[i.length]=s)}return i}var Li=_o(),Ri=_o(!0);function zi(e,t){return e&&Li(e,t,Sd)}function Bi(e,t){return e&&Ri(e,t,Sd)}function Vi(e,t){return Nn(t,function(t){return Tu(e[t])})}function Hi(e,t){t=Ya(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[Is(t[r++])];return r&&r==i?e:n}function Ui(e,t,n){var r=t(e);return Y(e)?r:In(r,n(e))}function Wi(e){return e==null?e===n?ke:xe:Gt&&Gt in P(e)?$o(e):ws(e)}function Gi(e,t){return e>t}function Ki(e,t){return e!=null&&I.call(e,t)}function qi(e,t){return e!=null&&t in P(e)}function Ji(e,t,n){return e>=cn(t,n)&&e<L(t,n)}function Yi(e,t,r){for(var i=r?Fn:Pn,a=e[0].length,o=e.length,s=o,c=M(o),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=B(d,nr(t))),l=cn(d.length,l),c[s]=!r&&(t||a>=120&&d.length>=120)?new ai(s&&d):n}d=e[0];var f=-1,p=c[0];outer:for(;++f<a&&u.length<l;){var m=d[f],h=t?t(m):m;if(m=r||m!==0?m:0,!(p?ir(p,h):i(u,h,r))){for(s=o;--s;){var g=c[s];if(!(g?ir(g,h):i(e[s],h,r)))continue outer}p&&p.push(h),u.push(m)}}return u}function Xi(e,t,n,r){return zi(e,function(e,i,a){t(r,n(e),i,a)}),r}function Zi(e,t,r){t=Ya(t,e),e=Es(e,t);var i=e==null?e:e[Is(uc(t))];return i==null?n:On(i,e,r)}function Qi(e){return Z(e)&&Wi(e)==A}function $i(e){return Z(e)&&Wi(e)==Me}function ea(e){return Z(e)&&Wi(e)==me}function ta(e,t,n,r,i){return e===t?!0:e==null||t==null||!Z(e)&&!Z(t)?e!==e&&t!==t:na(e,t,n,r,ta,i)}function na(e,t,n,r,i,a){var o=Y(e),s=Y(t),c=o?de:ns(e),l=s?de:ns(t);c=c==A?Se:c,l=l==A?Se:l;var u=c==Se,d=l==Se,f=c==l;if(f&&_u(e)){if(!_u(t))return!1;o=!0,u=!1}if(f&&!u)return a||=new ci,o||Hu(e)?Vo(e,t,n,r,i,a):Ho(e,t,c,n,r,i,a);if(!(n&m)){var p=u&&I.call(e,`__wrapped__`),h=d&&I.call(t,`__wrapped__`);if(p||h){var g=p?e.value():e,_=h?t.value():t;return a||=new ci,i(g,_,n,r,a)}}return f?(a||=new ci,Uo(e,t,n,r,i,a)):!1}function ra(e){return Z(e)&&ns(e)==ye}function ia(e,t,r,i){var a=r.length,o=a,s=!i;if(e==null)return!o;for(e=P(e);a--;){var c=r[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){c=r[a];var l=c[0],u=e[l],d=c[1];if(s&&c[2]){if(u===n&&!(l in e))return!1}else{var f=new ci;if(i)var p=i(u,d,l,e,t,f);if(!(p===n?ta(d,u,m|h,i,f):p))return!1}}return!0}function aa(e){return!X(e)||gs(e)?!1:(Tu(e)?Pt:pt).test(Ls(e))}function oa(e){return Z(e)&&Wi(e)==Te}function sa(e){return Z(e)&&ns(e)==Ee}function ca(e){return Z(e)&&Du(e.length)&&!!R[Wi(e)]}function la(e){return typeof e==`function`?e:e==null?jf:typeof e==`object`?Y(e)?ha(e[0],e[1]):ma(e):Wf(e)}function ua(e){if(!vs(e))return an(e);var t=[];for(var n in P(e))I.call(e,n)&&n!=`constructor`&&t.push(n);return t}function da(e){if(!X(e))return Cs(e);var t=vs(e),n=[];for(var r in e)r==`constructor`&&(t||!I.call(e,r))||n.push(r);return n}function fa(e,t){return e<t}function pa(e,t){var n=-1,r=mu(e)?M(e.length):[];return W(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function ma(e){var t=Zo(e);return t.length==1&&t[0][2]?bs(t[0][0],t[0][1]):function(n){return n===e||ia(n,e,t)}}function ha(e,t){return ps(e)&&ys(t)?bs(Is(e),t):function(r){var i=gd(r,e);return i===n&&i===t?vd(r,e):ta(t,i,m|h)}}function ga(e,t,r,i,a){e!==t&&Li(t,function(o,s){if(a||=new ci,X(o))_a(e,t,s,r,ga,i,a);else{var c=i?i(Os(e,s),o,s+``,e,t,a):n;c===n&&(c=o),vi(e,s,c)}},Cd)}function _a(e,t,r,i,a,o,s){var c=Os(e,r),l=Os(t,r),u=s.get(l);if(u){vi(e,r,u);return}var d=o?o(c,l,r+``,e,t,s):n,f=d===n;if(f){var p=Y(l),m=!p&&_u(l),h=!p&&!m&&Hu(l);d=l,p||m||h?Y(c)?d=c:hu(c)?d=lo(c):m?(f=!1,d=$a(l,!0)):h?(f=!1,d=io(l,!0)):d=[]:Iu(l)||fu(l)?(d=c,fu(c)?d=Qu(c):(!X(c)||Tu(c))&&(d=ss(l))):f=!1}f&&(s.set(l,d),a(d,l,i,o,s),s.delete(l)),vi(e,r,d)}function va(e,t){var r=e.length;if(r)return t+=t<0?r:0,ds(t,r)?e[t]:n}function ya(e,t,n){t=t.length?B(t,function(e){return Y(e)?function(t){return Hi(t,e.length===1?e[0]:e)}:e}):[jf];var r=-1;return t=B(t,nr(J())),Zn(pa(e,function(e,n,i){return{criteria:B(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return oo(e,t,n)})}function ba(e,t){return xa(e,t,function(t,n){return vd(e,n)})}function xa(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Hi(e,o);n(s,o)&&q(a,Ya(o,e),s)}return a}function Sa(e){return function(t){return Hi(t,e)}}function Ca(e,t,n,r){var i=r?Gn:Wn,a=-1,o=t.length,s=e;for(e===t&&(t=lo(t)),n&&(s=B(e,nr(n)));++a<o;)for(var c=0,l=t[a],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&Ht.call(s,c,1),Ht.call(e,c,1);return e}function wa(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ds(i)?Ht.call(e,i,1):Va(e,i)}}return e}function Ta(e,t){return e+Zt(dn()*(t-e+1))}function Ea(e,t,n,r){for(var i=-1,a=L(Xt((t-e)/(n||1)),0),o=M(a);a--;)o[r?a:++i]=e,e+=n;return o}function Da(e,t){var n=``;if(!e||t<1||t>D)return n;do t%2&&(n+=e),t=Zt(t/2),t&&(e+=e);while(t);return n}function K(e,t){return js(Ts(e,t,jf),e+``)}function Oa(e){return hi(Vd(e))}function ka(e,t){var n=Vd(e);return Ps(n,Ei(t,0,n.length))}function q(e,t,r,i){if(!X(e))return e;t=Ya(t,e);for(var a=-1,o=t.length,s=o-1,c=e;c!=null&&++a<o;){var l=Is(t[a]),u=r;if(l===`__proto__`||l===`constructor`||l===`prototype`)return e;if(a!=s){var d=c[l];u=i?i(d,l,c):n,u===n&&(u=X(d)?d:ds(t[a+1])?[]:{})}yi(c,l,u),c=c[l]}return e}var Aa=Bn?function(e,t){return Bn.set(e,t),e}:jf,ja=Kt?function(e,t){return Kt(e,`toString`,{configurable:!0,enumerable:!1,value:Df(t),writable:!0})}:jf;function Ma(e){return Ps(Vd(e))}function Na(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=M(i);++r<i;)a[r]=e[r+t];return a}function Pa(e,t){var n;return W(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Fa(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t==`number`&&t===t&&i<=k){for(;r<i;){var a=r+i>>>1,o=e[a];o!==null&&!Vu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Ia(e,t,jf,n)}function Ia(e,t,r,i){var a=0,o=e==null?0:e.length;if(o===0)return 0;t=r(t);for(var s=t!==t,c=t===null,l=Vu(t),u=t===n;a<o;){var d=Zt((a+o)/2),f=r(e[d]),p=f!==n,m=f===null,h=f===f,g=Vu(f);if(s)var _=i||h;else _=u?h&&(i||p):c?h&&p&&(i||!m):l?h&&p&&!m&&(i||!g):m||g?!1:i?f<=t:f<t;_?a=d+1:o=d}return cn(o,le)}function La(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!lu(s,c)){var c=s;a[i++]=o===0?0:o}}return a}function Ra(e){return typeof e==`number`?e:Vu(e)?ce:+e}function za(e){if(typeof e==`string`)return e;if(Y(e))return B(e,za)+``;if(Vu(e))return Pr?Pr.call(e):``;var t=e+``;return t==`0`&&1/e==-oe?`-0`:t}function Ba(e,t,n){var r=-1,a=Pn,o=e.length,s=!0,c=[],l=c;if(n)s=!1,a=Fn;else if(o>=i){var u=t?null:Fo(e);if(u)return vr(u);s=!1,a=ir,l=new ai}else l=t?[]:c;outer:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue outer;t&&l.push(f),c.push(d)}else a(l,f,n)||(l!==c&&l.push(f),c.push(d))}return c}function Va(e,t){return t=Ya(t,e),e=Es(e,t),e==null||delete e[Is(uc(t))]}function Ha(e,t,n,r){return q(e,t,n(Hi(e,t)),r)}function Ua(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Na(e,r?0:a,r?a+1:i):Na(e,r?a+1:0,r?i:a)}function Wa(e,t){var n=e;return n instanceof U&&(n=n.value()),V(t,function(e,t){return t.func.apply(t.thisArg,In([e],t.args))},n)}function Ga(e,t,n){var r=e.length;if(r<2)return r?Ba(e[0]):[];for(var i=-1,a=M(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=ji(a[i]||o,e[s],t,n));return Ba(Ii(a,1),t,n)}function Ka(e,t,r){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var c=i<o?t[i]:n;r(s,e[i],c)}return s}function qa(e){return hu(e)?e:[]}function Ja(e){return typeof e==`function`?e:jf}function Ya(e,t){return Y(e)?e:ps(e,t)?[e]:Fs($(e))}var Xa=K;function Za(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:Na(e,t,r)}var Qa=qt||function(e){return gn.clearTimeout(e)};function $a(e,t){if(t)return e.slice();var n=e.length,r=Rt?Rt(n):new e.constructor(n);return e.copy(r),r}function eo(e){var t=new e.constructor(e.byteLength);return new Lt(t).set(new Lt(e)),t}function to(e,t){var n=t?eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function no(e){var t=new e.constructor(e.source,ut.exec(e));return t.lastIndex=e.lastIndex,t}function ro(e){return Nr?P(Nr.call(e)):{}}function io(e,t){var n=t?eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ao(e,t){if(e!==t){var r=e!==n,i=e===null,a=e===e,o=Vu(e),s=t!==n,c=t===null,l=t===t,u=Vu(t);if(!c&&!u&&!o&&e>t||o&&s&&l&&!c&&!u||i&&s&&l||!r&&l||!a)return 1;if(!i&&!o&&!u&&e<t||u&&r&&a&&!i&&!o||c&&r&&a||!s&&a||!l)return-1}return 0}function oo(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=ao(i[r],a[r]);if(c)return r>=s?c:c*(n[r]==`desc`?-1:1)}return e.index-t.index}function so(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,c=t.length,l=L(a-o,0),u=M(c+l),d=!r;++s<c;)u[s]=t[s];for(;++i<o;)(d||i<a)&&(u[n[i]]=e[i]);for(;l--;)u[s++]=e[i++];return u}function co(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,c=-1,l=t.length,u=L(a-s,0),d=M(u+l),f=!r;++i<u;)d[i]=e[i];for(var p=i;++c<l;)d[p+c]=t[c];for(;++o<s;)(f||i<a)&&(d[p+n[o]]=e[i++]);return d}function lo(e,t){var n=-1,r=e.length;for(t||=M(r);++n<r;)t[n]=e[n];return t}function uo(e,t,r,i){var a=!r;r||={};for(var o=-1,s=t.length;++o<s;){var c=t[o],l=i?i(r[c],e[c],c,r,e):n;l===n&&(l=e[c]),a?wi(r,c,l):yi(r,c,l)}return r}function fo(e,t){return uo(e,es(e),t)}function po(e,t){return uo(e,ts(e),t)}function mo(e,t){return function(n,r){var i=Y(n)?kn:xi,a=t?t():{};return i(n,e,J(r,2),a)}}function ho(e){return K(function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,s=a>2?r[2]:n;for(o=e.length>3&&typeof o==`function`?(a--,o):n,s&&fs(r[0],r[1],s)&&(o=a<3?n:o,a=1),t=P(t);++i<a;){var c=r[i];c&&e(t,c,i,o)}return t})}function go(e,t){return function(n,r){if(n==null)return n;if(!mu(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=P(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function _o(e){return function(t,n,r){for(var i=-1,a=P(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}function vo(e,t,n){var r=t&g,i=xo(e);function a(){return(this&&this!==gn&&this instanceof a?i:e).apply(r?n:this,arguments)}return a}function yo(e){return function(t){t=$(t);var r=fr(t)?Cr(t):n,i=r?r[0]:t.charAt(0),a=r?Za(r,1).join(``):t.slice(1);return i[e]()+a}}function bo(e){return function(t){return V(Sf(Jd(t).replace(en,``)),e,``)}}function xo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fr(e.prototype),r=e.apply(n,t);return X(r)?r:n}}function So(e,t,r){var i=xo(e);function a(){for(var o=arguments.length,s=M(o),c=o,l=Yo(a);c--;)s[c]=arguments[c];var u=o<3&&s[0]!==l&&s[o-1]!==l?[]:_r(s,l);return o-=u.length,o<r?No(e,t,To,a.placeholder,n,s,u,n,n,r-o):On(this&&this!==gn&&this instanceof a?i:e,this,s)}return a}function Co(e){return function(t,r,i){var a=P(t);if(!mu(t)){var o=J(r,3);t=Sd(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,i);return s>-1?a[o?t[s]:s]:n}}function wo(e){return Wo(function(t){var r=t.length,i=r,a=Lr.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if(typeof s!=`function`)throw new wt(o);if(a&&!c&&Jo(s)==`wrapper`)var c=new Lr([],!0)}for(i=c?i:r;++i<r;){s=t[i];var l=Jo(s),u=l==`wrapper`?qo(s):n;c=u&&hs(u[0])&&u[1]==(C|y|x|w)&&!u[4].length&&u[9]==1?c[Jo(u[0])].apply(c,u[3]):s.length==1&&hs(s)?c[l]():c.thru(s)}return function(){var e=arguments,n=e[0];if(c&&e.length==1&&Y(n))return c.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}})}function To(e,t,r,i,a,o,s,c,l,u){var d=t&C,f=t&g,p=t&_,m=t&(y|b),h=t&ee,v=p?n:xo(e);function x(){for(var n=arguments.length,g=M(n),_=n;_--;)g[_]=arguments[_];if(m)var y=Yo(x),b=sr(g,y);if(i&&(g=so(g,i,a,m)),o&&(g=co(g,o,s,m)),n-=b,m&&n<u){var S=_r(g,y);return No(e,t,To,x.placeholder,r,g,S,c,l,u-n)}var C=f?r:this,w=p?C[e]:e;return n=g.length,c?g=Ds(g,c):h&&n>1&&g.reverse(),d&&l<n&&(g.length=l),this&&this!==gn&&this instanceof x&&(w=v||xo(w)),w.apply(C,g)}return x}function Eo(e,t){return function(n,r){return Xi(n,e,t(r),{})}}function Do(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;typeof r==`string`||typeof i==`string`?(r=za(r),i=za(i)):(r=Ra(r),i=Ra(i)),a=e(r,i)}return a}}function Oo(e){return Wo(function(t){return t=B(t,nr(J())),K(function(n){var r=this;return e(t,function(e){return On(e,r,n)})})})}function ko(e,t){t=t===n?` `:za(t);var r=t.length;if(r<2)return r?Da(t,e):t;var i=Da(t,Xt(e/Sr(t)));return fr(t)?Za(Cr(i),0,e).join(``):i.slice(0,e)}function Ao(e,t,n,r){var i=t&g,a=xo(e);function o(){for(var t=-1,s=arguments.length,c=-1,l=r.length,u=M(l+s),d=this&&this!==gn&&this instanceof o?a:e;++c<l;)u[c]=r[c];for(;s--;)u[c++]=arguments[++t];return On(d,i?n:this,u)}return o}function jo(e){return function(t,r,i){return i&&typeof i!=`number`&&fs(t,r,i)&&(r=i=n),t=Yu(t),r===n?(r=t,t=0):r=Yu(r),i=i===n?t<r?1:-1:Yu(i),Ea(t,r,i,e)}}function Mo(e){return function(t,n){return typeof t==`string`&&typeof n==`string`||(t=Zu(t),n=Zu(n)),e(t,n)}}function No(e,t,r,i,a,o,s,c,l,u){var d=t&y,f=d?s:n,p=d?n:s,m=d?o:n,h=d?n:o;t|=d?x:S,t&=~(d?S:x),t&v||(t&=~(g|_));var b=[e,t,a,m,f,h,p,c,l,u],C=r.apply(n,b);return hs(e)&&ks(C,b),C.placeholder=i,Ms(C,e,t)}function Po(e){var t=xt[e];return function(e,n){if(e=Zu(e),n=n==null?0:cn(Q(n),292),n&&nn(e)){var r=($(e)+`e`).split(`e`);return r=($(t(r[0]+`e`+(+r[1]+n)))+`e`).split(`e`),+(r[0]+`e`+(+r[1]-n))}return t(e)}}var Fo=bn&&1/vr(new bn([,-0]))[1]==oe?function(e){return new bn(e)}:zf;function Io(e){return function(t){var n=ns(t);return n==ye?hr(t):n==Ee?yr(t):er(t,e(t))}}function Lo(e,t,r,i,a,s,c,l){var u=t&_;if(!u&&typeof e!=`function`)throw new wt(o);var d=i?i.length:0;if(d||(t&=~(x|S),i=a=n),c=c===n?c:L(Q(c),0),l=l===n?l:Q(l),d-=a?a.length:0,t&S){var f=i,p=a;i=a=n}var m=u?n:qo(e),h=[e,t,r,i,a,f,p,s,c,l];if(m&&Ss(h,m),e=h[0],t=h[1],r=h[2],i=h[3],a=h[4],l=h[9]=h[9]===n?u?0:e.length:L(h[9]-d,0),!l&&t&(y|b)&&(t&=~(y|b)),!t||t==g)var v=vo(e,t,r);else v=t==y||t==b?So(e,t,l):(t==x||t==(g|x))&&!a.length?Ao(e,t,r,i):To.apply(n,h);return Ms((m?Aa:ks)(v,h),e,t)}function Ro(e,t,r,i){return e===n||lu(e,Et[r])&&!I.call(i,r)?t:e}function zo(e,t,r,i,a,o){return X(e)&&X(t)&&(o.set(t,e),ga(e,t,n,zo,o),o.delete(t)),e}function Bo(e){return Iu(e)?n:e}function Vo(e,t,r,i,a,o){var s=r&m,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,g=r&h?new ai:n;for(o.set(e,t),o.set(t,e);++f<c;){var _=e[f],v=t[f];if(i)var y=s?i(v,_,f,t,e,o):i(_,v,f,e,t,o);if(y!==n){if(y)continue;p=!1;break}if(g){if(!Rn(t,function(e,t){if(!ir(g,t)&&(_===e||a(_,e,r,i,o)))return g.push(t)})){p=!1;break}}else if(!(_===v||a(_,v,r,i,o))){p=!1;break}}return o.delete(e),o.delete(t),p}function Ho(e,t,n,r,i,a,o){switch(n){case Ne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Me:return!(e.byteLength!=t.byteLength||!a(new Lt(e),new Lt(t)));case pe:case me:case be:return lu(+e,+t);case ge:return e.name==t.name&&e.message==t.message;case Te:case De:return e==t+``;case ye:var s=hr;case Ee:var c=r&m;if(s||=vr,e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=h,o.set(e,t);var u=Vo(s(e),s(t),r,i,a,o);return o.delete(e),u;case Oe:if(Nr)return Nr.call(e)==Nr.call(t)}return!1}function Uo(e,t,r,i,a,o){var s=r&m,c=Go(e),l=c.length;if(l!=Go(t).length&&!s)return!1;for(var u=l;u--;){var d=c[u];if(!(s?d in t:I.call(t,d)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var g=s;++u<l;){d=c[u];var _=e[d],v=t[d];if(i)var y=s?i(v,_,d,t,e,o):i(_,v,d,e,t,o);if(!(y===n?_===v||a(_,v,r,i,o):y)){h=!1;break}g||=d==`constructor`}if(h&&!g){var b=e.constructor,x=t.constructor;b!=x&&`constructor`in e&&`constructor`in t&&!(typeof b==`function`&&b instanceof b&&typeof x==`function`&&x instanceof x)&&(h=!1)}return o.delete(e),o.delete(t),h}function Wo(e){return js(Ts(e,n,$s),e+``)}function Go(e){return Ui(e,Sd,es)}function Ko(e){return Ui(e,Cd,ts)}var qo=Bn?function(e){return Bn.get(e)}:zf;function Jo(e){for(var t=e.name+``,n=Yn[t],r=I.call(Yn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(a==null||a==e)return i.name}return t}function Yo(e){return(I.call(H,`placeholder`)?H:e).placeholder}function J(){var e=H.iteratee||Mf;return e=e===Mf?la:e,arguments.length?e(arguments[0],arguments[1]):e}function Xo(e,t){var n=e.__data__;return ms(t)?n[typeof t==`string`?`string`:`hash`]:n.map}function Zo(e){for(var t=Sd(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ys(i)]}return t}function Qo(e,t){var r=dr(e,t);return aa(r)?r:n}function $o(e){var t=I.call(e,Gt),r=e[Gt];try{e[Gt]=n;var i=!0}catch{}var a=jt.call(e);return i&&(t?e[Gt]=r:delete e[Gt]),a}var es=Qt?function(e){return e==null?[]:(e=P(e),Nn(Qt(e),function(t){return Vt.call(e,t)}))}:Jf,ts=Qt?function(e){for(var t=[];e;)In(t,es(e)),e=zt(e);return t}:Jf,ns=Wi;(hn&&ns(new hn(new ArrayBuffer(1)))!=Ne||_n&&ns(new _n)!=ye||vn&&ns(vn.resolve())!=Ce||bn&&ns(new bn)!=Ee||xn&&ns(new xn)!=Ae)&&(ns=function(e){var t=Wi(e),r=t==Se?e.constructor:n,i=r?Ls(r):``;if(i)switch(i){case br:return Ne;case Er:return ye;case Dr:return Ce;case Ar:return Ee;case jr:return Ae}return t});function rs(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case`drop`:e+=o;break;case`dropRight`:t-=o;break;case`take`:t=cn(t,e+o);break;case`takeRight`:e=L(e,t-o);break}}return{start:e,end:t}}function is(e){var t=e.match(at);return t?t[1].split(ot):[]}function as(e,t,n){t=Ya(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=Is(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Du(i)&&ds(o,i)&&(Y(e)||fu(e)))}function os(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]==`string`&&I.call(e,`index`)&&(n.index=e.index,n.input=e.input),n}function ss(e){return typeof e.constructor==`function`&&!vs(e)?Fr(zt(e)):{}}function cs(e,t,n){var r=e.constructor;switch(t){case Me:return eo(e);case pe:case me:return new r(+e);case Ne:return to(e,n);case Pe:case Fe:case j:case Ie:case Le:case Re:case ze:case Be:case Ve:return io(e,n);case ye:return new r;case be:case De:return new r(e);case Te:return no(e);case Ee:return new r;case Oe:return ro(e)}}function ls(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?`& `:``)+t[r],t=t.join(n>2?`, `:` `),e.replace(it,`{
/* [wrapped with `+t+`] */
`)}function us(e){return Y(e)||fu(e)||!!(Ut&&e&&e[Ut])}function ds(e,t){var n=typeof e;return t??=D,!!t&&(n==`number`||n!=`symbol`&&ht.test(e))&&e>-1&&e%1==0&&e<t}function fs(e,t,n){if(!X(n))return!1;var r=typeof t;return(r==`number`?mu(n)&&ds(t,n.length):r==`string`&&t in n)?lu(n[t],e):!1}function ps(e,t){if(Y(e))return!1;var n=typeof e;return n==`number`||n==`symbol`||n==`boolean`||e==null||Vu(e)?!0:$e.test(e)||!Qe.test(e)||t!=null&&e in P(t)}function ms(e){var t=typeof e;return t==`string`||t==`number`||t==`symbol`||t==`boolean`?e!==`__proto__`:e===null}function hs(e){var t=Jo(e),n=H[t];if(typeof n!=`function`||!(t in U.prototype))return!1;if(e===n)return!0;var r=qo(n);return!!r&&e===r[0]}function gs(e){return!!At&&At in e}var _s=Dt?Tu:Yf;function vs(e){var t=e&&e.constructor;return e===(typeof t==`function`&&t.prototype||Et)}function ys(e){return e===e&&!X(e)}function bs(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==n||e in P(r))}}function xs(e){var t=Gl(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}function Ss(e,t){var n=e[1],r=t[1],i=n|r,a=i<(g|_|C),o=r==C&&n==y||r==C&&n==w&&e[7].length<=t[8]||r==(C|w)&&t[7].length<=t[8]&&n==y;if(!(a||o))return e;r&g&&(e[2]=t[2],i|=n&g?0:v);var s=t[3];if(s){var c=e[3];e[3]=c?so(c,s,t[4]):s,e[4]=c?_r(e[3],u):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?co(c,s,t[6]):s,e[6]=c?_r(e[5],u):t[6]),s=t[7],s&&(e[7]=s),r&C&&(e[8]=e[8]==null?t[8]:cn(e[8],t[8])),e[9]??=t[9],e[0]=t[0],e[1]=i,e}function Cs(e){var t=[];if(e!=null)for(var n in P(e))t.push(n);return t}function ws(e){return jt.call(e)}function Ts(e,t,r){return t=L(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=L(n.length-t,0),o=M(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=M(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),On(e,this,s)}}function Es(e,t){return t.length<2?e:Hi(e,Na(t,0,-1))}function Ds(e,t){for(var r=e.length,i=cn(t.length,r),a=lo(e);i--;){var o=t[i];e[i]=ds(o,r)?a[o]:n}return e}function Os(e,t){if(!(t===`constructor`&&typeof e[t]==`function`)&&t!=`__proto__`)return e[t]}var ks=Ns(Aa),As=Yt||function(e,t){return gn.setTimeout(e,t)},js=Ns(ja);function Ms(e,t,n){var r=t+``;return js(e,ls(r,Rs(is(r),n)))}function Ns(e){var t=0,r=0;return function(){var i=ln(),a=re-(i-r);if(r=i,a>0){if(++t>=ne)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ps(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=Ta(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var Fs=xs(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(``),e.replace(et,function(e,n,r,i){t.push(r?i.replace(lt,`$1`):n||e)}),t});function Is(e){if(typeof e==`string`||Vu(e))return e;var t=e+``;return t==`0`&&1/e==-oe?`-0`:t}function Ls(e){if(e!=null){try{return Ot.call(e)}catch{}try{return e+``}catch{}}return``}function Rs(e,t){return An(ue,function(n){var r=`_.`+n[0];t&n[1]&&!Pn(e,r)&&e.push(r)}),e.sort()}function zs(e){if(e instanceof U)return e.clone();var t=new Lr(e.__wrapped__,e.__chain__);return t.__actions__=lo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Bs(e,t,r){t=(r?fs(e,t,r):t===n)?1:L(Q(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=M(Xt(i/t));a<i;)s[o++]=Na(e,a,a+=t);return s}function Vs(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function Hs(){var e=arguments.length;if(!e)return[];for(var t=M(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return In(Y(n)?lo(n):[n],Ii(t,1))}var Us=K(function(e,t){return hu(e)?ji(e,Ii(t,1,hu,!0)):[]}),Ws=K(function(e,t){var r=uc(t);return hu(r)&&(r=n),hu(e)?ji(e,Ii(t,1,hu,!0),J(r,2)):[]}),Gs=K(function(e,t){var r=uc(t);return hu(r)&&(r=n),hu(e)?ji(e,Ii(t,1,hu,!0),n,r):[]});function Ks(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===n?1:Q(t),Na(e,t<0?0:t,i)):[]}function qs(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===n?1:Q(t),t=i-t,Na(e,0,t<0?0:t)):[]}function Js(e,t){return e&&e.length?Ua(e,J(t,3),!0,!0):[]}function Ys(e,t){return e&&e.length?Ua(e,J(t,3),!0):[]}function Xs(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!=`number`&&fs(e,t,n)&&(n=0,r=i),Pi(e,t,n,r)):[]}function Zs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Q(n);return i<0&&(i=L(r+i,0)),Un(e,J(t,3),i)}function Qs(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var a=i-1;return r!==n&&(a=Q(r),a=r<0?L(i+a,0):cn(a,i-1)),Un(e,J(t,3),a,!0)}function $s(e){return e!=null&&e.length?Ii(e,1):[]}function ec(e){return e!=null&&e.length?Ii(e,oe):[]}function tc(e,t){return e!=null&&e.length?(t=t===n?1:Q(t),Ii(e,t)):[]}function nc(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function rc(e){return e&&e.length?e[0]:n}function ic(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Q(n);return i<0&&(i=L(r+i,0)),Wn(e,t,i)}function ac(e){return e!=null&&e.length?Na(e,0,-1):[]}var oc=K(function(e){var t=B(e,qa);return t.length&&t[0]===e[0]?Yi(t):[]}),sc=K(function(e){var t=uc(e),r=B(e,qa);return t===uc(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Yi(r,J(t,2)):[]}),cc=K(function(e){var t=uc(e),r=B(e,qa);return t=typeof t==`function`?t:n,t&&r.pop(),r.length&&r[0]===e[0]?Yi(r,n,t):[]});function lc(e,t){return e==null?``:rn.call(e,t)}function uc(e){var t=e==null?0:e.length;return t?e[t-1]:n}function dc(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var a=i;return r!==n&&(a=Q(r),a=a<0?L(i+a,0):cn(a,i-1)),t===t?xr(e,t,a):Un(e,Kn,a,!0)}function fc(e,t){return e&&e.length?va(e,Q(t)):n}var pc=K(mc);function mc(e,t){return e&&e.length&&t&&t.length?Ca(e,t):e}function hc(e,t,n){return e&&e.length&&t&&t.length?Ca(e,t,J(n,2)):e}function gc(e,t,r){return e&&e.length&&t&&t.length?Ca(e,t,n,r):e}var _c=Wo(function(e,t){var n=e==null?0:e.length,r=Ti(e,t);return wa(e,B(t,function(e){return ds(e,n)?+e:e}).sort(ao)),r});function vc(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],a=e.length;for(t=J(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return wa(e,i),n}function yc(e){return e==null?e:mn.call(e)}function bc(e,t,r){var i=e==null?0:e.length;return i?(r&&typeof r!=`number`&&fs(e,t,r)?(t=0,r=i):(t=t==null?0:Q(t),r=r===n?i:Q(r)),Na(e,t,r)):[]}function xc(e,t){return Fa(e,t)}function Sc(e,t,n){return Ia(e,t,J(n,2))}function Cc(e,t){var n=e==null?0:e.length;if(n){var r=Fa(e,t);if(r<n&&lu(e[r],t))return r}return-1}function wc(e,t){return Fa(e,t,!0)}function Tc(e,t,n){return Ia(e,t,J(n,2),!0)}function Ec(e,t){if(e!=null&&e.length){var n=Fa(e,t,!0)-1;if(lu(e[n],t))return n}return-1}function Dc(e){return e&&e.length?La(e):[]}function Oc(e,t){return e&&e.length?La(e,J(t,2)):[]}function kc(e){var t=e==null?0:e.length;return t?Na(e,1,t):[]}function Ac(e,t,r){return e&&e.length?(t=r||t===n?1:Q(t),Na(e,0,t<0?0:t)):[]}function jc(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===n?1:Q(t),t=i-t,Na(e,t<0?0:t,i)):[]}function Mc(e,t){return e&&e.length?Ua(e,J(t,3),!1,!0):[]}function Nc(e,t){return e&&e.length?Ua(e,J(t,3)):[]}var Pc=K(function(e){return Ba(Ii(e,1,hu,!0))}),Fc=K(function(e){var t=uc(e);return hu(t)&&(t=n),Ba(Ii(e,1,hu,!0),J(t,2))}),Ic=K(function(e){var t=uc(e);return t=typeof t==`function`?t:n,Ba(Ii(e,1,hu,!0),n,t)});function Lc(e){return e&&e.length?Ba(e):[]}function Rc(e,t){return e&&e.length?Ba(e,J(t,2)):[]}function zc(e,t){return t=typeof t==`function`?t:n,e&&e.length?Ba(e,n,t):[]}function Bc(e){if(!(e&&e.length))return[];var t=0;return e=Nn(e,function(e){if(hu(e))return t=L(e.length,t),!0}),$n(t,function(t){return B(e,Jn(t))})}function Vc(e,t){if(!(e&&e.length))return[];var r=Bc(e);return t==null?r:B(r,function(e){return On(t,n,e)})}var Hc=K(function(e,t){return hu(e)?ji(e,t):[]}),Uc=K(function(e){return Ga(Nn(e,hu))}),Wc=K(function(e){var t=uc(e);return hu(t)&&(t=n),Ga(Nn(e,hu),J(t,2))}),Gc=K(function(e){var t=uc(e);return t=typeof t==`function`?t:n,Ga(Nn(e,hu),n,t)}),Kc=K(Bc);function qc(e,t){return Ka(e||[],t||[],yi)}function Jc(e,t){return Ka(e||[],t||[],q)}var Yc=K(function(e){var t=e.length,r=t>1?e[t-1]:n;return r=typeof r==`function`?(e.pop(),r):n,Vc(e,r)});function Xc(e){var t=H(e);return t.__chain__=!0,t}function Zc(e,t){return t(e),e}function Qc(e,t){return t(e)}var $c=Wo(function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return Ti(t,e)};return t>1||this.__actions__.length||!(i instanceof U)||!ds(r)?this.thru(a):(i=i.slice(r,+r+(t?1:0)),i.__actions__.push({func:Qc,args:[a],thisArg:n}),new Lr(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e}))});function el(){return Xc(this)}function tl(){return new Lr(this.value(),this.__chain__)}function nl(){this.__values__===n&&(this.__values__=Ju(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}}function rl(){return this}function il(e){for(var t,r=this;r instanceof Ir;){var i=zs(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t}function al(){var e=this.__wrapped__;if(e instanceof U){var t=e;return this.__actions__.length&&(t=new U(this)),t=t.reverse(),t.__actions__.push({func:Qc,args:[yc],thisArg:n}),new Lr(t,this.__chain__)}return this.thru(yc)}function ol(){return Wa(this.__wrapped__,this.__actions__)}var sl=mo(function(e,t,n){I.call(e,n)?++e[n]:wi(e,n,1)});function cl(e,t,r){var i=Y(e)?Mn:G;return r&&fs(e,t,r)&&(t=n),i(e,J(t,3))}function ll(e,t){return(Y(e)?Nn:Fi)(e,J(t,3))}var ul=Co(Zs),dl=Co(Qs);function fl(e,t){return Ii(xl(e,t),1)}function pl(e,t){return Ii(xl(e,t),oe)}function ml(e,t,r){return r=r===n?1:Q(r),Ii(xl(e,t),r)}function hl(e,t){return(Y(e)?An:W)(e,J(t,3))}function gl(e,t){return(Y(e)?jn:Mi)(e,J(t,3))}var _l=mo(function(e,t,n){I.call(e,n)?e[n].push(t):wi(e,n,[t])});function vl(e,t,n,r){e=mu(e)?e:Vd(e),n=n&&!r?Q(n):0;var i=e.length;return n<0&&(n=L(i+n,0)),Bu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wn(e,t,n)>-1}var yl=K(function(e,t,n){var r=-1,i=typeof t==`function`,a=mu(e)?M(e.length):[];return W(e,function(e){a[++r]=i?On(t,e,n):Zi(e,t,n)}),a}),bl=mo(function(e,t,n){wi(e,n,t)});function xl(e,t){return(Y(e)?B:pa)(e,J(t,3))}function Sl(e,t,r,i){return e==null?[]:(Y(t)||(t=t==null?[]:[t]),r=i?n:r,Y(r)||(r=r==null?[]:[r]),ya(e,t,r))}var Cl=mo(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function wl(e,t,n){var r=Y(e)?V:Xn,i=arguments.length<3;return r(e,J(t,4),n,i,W)}function Tl(e,t,n){var r=Y(e)?Ln:Xn,i=arguments.length<3;return r(e,J(t,4),n,i,Mi)}function El(e,t){return(Y(e)?Nn:Fi)(e,Kl(J(t,3)))}function Dl(e){return(Y(e)?hi:Oa)(e)}function Ol(e,t,r){return t=(r?fs(e,t,r):t===n)?1:Q(t),(Y(e)?gi:ka)(e,t)}function kl(e){return(Y(e)?_i:Ma)(e)}function Al(e){if(e==null)return 0;if(mu(e))return Bu(e)?Sr(e):e.length;var t=ns(e);return t==ye||t==Ee?e.size:ua(e).length}function jl(e,t,r){var i=Y(e)?Rn:Pa;return r&&fs(e,t,r)&&(t=n),i(e,J(t,3))}var Ml=K(function(e,t){if(e==null)return[];var n=t.length;return n>1&&fs(e,t[0],t[1])?t=[]:n>2&&fs(t[0],t[1],t[2])&&(t=[t[0]]),ya(e,Ii(t,1),[])}),Nl=Jt||function(){return gn.Date.now()};function Pl(e,t){if(typeof t!=`function`)throw new wt(o);return e=Q(e),function(){if(--e<1)return t.apply(this,arguments)}}function Fl(e,t,r){return t=r?n:t,t=e&&t==null?e.length:t,Lo(e,C,n,n,n,n,t)}function Il(e,t){var r;if(typeof t!=`function`)throw new wt(o);return e=Q(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var Ll=K(function(e,t,n){var r=g;if(n.length){var i=_r(n,Yo(Ll));r|=x}return Lo(e,r,t,n,i)}),Rl=K(function(e,t,n){var r=g|_;if(n.length){var i=_r(n,Yo(Rl));r|=x}return Lo(t,r,e,n,i)});function zl(e,t,r){t=r?n:t;var i=Lo(e,y,n,n,n,n,n,t);return i.placeholder=zl.placeholder,i}function Bl(e,t,r){t=r?n:t;var i=Lo(e,b,n,n,n,n,n,t);return i.placeholder=Bl.placeholder,i}function Vl(e,t,r){var i,a,s,c,l,u,d=0,f=!1,p=!1,m=!0;if(typeof e!=`function`)throw new wt(o);t=Zu(t)||0,X(r)&&(f=!!r.leading,p=`maxWait`in r,s=p?L(Zu(r.maxWait)||0,t):s,m=`trailing`in r?!!r.trailing:m);function h(t){var r=i,o=a;return i=a=n,d=t,c=e.apply(o,r),c}function g(e){return d=e,l=As(y,t),f?h(e):c}function _(e){var n=e-u,r=e-d,i=t-n;return p?cn(i,s-r):i}function v(e){var r=e-u,i=e-d;return u===n||r>=t||r<0||p&&i>=s}function y(){var e=Nl();if(v(e))return b(e);l=As(y,_(e))}function b(e){return l=n,m&&i?h(e):(i=a=n,c)}function x(){l!==n&&Qa(l),d=0,i=u=a=l=n}function S(){return l===n?c:b(Nl())}function C(){var e=Nl(),r=v(e);if(i=arguments,a=this,u=e,r){if(l===n)return g(u);if(p)return Qa(l),l=As(y,t),h(u)}return l===n&&(l=As(y,t)),c}return C.cancel=x,C.flush=S,C}var Hl=K(function(e,t){return Ai(e,1,t)}),Ul=K(function(e,t,n){return Ai(e,Zu(t)||0,n)});function Wl(e){return Lo(e,ee)}function Gl(e,t){if(typeof e!=`function`||t!=null&&typeof t!=`function`)throw new wt(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Gl.Cache||$r),n}Gl.Cache=$r;function Kl(e){if(typeof e!=`function`)throw new wt(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ql(e){return Il(2,e)}var Jl=Xa(function(e,t){t=t.length==1&&Y(t[0])?B(t[0],nr(J())):B(Ii(t,1),nr(J()));var n=t.length;return K(function(r){for(var i=-1,a=cn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return On(e,this,r)})}),Yl=K(function(e,t){return Lo(e,x,n,t,_r(t,Yo(Yl)))}),Xl=K(function(e,t){return Lo(e,S,n,t,_r(t,Yo(Xl)))}),Zl=Wo(function(e,t){return Lo(e,w,n,n,n,t)});function Ql(e,t){if(typeof e!=`function`)throw new wt(o);return t=t===n?t:Q(t),K(e,t)}function $l(e,t){if(typeof e!=`function`)throw new wt(o);return t=t==null?0:L(Q(t),0),K(function(n){var r=n[t],i=Za(n,0,t);return r&&In(i,r),On(e,this,i)})}function eu(e,t,n){var r=!0,i=!0;if(typeof e!=`function`)throw new wt(o);return X(n)&&(r=`leading`in n?!!n.leading:r,i=`trailing`in n?!!n.trailing:i),Vl(e,t,{leading:r,maxWait:t,trailing:i})}function tu(e){return Fl(e,1)}function nu(e,t){return Yl(Ja(t),e)}function ru(){if(!arguments.length)return[];var e=arguments[0];return Y(e)?e:[e]}function iu(e){return Di(e,p)}function au(e,t){return t=typeof t==`function`?t:n,Di(e,p,t)}function ou(e){return Di(e,d|p)}function su(e,t){return t=typeof t==`function`?t:n,Di(e,d|p,t)}function cu(e,t){return t==null||ki(e,t,Sd(t))}function lu(e,t){return e===t||e!==e&&t!==t}var uu=Mo(Gi),du=Mo(function(e,t){return e>=t}),fu=Qi(function(){return arguments}())?Qi:function(e){return Z(e)&&I.call(e,`callee`)&&!Vt.call(e,`callee`)},Y=M.isArray,pu=Sn?nr(Sn):$i;function mu(e){return e!=null&&Du(e.length)&&!Tu(e)}function hu(e){return Z(e)&&mu(e)}function gu(e){return e===!0||e===!1||Z(e)&&Wi(e)==pe}var _u=$t||Yf,vu=Cn?nr(Cn):ea;function yu(e){return Z(e)&&e.nodeType===1&&!Iu(e)}function bu(e){if(e==null)return!0;if(mu(e)&&(Y(e)||typeof e==`string`||typeof e.splice==`function`||_u(e)||Hu(e)||fu(e)))return!e.length;var t=ns(e);if(t==ye||t==Ee)return!e.size;if(vs(e))return!ua(e).length;for(var n in e)if(I.call(e,n))return!1;return!0}function xu(e,t){return ta(e,t)}function Su(e,t,r){r=typeof r==`function`?r:n;var i=r?r(e,t):n;return i===n?ta(e,t,n,r):!!i}function Cu(e){if(!Z(e))return!1;var t=Wi(e);return t==ge||t==he||typeof e.message==`string`&&typeof e.name==`string`&&!Iu(e)}function wu(e){return typeof e==`number`&&nn(e)}function Tu(e){if(!X(e))return!1;var t=Wi(e);return t==_e||t==ve||t==fe||t==we}function Eu(e){return typeof e==`number`&&e==Q(e)}function Du(e){return typeof e==`number`&&e>-1&&e%1==0&&e<=D}function X(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}function Z(e){return typeof e==`object`&&!!e}var Ou=wn?nr(wn):ra;function ku(e,t){return e===t||ia(e,t,Zo(t))}function Au(e,t,r){return r=typeof r==`function`?r:n,ia(e,t,Zo(t),r)}function ju(e){return Fu(e)&&e!=+e}function Mu(e){if(_s(e))throw new yt(a);return aa(e)}function Nu(e){return e===null}function Pu(e){return e==null}function Fu(e){return typeof e==`number`||Z(e)&&Wi(e)==be}function Iu(e){if(!Z(e)||Wi(e)!=Se)return!1;var t=zt(e);if(t===null)return!0;var n=I.call(t,`constructor`)&&t.constructor;return typeof n==`function`&&n instanceof n&&Ot.call(n)==Mt}var Lu=Tn?nr(Tn):oa;function Ru(e){return Eu(e)&&e>=-D&&e<=D}var zu=En?nr(En):sa;function Bu(e){return typeof e==`string`||!Y(e)&&Z(e)&&Wi(e)==De}function Vu(e){return typeof e==`symbol`||Z(e)&&Wi(e)==Oe}var Hu=Dn?nr(Dn):ca;function Uu(e){return e===n}function Wu(e){return Z(e)&&ns(e)==Ae}function Gu(e){return Z(e)&&Wi(e)==je}var Ku=Mo(fa),qu=Mo(function(e,t){return e<=t});function Ju(e){if(!e)return[];if(mu(e))return Bu(e)?Cr(e):lo(e);if(Wt&&e[Wt])return mr(e[Wt]());var t=ns(e);return(t==ye?hr:t==Ee?vr:Vd)(e)}function Yu(e){return e?(e=Zu(e),e===oe||e===-oe?(e<0?-1:1)*se:e===e?e:0):e===0?e:0}function Q(e){var t=Yu(e),n=t%1;return t===t?n?t-n:t:0}function Xu(e){return e?Ei(Q(e),0,O):0}function Zu(e){if(typeof e==`number`)return e;if(Vu(e))return ce;if(X(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=X(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=tr(e);var n=ft.test(e);return n||mt.test(e)?pn(e.slice(2),n?2:8):dt.test(e)?ce:+e}function Qu(e){return uo(e,Cd(e))}function $u(e){return e?Ei(Q(e),-D,D):e===0?e:0}function $(e){return e==null?``:za(e)}var ed=ho(function(e,t){if(vs(t)||mu(t)){uo(t,Sd(t),e);return}for(var n in t)I.call(t,n)&&yi(e,n,t[n])}),td=ho(function(e,t){uo(t,Cd(t),e)}),nd=ho(function(e,t,n,r){uo(t,Cd(t),e,r)}),rd=ho(function(e,t,n,r){uo(t,Sd(t),e,r)}),id=Wo(Ti);function ad(e,t){var n=Fr(e);return t==null?n:Si(n,t)}var od=K(function(e,t){e=P(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&fs(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],s=Cd(o),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===n||lu(d,Et[u])&&!I.call(e,u))&&(e[u]=o[u])}return e}),sd=K(function(e){return e.push(n,zo),On(Dd,n,e)});function cd(e,t){return Hn(e,J(t,3),zi)}function ld(e,t){return Hn(e,J(t,3),Bi)}function ud(e,t){return e==null?e:Li(e,J(t,3),Cd)}function dd(e,t){return e==null?e:Ri(e,J(t,3),Cd)}function fd(e,t){return e&&zi(e,J(t,3))}function pd(e,t){return e&&Bi(e,J(t,3))}function md(e){return e==null?[]:Vi(e,Sd(e))}function hd(e){return e==null?[]:Vi(e,Cd(e))}function gd(e,t,r){var i=e==null?n:Hi(e,t);return i===n?r:i}function _d(e,t){return e!=null&&as(e,t,Ki)}function vd(e,t){return e!=null&&as(e,t,qi)}var yd=Eo(function(e,t,n){t!=null&&typeof t.toString!=`function`&&(t=jt.call(t)),e[t]=n},Df(jf)),bd=Eo(function(e,t,n){t!=null&&typeof t.toString!=`function`&&(t=jt.call(t)),I.call(e,t)?e[t].push(n):e[t]=[n]},J),xd=K(Zi);function Sd(e){return mu(e)?mi(e):ua(e)}function Cd(e){return mu(e)?mi(e,!0):da(e)}function wd(e,t){var n={};return t=J(t,3),zi(e,function(e,r,i){wi(n,t(e,r,i),e)}),n}function Td(e,t){var n={};return t=J(t,3),zi(e,function(e,r,i){wi(n,r,t(e,r,i))}),n}var Ed=ho(function(e,t,n){ga(e,t,n)}),Dd=ho(function(e,t,n,r){ga(e,t,n,r)}),Od=Wo(function(e,t){var n={};if(e==null)return n;var r=!1;t=B(t,function(t){return t=Ya(t,e),r||=t.length>1,t}),uo(e,Ko(e),n),r&&(n=Di(n,d|f|p,Bo));for(var i=t.length;i--;)Va(n,t[i]);return n});function kd(e,t){return jd(e,Kl(J(t)))}var Ad=Wo(function(e,t){return e==null?{}:ba(e,t)});function jd(e,t){if(e==null)return{};var n=B(Ko(e),function(e){return[e]});return t=J(t),xa(e,n,function(e,n){return t(e,n[0])})}function Md(e,t,r){t=Ya(t,e);var i=-1,a=t.length;for(a||(a=1,e=n);++i<a;){var o=e==null?n:e[Is(t[i])];o===n&&(i=a,o=r),e=Tu(o)?o.call(e):o}return e}function Nd(e,t,n){return e==null?e:q(e,t,n)}function Pd(e,t,r,i){return i=typeof i==`function`?i:n,e==null?e:q(e,t,r,i)}var Fd=Io(Sd),Id=Io(Cd);function Ld(e,t,n){var r=Y(e),i=r||_u(e)||Hu(e);if(t=J(t,4),n==null){var a=e&&e.constructor;n=i?r?new a:[]:X(e)&&Tu(a)?Fr(zt(e)):{}}return(i?An:zi)(e,function(e,r,i){return t(n,e,r,i)}),n}function Rd(e,t){return e==null?!0:Va(e,t)}function zd(e,t,n){return e==null?e:Ha(e,t,Ja(n))}function Bd(e,t,r,i){return i=typeof i==`function`?i:n,e==null?e:Ha(e,t,Ja(r),i)}function Vd(e){return e==null?[]:rr(e,Sd(e))}function Hd(e){return e==null?[]:rr(e,Cd(e))}function Ud(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=Zu(r),r=r===r?r:0),t!==n&&(t=Zu(t),t=t===t?t:0),Ei(Zu(e),t,r)}function Wd(e,t,r){return t=Yu(t),r===n?(r=t,t=0):r=Yu(r),e=Zu(e),Ji(e,t,r)}function Gd(e,t,r){if(r&&typeof r!=`boolean`&&fs(e,t,r)&&(t=r=n),r===n&&(typeof t==`boolean`?(r=t,t=n):typeof e==`boolean`&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=Yu(e),t===n?(t=e,e=0):t=Yu(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=dn();return cn(e+a*(t-e+fn(`1e-`+((a+``).length-1))),t)}return Ta(e,t)}var Kd=bo(function(e,t,n){return t=t.toLowerCase(),e+(n?qd(t):t)});function qd(e){return xf($(e).toLowerCase())}function Jd(e){return e=$(e),e&&e.replace(gt,cr).replace(tn,``)}function Yd(e,t,r){e=$(e),t=za(t);var i=e.length;r=r===n?i:Ei(Q(r),0,i);var a=r;return r-=t.length,r>=0&&e.slice(r,a)==t}function Xd(e){return e=$(e),e&&Je.test(e)?e.replace(Ke,lr):e}function Zd(e){return e=$(e),e&&nt.test(e)?e.replace(tt,`\\$&`):e}var Qd=bo(function(e,t,n){return e+(n?`-`:``)+t.toLowerCase()}),$d=bo(function(e,t,n){return e+(n?` `:``)+t.toLowerCase()}),ef=yo(`toLowerCase`);function tf(e,t,n){e=$(e),t=Q(t);var r=t?Sr(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ko(Zt(i),n)+e+ko(Xt(i),n)}function nf(e,t,n){e=$(e),t=Q(t);var r=t?Sr(e):0;return t&&r<t?e+ko(t-r,n):e}function rf(e,t,n){e=$(e),t=Q(t);var r=t?Sr(e):0;return t&&r<t?ko(t-r,n)+e:e}function af(e,t,n){return n||t==null?t=0:t&&=+t,un($(e).replace(rt,``),t||0)}function of(e,t,r){return t=(r?fs(e,t,r):t===n)?1:Q(t),Da($(e),t)}function sf(){var e=arguments,t=$(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var cf=bo(function(e,t,n){return e+(n?`_`:``)+t.toLowerCase()});function lf(e,t,r){return r&&typeof r!=`number`&&fs(e,t,r)&&(t=r=n),r=r===n?O:r>>>0,r?(e=$(e),e&&(typeof t==`string`||t!=null&&!Lu(t))&&(t=za(t),!t&&fr(e))?Za(Cr(e),0,r):e.split(t,r)):[]}var uf=bo(function(e,t,n){return e+(n?` `:``)+xf(t)});function df(e,t,n){return e=$(e),n=n==null?0:Ei(Q(n),0,e.length),t=za(t),e.slice(n,n+t.length)==t}function ff(e,t,r){var i=H.templateSettings;r&&fs(e,t,r)&&(t=n),e=$(e),t=nd({},t,i,Ro);var a=nd({},t.imports,i.imports,Ro),o=Sd(a),c=rr(a,o),l,u,d=0,f=t.interpolate||_t,p=`__p += '`,m=St((t.escape||_t).source+`|`+f.source+`|`+(f===Ze?N:_t).source+`|`+(t.evaluate||_t).source+`|$`,`g`),h=`//# sourceURL=`+(I.call(t,`sourceURL`)?(t.sourceURL+``).replace(/\s/g,` `):`lodash.templateSources[`+ ++sn+`]`)+`
`;e.replace(m,function(t,n,r,i,a,o){return r||=i,p+=e.slice(d,o).replace(vt,ur),n&&(l=!0,p+=`' +
__e(`+n+`) +
'`),a&&(u=!0,p+=`';
`+a+`;
__p += '`),r&&(p+=`' +
((__t = (`+r+`)) == null ? '' : __t) +
'`),d=o+t.length,t}),p+=`';
`;var g=I.call(t,`variable`)&&t.variable;if(!g)p=`with (obj) {
`+p+`
}
`;else if(ct.test(g))throw new yt(s);p=(u?p.replace(He,``):p).replace(Ue,`$1`).replace(We,`$1;`),p=`function(`+(g||`obj`)+`) {
`+(g?``:`obj || (obj = {});
`)+`var __t, __p = ''`+(l?`, __e = _.escape`:``)+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+p+`return __p
}`;var _=Cf(function(){return bt(o,h+`return `+p).apply(n,c)});if(_.source=p,Cu(_))throw _;return _}function pf(e){return $(e).toLowerCase()}function mf(e){return $(e).toUpperCase()}function hf(e,t,r){if(e=$(e),e&&(r||t===n))return tr(e);if(!e||!(t=za(t)))return e;var i=Cr(e),a=Cr(t);return Za(i,ar(i,a),or(i,a)+1).join(``)}function gf(e,t,r){if(e=$(e),e&&(r||t===n))return e.slice(0,wr(e)+1);if(!e||!(t=za(t)))return e;var i=Cr(e);return Za(i,0,or(i,Cr(t))+1).join(``)}function _f(e,t,r){if(e=$(e),e&&(r||t===n))return e.replace(rt,``);if(!e||!(t=za(t)))return e;var i=Cr(e);return Za(i,ar(i,Cr(t))).join(``)}function vf(e,t){var r=te,i=T;if(X(t)){var a=`separator`in t?t.separator:a;r=`length`in t?Q(t.length):r,i=`omission`in t?za(t.omission):i}e=$(e);var o=e.length;if(fr(e)){var s=Cr(e);o=s.length}if(r>=o)return e;var c=r-Sr(i);if(c<1)return i;var l=s?Za(s,0,c).join(``):e.slice(0,c);if(a===n)return l+i;if(s&&(c+=l.length-c),Lu(a)){if(e.slice(c).search(a)){var u,d=l;for(a.global||(a=St(a.source,$(ut.exec(a))+`g`)),a.lastIndex=0;u=a.exec(d);)var f=u.index;l=l.slice(0,f===n?c:f)}}else if(e.indexOf(za(a),c)!=c){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+i}function yf(e){return e=$(e),e&&qe.test(e)?e.replace(Ge,Tr):e}var bf=bo(function(e,t,n){return e+(n?` `:``)+t.toUpperCase()}),xf=yo(`toUpperCase`);function Sf(e,t,r){return e=$(e),t=r?n:t,t===n?pr(e)?Or(e):Vn(e):e.match(t)||[]}var Cf=K(function(e,t){try{return On(e,n,t)}catch(e){return Cu(e)?e:new yt(e)}}),wf=Wo(function(e,t){return An(t,function(t){t=Is(t),wi(e,t,Ll(e[t],e))}),e});function Tf(e){var t=e==null?0:e.length,n=J();return e=t?B(e,function(e){if(typeof e[1]!=`function`)throw new wt(o);return[n(e[0]),e[1]]}):[],K(function(n){for(var r=-1;++r<t;){var i=e[r];if(On(i[0],this,n))return On(i[1],this,n)}})}function Ef(e){return Oi(Di(e,d))}function Df(e){return function(){return e}}function Of(e,t){return e==null||e!==e?t:e}var kf=wo(),Af=wo(!0);function jf(e){return e}function Mf(e){return la(typeof e==`function`?e:Di(e,d))}function Nf(e){return ma(Di(e,d))}function Pf(e,t){return ha(e,Di(t,d))}var Ff=K(function(e,t){return function(n){return Zi(n,e,t)}}),If=K(function(e,t){return function(n){return Zi(e,n,t)}});function Lf(e,t,n){var r=Sd(t),i=Vi(t,r);n==null&&!(X(t)&&(i.length||!r.length))&&(n=t,t=e,e=this,i=Vi(t,Sd(t)));var a=!(X(n)&&`chain`in n)||!!n.chain,o=Tu(e);return An(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=lo(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,In([this.value()],arguments))})}),e}function Rf(){return gn._===this&&(gn._=Nt),this}function zf(){}function Bf(e){return e=Q(e),K(function(t){return va(t,e)})}var Vf=Oo(B),Hf=Oo(Mn),Uf=Oo(Rn);function Wf(e){return ps(e)?Jn(Is(e)):Sa(e)}function Gf(e){return function(t){return e==null?n:Hi(e,t)}}var Kf=jo(),qf=jo(!0);function Jf(){return[]}function Yf(){return!1}function Xf(){return{}}function Zf(){return``}function Qf(){return!0}function $f(e,t){if(e=Q(e),e<1||e>D)return[];var n=O,r=cn(e,O);t=J(t),e-=O;for(var i=$n(r,t);++n<e;)t(n);return i}function ep(e){return Y(e)?B(e,Is):Vu(e)?[e]:lo(Fs($(e)))}function tp(e){var t=++kt;return $(e)+t}var np=Do(function(e,t){return e+t},0),rp=Po(`ceil`),ip=Do(function(e,t){return e/t},1),ap=Po(`floor`);function op(e){return e&&e.length?Ni(e,jf,Gi):n}function sp(e,t){return e&&e.length?Ni(e,J(t,2),Gi):n}function cp(e){return qn(e,jf)}function lp(e,t){return qn(e,J(t,2))}function up(e){return e&&e.length?Ni(e,jf,fa):n}function dp(e,t){return e&&e.length?Ni(e,J(t,2),fa):n}var fp=Do(function(e,t){return e*t},1),pp=Po(`round`),mp=Do(function(e,t){return e-t},0);function hp(e){return e&&e.length?Qn(e,jf):0}function gp(e,t){return e&&e.length?Qn(e,J(t,2)):0}return H.after=Pl,H.ary=Fl,H.assign=ed,H.assignIn=td,H.assignInWith=nd,H.assignWith=rd,H.at=id,H.before=Il,H.bind=Ll,H.bindAll=wf,H.bindKey=Rl,H.castArray=ru,H.chain=Xc,H.chunk=Bs,H.compact=Vs,H.concat=Hs,H.cond=Tf,H.conforms=Ef,H.constant=Df,H.countBy=sl,H.create=ad,H.curry=zl,H.curryRight=Bl,H.debounce=Vl,H.defaults=od,H.defaultsDeep=sd,H.defer=Hl,H.delay=Ul,H.difference=Us,H.differenceBy=Ws,H.differenceWith=Gs,H.drop=Ks,H.dropRight=qs,H.dropRightWhile=Js,H.dropWhile=Ys,H.fill=Xs,H.filter=ll,H.flatMap=fl,H.flatMapDeep=pl,H.flatMapDepth=ml,H.flatten=$s,H.flattenDeep=ec,H.flattenDepth=tc,H.flip=Wl,H.flow=kf,H.flowRight=Af,H.fromPairs=nc,H.functions=md,H.functionsIn=hd,H.groupBy=_l,H.initial=ac,H.intersection=oc,H.intersectionBy=sc,H.intersectionWith=cc,H.invert=yd,H.invertBy=bd,H.invokeMap=yl,H.iteratee=Mf,H.keyBy=bl,H.keys=Sd,H.keysIn=Cd,H.map=xl,H.mapKeys=wd,H.mapValues=Td,H.matches=Nf,H.matchesProperty=Pf,H.memoize=Gl,H.merge=Ed,H.mergeWith=Dd,H.method=Ff,H.methodOf=If,H.mixin=Lf,H.negate=Kl,H.nthArg=Bf,H.omit=Od,H.omitBy=kd,H.once=ql,H.orderBy=Sl,H.over=Vf,H.overArgs=Jl,H.overEvery=Hf,H.overSome=Uf,H.partial=Yl,H.partialRight=Xl,H.partition=Cl,H.pick=Ad,H.pickBy=jd,H.property=Wf,H.propertyOf=Gf,H.pull=pc,H.pullAll=mc,H.pullAllBy=hc,H.pullAllWith=gc,H.pullAt=_c,H.range=Kf,H.rangeRight=qf,H.rearg=Zl,H.reject=El,H.remove=vc,H.rest=Ql,H.reverse=yc,H.sampleSize=Ol,H.set=Nd,H.setWith=Pd,H.shuffle=kl,H.slice=bc,H.sortBy=Ml,H.sortedUniq=Dc,H.sortedUniqBy=Oc,H.split=lf,H.spread=$l,H.tail=kc,H.take=Ac,H.takeRight=jc,H.takeRightWhile=Mc,H.takeWhile=Nc,H.tap=Zc,H.throttle=eu,H.thru=Qc,H.toArray=Ju,H.toPairs=Fd,H.toPairsIn=Id,H.toPath=ep,H.toPlainObject=Qu,H.transform=Ld,H.unary=tu,H.union=Pc,H.unionBy=Fc,H.unionWith=Ic,H.uniq=Lc,H.uniqBy=Rc,H.uniqWith=zc,H.unset=Rd,H.unzip=Bc,H.unzipWith=Vc,H.update=zd,H.updateWith=Bd,H.values=Vd,H.valuesIn=Hd,H.without=Hc,H.words=Sf,H.wrap=nu,H.xor=Uc,H.xorBy=Wc,H.xorWith=Gc,H.zip=Kc,H.zipObject=qc,H.zipObjectDeep=Jc,H.zipWith=Yc,H.entries=Fd,H.entriesIn=Id,H.extend=td,H.extendWith=nd,Lf(H,H),H.add=np,H.attempt=Cf,H.camelCase=Kd,H.capitalize=qd,H.ceil=rp,H.clamp=Ud,H.clone=iu,H.cloneDeep=ou,H.cloneDeepWith=su,H.cloneWith=au,H.conformsTo=cu,H.deburr=Jd,H.defaultTo=Of,H.divide=ip,H.endsWith=Yd,H.eq=lu,H.escape=Xd,H.escapeRegExp=Zd,H.every=cl,H.find=ul,H.findIndex=Zs,H.findKey=cd,H.findLast=dl,H.findLastIndex=Qs,H.findLastKey=ld,H.floor=ap,H.forEach=hl,H.forEachRight=gl,H.forIn=ud,H.forInRight=dd,H.forOwn=fd,H.forOwnRight=pd,H.get=gd,H.gt=uu,H.gte=du,H.has=_d,H.hasIn=vd,H.head=rc,H.identity=jf,H.includes=vl,H.indexOf=ic,H.inRange=Wd,H.invoke=xd,H.isArguments=fu,H.isArray=Y,H.isArrayBuffer=pu,H.isArrayLike=mu,H.isArrayLikeObject=hu,H.isBoolean=gu,H.isBuffer=_u,H.isDate=vu,H.isElement=yu,H.isEmpty=bu,H.isEqual=xu,H.isEqualWith=Su,H.isError=Cu,H.isFinite=wu,H.isFunction=Tu,H.isInteger=Eu,H.isLength=Du,H.isMap=Ou,H.isMatch=ku,H.isMatchWith=Au,H.isNaN=ju,H.isNative=Mu,H.isNil=Pu,H.isNull=Nu,H.isNumber=Fu,H.isObject=X,H.isObjectLike=Z,H.isPlainObject=Iu,H.isRegExp=Lu,H.isSafeInteger=Ru,H.isSet=zu,H.isString=Bu,H.isSymbol=Vu,H.isTypedArray=Hu,H.isUndefined=Uu,H.isWeakMap=Wu,H.isWeakSet=Gu,H.join=lc,H.kebabCase=Qd,H.last=uc,H.lastIndexOf=dc,H.lowerCase=$d,H.lowerFirst=ef,H.lt=Ku,H.lte=qu,H.max=op,H.maxBy=sp,H.mean=cp,H.meanBy=lp,H.min=up,H.minBy=dp,H.stubArray=Jf,H.stubFalse=Yf,H.stubObject=Xf,H.stubString=Zf,H.stubTrue=Qf,H.multiply=fp,H.nth=fc,H.noConflict=Rf,H.noop=zf,H.now=Nl,H.pad=tf,H.padEnd=nf,H.padStart=rf,H.parseInt=af,H.random=Gd,H.reduce=wl,H.reduceRight=Tl,H.repeat=of,H.replace=sf,H.result=Md,H.round=pp,H.runInContext=e,H.sample=Dl,H.size=Al,H.snakeCase=cf,H.some=jl,H.sortedIndex=xc,H.sortedIndexBy=Sc,H.sortedIndexOf=Cc,H.sortedLastIndex=wc,H.sortedLastIndexBy=Tc,H.sortedLastIndexOf=Ec,H.startCase=uf,H.startsWith=df,H.subtract=mp,H.sum=hp,H.sumBy=gp,H.template=ff,H.times=$f,H.toFinite=Yu,H.toInteger=Q,H.toLength=Xu,H.toLower=pf,H.toNumber=Zu,H.toSafeInteger=$u,H.toString=$,H.toUpper=mf,H.trim=hf,H.trimEnd=gf,H.trimStart=_f,H.truncate=vf,H.unescape=yf,H.uniqueId=tp,H.upperCase=bf,H.upperFirst=xf,H.each=hl,H.eachRight=gl,H.first=rc,Lf(H,function(){var e={};return zi(H,function(t,n){I.call(H.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),H.VERSION=r,An([`bind`,`bindKey`,`curry`,`curryRight`,`partial`,`partialRight`],function(e){H[e].placeholder=H}),An([`drop`,`take`],function(e,t){U.prototype[e]=function(r){r=r===n?1:L(Q(r),0);var i=this.__filtered__&&!t?new U(this):this.clone();return i.__filtered__?i.__takeCount__=cn(r,i.__takeCount__):i.__views__.push({size:cn(r,O),type:e+(i.__dir__<0?`Right`:``)}),i},U.prototype[e+`Right`]=function(t){return this.reverse()[e](t).reverse()}}),An([`filter`,`map`,`takeWhile`],function(e,t){var n=t+1,r=n==E||n==ae;U.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:J(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),An([`head`,`last`],function(e,t){var n=`take`+(t?`Right`:``);U.prototype[e]=function(){return this[n](1).value()[0]}}),An([`initial`,`tail`],function(e,t){var n=`drop`+(t?``:`Right`);U.prototype[e]=function(){return this.__filtered__?new U(this):this[n](1)}}),U.prototype.compact=function(){return this.filter(jf)},U.prototype.find=function(e){return this.filter(e).head()},U.prototype.findLast=function(e){return this.reverse().find(e)},U.prototype.invokeMap=K(function(e,t){return typeof e==`function`?new U(this):this.map(function(n){return Zi(n,e,t)})}),U.prototype.reject=function(e){return this.filter(Kl(J(e)))},U.prototype.slice=function(e,t){e=Q(e);var r=this;return r.__filtered__&&(e>0||t<0)?new U(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(t=Q(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},U.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},U.prototype.toArray=function(){return this.take(O)},zi(U.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=H[i?`take`+(t==`last`?`Right`:``):t],o=i||/^find/.test(t);a&&(H.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,c=t instanceof U,l=s[0],u=c||Y(t),d=function(e){var t=a.apply(H,In([e],s));return i&&f?t[0]:t};u&&r&&typeof l==`function`&&l.length!=1&&(c=u=!1);var f=this.__chain__,p=!!this.__actions__.length,m=o&&!f,h=c&&!p;if(!o&&u){t=h?t:new U(this);var g=e.apply(t,s);return g.__actions__.push({func:Qc,args:[d],thisArg:n}),new Lr(g,f)}return m&&h?e.apply(this,s):(g=this.thru(d),m?i?g.value()[0]:g.value():g)})}),An([`pop`,`push`,`shift`,`sort`,`splice`,`unshift`],function(e){var t=Tt[e],n=/^(?:push|sort|unshift)$/.test(e)?`tap`:`thru`,r=/^(?:pop|shift)$/.test(e);H.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Y(i)?i:[],e)}return this[n](function(n){return t.apply(Y(n)?n:[],e)})}}),zi(U.prototype,function(e,t){var n=H[t];if(n){var r=n.name+``;I.call(Yn,r)||(Yn[r]=[]),Yn[r].push({name:t,func:n})}}),Yn[To(n,_).name]=[{name:`wrapper`,func:n}],U.prototype.clone=Rr,U.prototype.reverse=zr,U.prototype.value=Br,H.prototype.at=$c,H.prototype.chain=el,H.prototype.commit=tl,H.prototype.next=nl,H.prototype.plant=il,H.prototype.reverse=al,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=ol,H.prototype.first=H.prototype.head,Wt&&(H.prototype[Wt]=rl),H})();typeof define==`function`&&typeof define.amd==`object`&&define.amd?(gn._=kr,define(function(){return kr})):vn?((vn.exports=kr)._=kr,_n._=kr):gn._=kr}).call(e)}))(),1),ln=`aion2.userMarkers.v1.`,un=(0,N.createContext)(null);const dn=({children:e})=>{let{selectedMap:t}=Ot(),[n,r]=(0,N.useState)(!1),[i,a]=(0,N.useState)([]),[o,s]=(0,N.useState)({}),[c,l]=(0,N.useState)(null),{fetchWithAuth:u}=Qe(),[d,f]=(0,N.useState)(!1),p=(0,N.useCallback)(e=>`${ln}${e}`,[]);(0,N.useEffect)(()=>{(async()=>{if(!t){a([]),l(null);return}let e=new Map;try{let n=localStorage.getItem(p(t.name));n&&JSON.parse(n).forEach(t=>{t.type===`local`&&e.set(t.id,t)})}catch(e){console.error(e)}try{let n=await u(`/maps/${t?.name}/marker_feedbacks`,{method:`GET`,headers:{"Content-Type":`application/json`}});if(n.ok){let t=await n.json();t.errorCode===`Success`&&(console.log(t.data.results),t.data.results.forEach(t=>{let n={id:t.id,markerId:t.markerId,subtype:t.subtypeId,mapId:t.mapId,x:t.x,y:t.y,name:t.name,description:t.description,image:t.image?.s3Key||``,type:t.type===`create`?`uploaded`:`feedback`,status:t.status,reply:t.reply};e.set(n.id,n)}))}}catch(e){console.error(e)}let n=[...e.values()];a(n),s((0,cn.keyBy)(n.filter(e=>e.type===`feedback`),`markerId`))})()},[t,p,u]),(0,N.useEffect)(()=>{t&&localStorage.setItem(p(t.name),JSON.stringify(i.filter(e=>e.type===`local`)))},[i,t,p]);let m=(0,N.useCallback)((e,n)=>{if(!t)return;let i={id:z(),markerId:``,subtype:``,mapId:t.id,x:e,y:n,name:``,description:``,image:``,type:`local`};a(e=>[...e,i]),l(i),r(!1)},[t]),h=(0,N.useCallback)(e=>{a(t=>[...t,e]),s(t=>({...t,[e.markerId]:e}))},[]),g=(0,N.useCallback)(e=>{a(t=>t.map(t=>t.id===e.id?e:t)),s(t=>({...t,[e.markerId]:e}))},[]),_=(0,N.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e)),l(null)},[]);return(0,F.jsx)(un.Provider,{value:{pickMode:n,setPickMode:r,userMarkers:i,userMarkersByMarkerId:o,createMarker:m,createMarkerRemote:h,updateMarker:g,deleteMarker:_,editingMarker:c,setEditingMarker:l,hideUserMarkers:d,setHideUserMarkers:f},children:e})};function fn(){let e=(0,N.useContext)(un);if(!e)throw Error(`useUserMarkers must be used inside <UserMarkersProvider>`);return e}var pn=N.memo(({marker:e})=>{let{setEditingMarker:t}=fn(),{selectedMap:n}=Ot(),{allSubtypes:r}=Ut(),{t:i}=He();if(!n)return null;let o=[...r.values()].find(t=>t.id===e.subtype),s;s=o?.icon?qe(o.icon,n):qe(``,n);let c=o?.iconScale||1.25,l=Gt(s,c,!1);return(0,F.jsx)(a,{position:[e.y,e.x],icon:l,eventHandlers:{click:()=>t(e)},children:(0,F.jsx)(p,{permanent:!0,direction:`top`,offset:[0,-15],className:`game-marker-tooltip`,children:i(`common:markerActions.userMarker`,`User Marker`)})})}),mn=t(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),hn=t(((e,t)=>{var n=mn();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),gn=t(((e,t)=>{t.exports=hn()()}));const _n=new Map([[`1km`,`application/vnd.1000minds.decision-model+xml`],[`3dml`,`text/vnd.in3d.3dml`],[`3ds`,`image/x-3ds`],[`3g2`,`video/3gpp2`],[`3gp`,`video/3gp`],[`3gpp`,`video/3gpp`],[`3mf`,`model/3mf`],[`7z`,`application/x-7z-compressed`],[`7zip`,`application/x-7z-compressed`],[`123`,`application/vnd.lotus-1-2-3`],[`aab`,`application/x-authorware-bin`],[`aac`,`audio/x-acc`],[`aam`,`application/x-authorware-map`],[`aas`,`application/x-authorware-seg`],[`abw`,`application/x-abiword`],[`ac`,`application/vnd.nokia.n-gage.ac+xml`],[`ac3`,`audio/ac3`],[`acc`,`application/vnd.americandynamics.acc`],[`ace`,`application/x-ace-compressed`],[`acu`,`application/vnd.acucobol`],[`acutc`,`application/vnd.acucorp`],[`adp`,`audio/adpcm`],[`aep`,`application/vnd.audiograph`],[`afm`,`application/x-font-type1`],[`afp`,`application/vnd.ibm.modcap`],[`ahead`,`application/vnd.ahead.space`],[`ai`,`application/pdf`],[`aif`,`audio/x-aiff`],[`aifc`,`audio/x-aiff`],[`aiff`,`audio/x-aiff`],[`air`,`application/vnd.adobe.air-application-installer-package+zip`],[`ait`,`application/vnd.dvb.ait`],[`ami`,`application/vnd.amiga.ami`],[`amr`,`audio/amr`],[`apk`,`application/vnd.android.package-archive`],[`apng`,`image/apng`],[`appcache`,`text/cache-manifest`],[`application`,`application/x-ms-application`],[`apr`,`application/vnd.lotus-approach`],[`arc`,`application/x-freearc`],[`arj`,`application/x-arj`],[`asc`,`application/pgp-signature`],[`asf`,`video/x-ms-asf`],[`asm`,`text/x-asm`],[`aso`,`application/vnd.accpac.simply.aso`],[`asx`,`video/x-ms-asf`],[`atc`,`application/vnd.acucorp`],[`atom`,`application/atom+xml`],[`atomcat`,`application/atomcat+xml`],[`atomdeleted`,`application/atomdeleted+xml`],[`atomsvc`,`application/atomsvc+xml`],[`atx`,`application/vnd.antix.game-component`],[`au`,`audio/x-au`],[`avi`,`video/x-msvideo`],[`avif`,`image/avif`],[`aw`,`application/applixware`],[`azf`,`application/vnd.airzip.filesecure.azf`],[`azs`,`application/vnd.airzip.filesecure.azs`],[`azv`,`image/vnd.airzip.accelerator.azv`],[`azw`,`application/vnd.amazon.ebook`],[`b16`,`image/vnd.pco.b16`],[`bat`,`application/x-msdownload`],[`bcpio`,`application/x-bcpio`],[`bdf`,`application/x-font-bdf`],[`bdm`,`application/vnd.syncml.dm+wbxml`],[`bdoc`,`application/x-bdoc`],[`bed`,`application/vnd.realvnc.bed`],[`bh2`,`application/vnd.fujitsu.oasysprs`],[`bin`,`application/octet-stream`],[`blb`,`application/x-blorb`],[`blorb`,`application/x-blorb`],[`bmi`,`application/vnd.bmi`],[`bmml`,`application/vnd.balsamiq.bmml+xml`],[`bmp`,`image/bmp`],[`book`,`application/vnd.framemaker`],[`box`,`application/vnd.previewsystems.box`],[`boz`,`application/x-bzip2`],[`bpk`,`application/octet-stream`],[`bpmn`,`application/octet-stream`],[`bsp`,`model/vnd.valve.source.compiled-map`],[`btif`,`image/prs.btif`],[`buffer`,`application/octet-stream`],[`bz`,`application/x-bzip`],[`bz2`,`application/x-bzip2`],[`c`,`text/x-c`],[`c4d`,`application/vnd.clonk.c4group`],[`c4f`,`application/vnd.clonk.c4group`],[`c4g`,`application/vnd.clonk.c4group`],[`c4p`,`application/vnd.clonk.c4group`],[`c4u`,`application/vnd.clonk.c4group`],[`c11amc`,`application/vnd.cluetrust.cartomobile-config`],[`c11amz`,`application/vnd.cluetrust.cartomobile-config-pkg`],[`cab`,`application/vnd.ms-cab-compressed`],[`caf`,`audio/x-caf`],[`cap`,`application/vnd.tcpdump.pcap`],[`car`,`application/vnd.curl.car`],[`cat`,`application/vnd.ms-pki.seccat`],[`cb7`,`application/x-cbr`],[`cba`,`application/x-cbr`],[`cbr`,`application/x-cbr`],[`cbt`,`application/x-cbr`],[`cbz`,`application/x-cbr`],[`cc`,`text/x-c`],[`cco`,`application/x-cocoa`],[`cct`,`application/x-director`],[`ccxml`,`application/ccxml+xml`],[`cdbcmsg`,`application/vnd.contact.cmsg`],[`cda`,`application/x-cdf`],[`cdf`,`application/x-netcdf`],[`cdfx`,`application/cdfx+xml`],[`cdkey`,`application/vnd.mediastation.cdkey`],[`cdmia`,`application/cdmi-capability`],[`cdmic`,`application/cdmi-container`],[`cdmid`,`application/cdmi-domain`],[`cdmio`,`application/cdmi-object`],[`cdmiq`,`application/cdmi-queue`],[`cdr`,`application/cdr`],[`cdx`,`chemical/x-cdx`],[`cdxml`,`application/vnd.chemdraw+xml`],[`cdy`,`application/vnd.cinderella`],[`cer`,`application/pkix-cert`],[`cfs`,`application/x-cfs-compressed`],[`cgm`,`image/cgm`],[`chat`,`application/x-chat`],[`chm`,`application/vnd.ms-htmlhelp`],[`chrt`,`application/vnd.kde.kchart`],[`cif`,`chemical/x-cif`],[`cii`,`application/vnd.anser-web-certificate-issue-initiation`],[`cil`,`application/vnd.ms-artgalry`],[`cjs`,`application/node`],[`cla`,`application/vnd.claymore`],[`class`,`application/octet-stream`],[`clkk`,`application/vnd.crick.clicker.keyboard`],[`clkp`,`application/vnd.crick.clicker.palette`],[`clkt`,`application/vnd.crick.clicker.template`],[`clkw`,`application/vnd.crick.clicker.wordbank`],[`clkx`,`application/vnd.crick.clicker`],[`clp`,`application/x-msclip`],[`cmc`,`application/vnd.cosmocaller`],[`cmdf`,`chemical/x-cmdf`],[`cml`,`chemical/x-cml`],[`cmp`,`application/vnd.yellowriver-custom-menu`],[`cmx`,`image/x-cmx`],[`cod`,`application/vnd.rim.cod`],[`coffee`,`text/coffeescript`],[`com`,`application/x-msdownload`],[`conf`,`text/plain`],[`cpio`,`application/x-cpio`],[`cpp`,`text/x-c`],[`cpt`,`application/mac-compactpro`],[`crd`,`application/x-mscardfile`],[`crl`,`application/pkix-crl`],[`crt`,`application/x-x509-ca-cert`],[`crx`,`application/x-chrome-extension`],[`cryptonote`,`application/vnd.rig.cryptonote`],[`csh`,`application/x-csh`],[`csl`,`application/vnd.citationstyles.style+xml`],[`csml`,`chemical/x-csml`],[`csp`,`application/vnd.commonspace`],[`csr`,`application/octet-stream`],[`css`,`text/css`],[`cst`,`application/x-director`],[`csv`,`text/csv`],[`cu`,`application/cu-seeme`],[`curl`,`text/vnd.curl`],[`cww`,`application/prs.cww`],[`cxt`,`application/x-director`],[`cxx`,`text/x-c`],[`dae`,`model/vnd.collada+xml`],[`daf`,`application/vnd.mobius.daf`],[`dart`,`application/vnd.dart`],[`dataless`,`application/vnd.fdsn.seed`],[`davmount`,`application/davmount+xml`],[`dbf`,`application/vnd.dbf`],[`dbk`,`application/docbook+xml`],[`dcr`,`application/x-director`],[`dcurl`,`text/vnd.curl.dcurl`],[`dd2`,`application/vnd.oma.dd2+xml`],[`ddd`,`application/vnd.fujixerox.ddd`],[`ddf`,`application/vnd.syncml.dmddf+xml`],[`dds`,`image/vnd.ms-dds`],[`deb`,`application/x-debian-package`],[`def`,`text/plain`],[`deploy`,`application/octet-stream`],[`der`,`application/x-x509-ca-cert`],[`dfac`,`application/vnd.dreamfactory`],[`dgc`,`application/x-dgc-compressed`],[`dic`,`text/x-c`],[`dir`,`application/x-director`],[`dis`,`application/vnd.mobius.dis`],[`disposition-notification`,`message/disposition-notification`],[`dist`,`application/octet-stream`],[`distz`,`application/octet-stream`],[`djv`,`image/vnd.djvu`],[`djvu`,`image/vnd.djvu`],[`dll`,`application/octet-stream`],[`dmg`,`application/x-apple-diskimage`],[`dmn`,`application/octet-stream`],[`dmp`,`application/vnd.tcpdump.pcap`],[`dms`,`application/octet-stream`],[`dna`,`application/vnd.dna`],[`doc`,`application/msword`],[`docm`,`application/vnd.ms-word.template.macroEnabled.12`],[`docx`,`application/vnd.openxmlformats-officedocument.wordprocessingml.document`],[`dot`,`application/msword`],[`dotm`,`application/vnd.ms-word.template.macroEnabled.12`],[`dotx`,`application/vnd.openxmlformats-officedocument.wordprocessingml.template`],[`dp`,`application/vnd.osgi.dp`],[`dpg`,`application/vnd.dpgraph`],[`dra`,`audio/vnd.dra`],[`drle`,`image/dicom-rle`],[`dsc`,`text/prs.lines.tag`],[`dssc`,`application/dssc+der`],[`dtb`,`application/x-dtbook+xml`],[`dtd`,`application/xml-dtd`],[`dts`,`audio/vnd.dts`],[`dtshd`,`audio/vnd.dts.hd`],[`dump`,`application/octet-stream`],[`dvb`,`video/vnd.dvb.file`],[`dvi`,`application/x-dvi`],[`dwd`,`application/atsc-dwd+xml`],[`dwf`,`model/vnd.dwf`],[`dwg`,`image/vnd.dwg`],[`dxf`,`image/vnd.dxf`],[`dxp`,`application/vnd.spotfire.dxp`],[`dxr`,`application/x-director`],[`ear`,`application/java-archive`],[`ecelp4800`,`audio/vnd.nuera.ecelp4800`],[`ecelp7470`,`audio/vnd.nuera.ecelp7470`],[`ecelp9600`,`audio/vnd.nuera.ecelp9600`],[`ecma`,`application/ecmascript`],[`edm`,`application/vnd.novadigm.edm`],[`edx`,`application/vnd.novadigm.edx`],[`efif`,`application/vnd.picsel`],[`ei6`,`application/vnd.pg.osasli`],[`elc`,`application/octet-stream`],[`emf`,`image/emf`],[`eml`,`message/rfc822`],[`emma`,`application/emma+xml`],[`emotionml`,`application/emotionml+xml`],[`emz`,`application/x-msmetafile`],[`eol`,`audio/vnd.digital-winds`],[`eot`,`application/vnd.ms-fontobject`],[`eps`,`application/postscript`],[`epub`,`application/epub+zip`],[`es`,`application/ecmascript`],[`es3`,`application/vnd.eszigno3+xml`],[`esa`,`application/vnd.osgi.subsystem`],[`esf`,`application/vnd.epson.esf`],[`et3`,`application/vnd.eszigno3+xml`],[`etx`,`text/x-setext`],[`eva`,`application/x-eva`],[`evy`,`application/x-envoy`],[`exe`,`application/octet-stream`],[`exi`,`application/exi`],[`exp`,`application/express`],[`exr`,`image/aces`],[`ext`,`application/vnd.novadigm.ext`],[`ez`,`application/andrew-inset`],[`ez2`,`application/vnd.ezpix-album`],[`ez3`,`application/vnd.ezpix-package`],[`f`,`text/x-fortran`],[`f4v`,`video/mp4`],[`f77`,`text/x-fortran`],[`f90`,`text/x-fortran`],[`fbs`,`image/vnd.fastbidsheet`],[`fcdt`,`application/vnd.adobe.formscentral.fcdt`],[`fcs`,`application/vnd.isac.fcs`],[`fdf`,`application/vnd.fdf`],[`fdt`,`application/fdt+xml`],[`fe_launch`,`application/vnd.denovo.fcselayout-link`],[`fg5`,`application/vnd.fujitsu.oasysgp`],[`fgd`,`application/x-director`],[`fh`,`image/x-freehand`],[`fh4`,`image/x-freehand`],[`fh5`,`image/x-freehand`],[`fh7`,`image/x-freehand`],[`fhc`,`image/x-freehand`],[`fig`,`application/x-xfig`],[`fits`,`image/fits`],[`flac`,`audio/x-flac`],[`fli`,`video/x-fli`],[`flo`,`application/vnd.micrografx.flo`],[`flv`,`video/x-flv`],[`flw`,`application/vnd.kde.kivio`],[`flx`,`text/vnd.fmi.flexstor`],[`fly`,`text/vnd.fly`],[`fm`,`application/vnd.framemaker`],[`fnc`,`application/vnd.frogans.fnc`],[`fo`,`application/vnd.software602.filler.form+xml`],[`for`,`text/x-fortran`],[`fpx`,`image/vnd.fpx`],[`frame`,`application/vnd.framemaker`],[`fsc`,`application/vnd.fsc.weblaunch`],[`fst`,`image/vnd.fst`],[`ftc`,`application/vnd.fluxtime.clip`],[`fti`,`application/vnd.anser-web-funds-transfer-initiation`],[`fvt`,`video/vnd.fvt`],[`fxp`,`application/vnd.adobe.fxp`],[`fxpl`,`application/vnd.adobe.fxp`],[`fzs`,`application/vnd.fuzzysheet`],[`g2w`,`application/vnd.geoplan`],[`g3`,`image/g3fax`],[`g3w`,`application/vnd.geospace`],[`gac`,`application/vnd.groove-account`],[`gam`,`application/x-tads`],[`gbr`,`application/rpki-ghostbusters`],[`gca`,`application/x-gca-compressed`],[`gdl`,`model/vnd.gdl`],[`gdoc`,`application/vnd.google-apps.document`],[`geo`,`application/vnd.dynageo`],[`geojson`,`application/geo+json`],[`gex`,`application/vnd.geometry-explorer`],[`ggb`,`application/vnd.geogebra.file`],[`ggt`,`application/vnd.geogebra.tool`],[`ghf`,`application/vnd.groove-help`],[`gif`,`image/gif`],[`gim`,`application/vnd.groove-identity-message`],[`glb`,`model/gltf-binary`],[`gltf`,`model/gltf+json`],[`gml`,`application/gml+xml`],[`gmx`,`application/vnd.gmx`],[`gnumeric`,`application/x-gnumeric`],[`gpg`,`application/gpg-keys`],[`gph`,`application/vnd.flographit`],[`gpx`,`application/gpx+xml`],[`gqf`,`application/vnd.grafeq`],[`gqs`,`application/vnd.grafeq`],[`gram`,`application/srgs`],[`gramps`,`application/x-gramps-xml`],[`gre`,`application/vnd.geometry-explorer`],[`grv`,`application/vnd.groove-injector`],[`grxml`,`application/srgs+xml`],[`gsf`,`application/x-font-ghostscript`],[`gsheet`,`application/vnd.google-apps.spreadsheet`],[`gslides`,`application/vnd.google-apps.presentation`],[`gtar`,`application/x-gtar`],[`gtm`,`application/vnd.groove-tool-message`],[`gtw`,`model/vnd.gtw`],[`gv`,`text/vnd.graphviz`],[`gxf`,`application/gxf`],[`gxt`,`application/vnd.geonext`],[`gz`,`application/gzip`],[`gzip`,`application/gzip`],[`h`,`text/x-c`],[`h261`,`video/h261`],[`h263`,`video/h263`],[`h264`,`video/h264`],[`hal`,`application/vnd.hal+xml`],[`hbci`,`application/vnd.hbci`],[`hbs`,`text/x-handlebars-template`],[`hdd`,`application/x-virtualbox-hdd`],[`hdf`,`application/x-hdf`],[`heic`,`image/heic`],[`heics`,`image/heic-sequence`],[`heif`,`image/heif`],[`heifs`,`image/heif-sequence`],[`hej2`,`image/hej2k`],[`held`,`application/atsc-held+xml`],[`hh`,`text/x-c`],[`hjson`,`application/hjson`],[`hlp`,`application/winhlp`],[`hpgl`,`application/vnd.hp-hpgl`],[`hpid`,`application/vnd.hp-hpid`],[`hps`,`application/vnd.hp-hps`],[`hqx`,`application/mac-binhex40`],[`hsj2`,`image/hsj2`],[`htc`,`text/x-component`],[`htke`,`application/vnd.kenameaapp`],[`htm`,`text/html`],[`html`,`text/html`],[`hvd`,`application/vnd.yamaha.hv-dic`],[`hvp`,`application/vnd.yamaha.hv-voice`],[`hvs`,`application/vnd.yamaha.hv-script`],[`i2g`,`application/vnd.intergeo`],[`icc`,`application/vnd.iccprofile`],[`ice`,`x-conference/x-cooltalk`],[`icm`,`application/vnd.iccprofile`],[`ico`,`image/x-icon`],[`ics`,`text/calendar`],[`ief`,`image/ief`],[`ifb`,`text/calendar`],[`ifm`,`application/vnd.shana.informed.formdata`],[`iges`,`model/iges`],[`igl`,`application/vnd.igloader`],[`igm`,`application/vnd.insors.igm`],[`igs`,`model/iges`],[`igx`,`application/vnd.micrografx.igx`],[`iif`,`application/vnd.shana.informed.interchange`],[`img`,`application/octet-stream`],[`imp`,`application/vnd.accpac.simply.imp`],[`ims`,`application/vnd.ms-ims`],[`in`,`text/plain`],[`ini`,`text/plain`],[`ink`,`application/inkml+xml`],[`inkml`,`application/inkml+xml`],[`install`,`application/x-install-instructions`],[`iota`,`application/vnd.astraea-software.iota`],[`ipfix`,`application/ipfix`],[`ipk`,`application/vnd.shana.informed.package`],[`irm`,`application/vnd.ibm.rights-management`],[`irp`,`application/vnd.irepository.package+xml`],[`iso`,`application/x-iso9660-image`],[`itp`,`application/vnd.shana.informed.formtemplate`],[`its`,`application/its+xml`],[`ivp`,`application/vnd.immervision-ivp`],[`ivu`,`application/vnd.immervision-ivu`],[`jad`,`text/vnd.sun.j2me.app-descriptor`],[`jade`,`text/jade`],[`jam`,`application/vnd.jam`],[`jar`,`application/java-archive`],[`jardiff`,`application/x-java-archive-diff`],[`java`,`text/x-java-source`],[`jhc`,`image/jphc`],[`jisp`,`application/vnd.jisp`],[`jls`,`image/jls`],[`jlt`,`application/vnd.hp-jlyt`],[`jng`,`image/x-jng`],[`jnlp`,`application/x-java-jnlp-file`],[`joda`,`application/vnd.joost.joda-archive`],[`jp2`,`image/jp2`],[`jpe`,`image/jpeg`],[`jpeg`,`image/jpeg`],[`jpf`,`image/jpx`],[`jpg`,`image/jpeg`],[`jpg2`,`image/jp2`],[`jpgm`,`video/jpm`],[`jpgv`,`video/jpeg`],[`jph`,`image/jph`],[`jpm`,`video/jpm`],[`jpx`,`image/jpx`],[`js`,`application/javascript`],[`json`,`application/json`],[`json5`,`application/json5`],[`jsonld`,`application/ld+json`],[`jsonl`,`application/jsonl`],[`jsonml`,`application/jsonml+json`],[`jsx`,`text/jsx`],[`jxr`,`image/jxr`],[`jxra`,`image/jxra`],[`jxrs`,`image/jxrs`],[`jxs`,`image/jxs`],[`jxsc`,`image/jxsc`],[`jxsi`,`image/jxsi`],[`jxss`,`image/jxss`],[`kar`,`audio/midi`],[`karbon`,`application/vnd.kde.karbon`],[`kdb`,`application/octet-stream`],[`kdbx`,`application/x-keepass2`],[`key`,`application/x-iwork-keynote-sffkey`],[`kfo`,`application/vnd.kde.kformula`],[`kia`,`application/vnd.kidspiration`],[`kml`,`application/vnd.google-earth.kml+xml`],[`kmz`,`application/vnd.google-earth.kmz`],[`kne`,`application/vnd.kinar`],[`knp`,`application/vnd.kinar`],[`kon`,`application/vnd.kde.kontour`],[`kpr`,`application/vnd.kde.kpresenter`],[`kpt`,`application/vnd.kde.kpresenter`],[`kpxx`,`application/vnd.ds-keypoint`],[`ksp`,`application/vnd.kde.kspread`],[`ktr`,`application/vnd.kahootz`],[`ktx`,`image/ktx`],[`ktx2`,`image/ktx2`],[`ktz`,`application/vnd.kahootz`],[`kwd`,`application/vnd.kde.kword`],[`kwt`,`application/vnd.kde.kword`],[`lasxml`,`application/vnd.las.las+xml`],[`latex`,`application/x-latex`],[`lbd`,`application/vnd.llamagraphics.life-balance.desktop`],[`lbe`,`application/vnd.llamagraphics.life-balance.exchange+xml`],[`les`,`application/vnd.hhe.lesson-player`],[`less`,`text/less`],[`lgr`,`application/lgr+xml`],[`lha`,`application/octet-stream`],[`link66`,`application/vnd.route66.link66+xml`],[`list`,`text/plain`],[`list3820`,`application/vnd.ibm.modcap`],[`listafp`,`application/vnd.ibm.modcap`],[`litcoffee`,`text/coffeescript`],[`lnk`,`application/x-ms-shortcut`],[`log`,`text/plain`],[`lostxml`,`application/lost+xml`],[`lrf`,`application/octet-stream`],[`lrm`,`application/vnd.ms-lrm`],[`ltf`,`application/vnd.frogans.ltf`],[`lua`,`text/x-lua`],[`luac`,`application/x-lua-bytecode`],[`lvp`,`audio/vnd.lucent.voice`],[`lwp`,`application/vnd.lotus-wordpro`],[`lzh`,`application/octet-stream`],[`m1v`,`video/mpeg`],[`m2a`,`audio/mpeg`],[`m2v`,`video/mpeg`],[`m3a`,`audio/mpeg`],[`m3u`,`text/plain`],[`m3u8`,`application/vnd.apple.mpegurl`],[`m4a`,`audio/x-m4a`],[`m4p`,`application/mp4`],[`m4s`,`video/iso.segment`],[`m4u`,`application/vnd.mpegurl`],[`m4v`,`video/x-m4v`],[`m13`,`application/x-msmediaview`],[`m14`,`application/x-msmediaview`],[`m21`,`application/mp21`],[`ma`,`application/mathematica`],[`mads`,`application/mads+xml`],[`maei`,`application/mmt-aei+xml`],[`mag`,`application/vnd.ecowin.chart`],[`maker`,`application/vnd.framemaker`],[`man`,`text/troff`],[`manifest`,`text/cache-manifest`],[`map`,`application/json`],[`mar`,`application/octet-stream`],[`markdown`,`text/markdown`],[`mathml`,`application/mathml+xml`],[`mb`,`application/mathematica`],[`mbk`,`application/vnd.mobius.mbk`],[`mbox`,`application/mbox`],[`mc1`,`application/vnd.medcalcdata`],[`mcd`,`application/vnd.mcd`],[`mcurl`,`text/vnd.curl.mcurl`],[`md`,`text/markdown`],[`mdb`,`application/x-msaccess`],[`mdi`,`image/vnd.ms-modi`],[`mdx`,`text/mdx`],[`me`,`text/troff`],[`mesh`,`model/mesh`],[`meta4`,`application/metalink4+xml`],[`metalink`,`application/metalink+xml`],[`mets`,`application/mets+xml`],[`mfm`,`application/vnd.mfmp`],[`mft`,`application/rpki-manifest`],[`mgp`,`application/vnd.osgeo.mapguide.package`],[`mgz`,`application/vnd.proteus.magazine`],[`mid`,`audio/midi`],[`midi`,`audio/midi`],[`mie`,`application/x-mie`],[`mif`,`application/vnd.mif`],[`mime`,`message/rfc822`],[`mj2`,`video/mj2`],[`mjp2`,`video/mj2`],[`mjs`,`application/javascript`],[`mk3d`,`video/x-matroska`],[`mka`,`audio/x-matroska`],[`mkd`,`text/x-markdown`],[`mks`,`video/x-matroska`],[`mkv`,`video/x-matroska`],[`mlp`,`application/vnd.dolby.mlp`],[`mmd`,`application/vnd.chipnuts.karaoke-mmd`],[`mmf`,`application/vnd.smaf`],[`mml`,`text/mathml`],[`mmr`,`image/vnd.fujixerox.edmics-mmr`],[`mng`,`video/x-mng`],[`mny`,`application/x-msmoney`],[`mobi`,`application/x-mobipocket-ebook`],[`mods`,`application/mods+xml`],[`mov`,`video/quicktime`],[`movie`,`video/x-sgi-movie`],[`mp2`,`audio/mpeg`],[`mp2a`,`audio/mpeg`],[`mp3`,`audio/mpeg`],[`mp4`,`video/mp4`],[`mp4a`,`audio/mp4`],[`mp4s`,`application/mp4`],[`mp4v`,`video/mp4`],[`mp21`,`application/mp21`],[`mpc`,`application/vnd.mophun.certificate`],[`mpd`,`application/dash+xml`],[`mpe`,`video/mpeg`],[`mpeg`,`video/mpeg`],[`mpg`,`video/mpeg`],[`mpg4`,`video/mp4`],[`mpga`,`audio/mpeg`],[`mpkg`,`application/vnd.apple.installer+xml`],[`mpm`,`application/vnd.blueice.multipass`],[`mpn`,`application/vnd.mophun.application`],[`mpp`,`application/vnd.ms-project`],[`mpt`,`application/vnd.ms-project`],[`mpy`,`application/vnd.ibm.minipay`],[`mqy`,`application/vnd.mobius.mqy`],[`mrc`,`application/marc`],[`mrcx`,`application/marcxml+xml`],[`ms`,`text/troff`],[`mscml`,`application/mediaservercontrol+xml`],[`mseed`,`application/vnd.fdsn.mseed`],[`mseq`,`application/vnd.mseq`],[`msf`,`application/vnd.epson.msf`],[`msg`,`application/vnd.ms-outlook`],[`msh`,`model/mesh`],[`msi`,`application/x-msdownload`],[`msl`,`application/vnd.mobius.msl`],[`msm`,`application/octet-stream`],[`msp`,`application/octet-stream`],[`msty`,`application/vnd.muvee.style`],[`mtl`,`model/mtl`],[`mts`,`model/vnd.mts`],[`mus`,`application/vnd.musician`],[`musd`,`application/mmt-usd+xml`],[`musicxml`,`application/vnd.recordare.musicxml+xml`],[`mvb`,`application/x-msmediaview`],[`mvt`,`application/vnd.mapbox-vector-tile`],[`mwf`,`application/vnd.mfer`],[`mxf`,`application/mxf`],[`mxl`,`application/vnd.recordare.musicxml`],[`mxmf`,`audio/mobile-xmf`],[`mxml`,`application/xv+xml`],[`mxs`,`application/vnd.triscape.mxs`],[`mxu`,`video/vnd.mpegurl`],[`n-gage`,`application/vnd.nokia.n-gage.symbian.install`],[`n3`,`text/n3`],[`nb`,`application/mathematica`],[`nbp`,`application/vnd.wolfram.player`],[`nc`,`application/x-netcdf`],[`ncx`,`application/x-dtbncx+xml`],[`nfo`,`text/x-nfo`],[`ngdat`,`application/vnd.nokia.n-gage.data`],[`nitf`,`application/vnd.nitf`],[`nlu`,`application/vnd.neurolanguage.nlu`],[`nml`,`application/vnd.enliven`],[`nnd`,`application/vnd.noblenet-directory`],[`nns`,`application/vnd.noblenet-sealer`],[`nnw`,`application/vnd.noblenet-web`],[`npx`,`image/vnd.net-fpx`],[`nq`,`application/n-quads`],[`nsc`,`application/x-conference`],[`nsf`,`application/vnd.lotus-notes`],[`nt`,`application/n-triples`],[`ntf`,`application/vnd.nitf`],[`numbers`,`application/x-iwork-numbers-sffnumbers`],[`nzb`,`application/x-nzb`],[`oa2`,`application/vnd.fujitsu.oasys2`],[`oa3`,`application/vnd.fujitsu.oasys3`],[`oas`,`application/vnd.fujitsu.oasys`],[`obd`,`application/x-msbinder`],[`obgx`,`application/vnd.openblox.game+xml`],[`obj`,`model/obj`],[`oda`,`application/oda`],[`odb`,`application/vnd.oasis.opendocument.database`],[`odc`,`application/vnd.oasis.opendocument.chart`],[`odf`,`application/vnd.oasis.opendocument.formula`],[`odft`,`application/vnd.oasis.opendocument.formula-template`],[`odg`,`application/vnd.oasis.opendocument.graphics`],[`odi`,`application/vnd.oasis.opendocument.image`],[`odm`,`application/vnd.oasis.opendocument.text-master`],[`odp`,`application/vnd.oasis.opendocument.presentation`],[`ods`,`application/vnd.oasis.opendocument.spreadsheet`],[`odt`,`application/vnd.oasis.opendocument.text`],[`oga`,`audio/ogg`],[`ogex`,`model/vnd.opengex`],[`ogg`,`audio/ogg`],[`ogv`,`video/ogg`],[`ogx`,`application/ogg`],[`omdoc`,`application/omdoc+xml`],[`onepkg`,`application/onenote`],[`onetmp`,`application/onenote`],[`onetoc`,`application/onenote`],[`onetoc2`,`application/onenote`],[`opf`,`application/oebps-package+xml`],[`opml`,`text/x-opml`],[`oprc`,`application/vnd.palm`],[`opus`,`audio/ogg`],[`org`,`text/x-org`],[`osf`,`application/vnd.yamaha.openscoreformat`],[`osfpvg`,`application/vnd.yamaha.openscoreformat.osfpvg+xml`],[`osm`,`application/vnd.openstreetmap.data+xml`],[`otc`,`application/vnd.oasis.opendocument.chart-template`],[`otf`,`font/otf`],[`otg`,`application/vnd.oasis.opendocument.graphics-template`],[`oth`,`application/vnd.oasis.opendocument.text-web`],[`oti`,`application/vnd.oasis.opendocument.image-template`],[`otp`,`application/vnd.oasis.opendocument.presentation-template`],[`ots`,`application/vnd.oasis.opendocument.spreadsheet-template`],[`ott`,`application/vnd.oasis.opendocument.text-template`],[`ova`,`application/x-virtualbox-ova`],[`ovf`,`application/x-virtualbox-ovf`],[`owl`,`application/rdf+xml`],[`oxps`,`application/oxps`],[`oxt`,`application/vnd.openofficeorg.extension`],[`p`,`text/x-pascal`],[`p7a`,`application/x-pkcs7-signature`],[`p7b`,`application/x-pkcs7-certificates`],[`p7c`,`application/pkcs7-mime`],[`p7m`,`application/pkcs7-mime`],[`p7r`,`application/x-pkcs7-certreqresp`],[`p7s`,`application/pkcs7-signature`],[`p8`,`application/pkcs8`],[`p10`,`application/x-pkcs10`],[`p12`,`application/x-pkcs12`],[`pac`,`application/x-ns-proxy-autoconfig`],[`pages`,`application/x-iwork-pages-sffpages`],[`pas`,`text/x-pascal`],[`paw`,`application/vnd.pawaafile`],[`pbd`,`application/vnd.powerbuilder6`],[`pbm`,`image/x-portable-bitmap`],[`pcap`,`application/vnd.tcpdump.pcap`],[`pcf`,`application/x-font-pcf`],[`pcl`,`application/vnd.hp-pcl`],[`pclxl`,`application/vnd.hp-pclxl`],[`pct`,`image/x-pict`],[`pcurl`,`application/vnd.curl.pcurl`],[`pcx`,`image/x-pcx`],[`pdb`,`application/x-pilot`],[`pde`,`text/x-processing`],[`pdf`,`application/pdf`],[`pem`,`application/x-x509-user-cert`],[`pfa`,`application/x-font-type1`],[`pfb`,`application/x-font-type1`],[`pfm`,`application/x-font-type1`],[`pfr`,`application/font-tdpfr`],[`pfx`,`application/x-pkcs12`],[`pgm`,`image/x-portable-graymap`],[`pgn`,`application/x-chess-pgn`],[`pgp`,`application/pgp`],[`php`,`application/x-httpd-php`],[`php3`,`application/x-httpd-php`],[`php4`,`application/x-httpd-php`],[`phps`,`application/x-httpd-php-source`],[`phtml`,`application/x-httpd-php`],[`pic`,`image/x-pict`],[`pkg`,`application/octet-stream`],[`pki`,`application/pkixcmp`],[`pkipath`,`application/pkix-pkipath`],[`pkpass`,`application/vnd.apple.pkpass`],[`pl`,`application/x-perl`],[`plb`,`application/vnd.3gpp.pic-bw-large`],[`plc`,`application/vnd.mobius.plc`],[`plf`,`application/vnd.pocketlearn`],[`pls`,`application/pls+xml`],[`pm`,`application/x-perl`],[`pml`,`application/vnd.ctc-posml`],[`png`,`image/png`],[`pnm`,`image/x-portable-anymap`],[`portpkg`,`application/vnd.macports.portpkg`],[`pot`,`application/vnd.ms-powerpoint`],[`potm`,`application/vnd.ms-powerpoint.presentation.macroEnabled.12`],[`potx`,`application/vnd.openxmlformats-officedocument.presentationml.template`],[`ppa`,`application/vnd.ms-powerpoint`],[`ppam`,`application/vnd.ms-powerpoint.addin.macroEnabled.12`],[`ppd`,`application/vnd.cups-ppd`],[`ppm`,`image/x-portable-pixmap`],[`pps`,`application/vnd.ms-powerpoint`],[`ppsm`,`application/vnd.ms-powerpoint.slideshow.macroEnabled.12`],[`ppsx`,`application/vnd.openxmlformats-officedocument.presentationml.slideshow`],[`ppt`,`application/powerpoint`],[`pptm`,`application/vnd.ms-powerpoint.presentation.macroEnabled.12`],[`pptx`,`application/vnd.openxmlformats-officedocument.presentationml.presentation`],[`pqa`,`application/vnd.palm`],[`prc`,`application/x-pilot`],[`pre`,`application/vnd.lotus-freelance`],[`prf`,`application/pics-rules`],[`provx`,`application/provenance+xml`],[`ps`,`application/postscript`],[`psb`,`application/vnd.3gpp.pic-bw-small`],[`psd`,`application/x-photoshop`],[`psf`,`application/x-font-linux-psf`],[`pskcxml`,`application/pskc+xml`],[`pti`,`image/prs.pti`],[`ptid`,`application/vnd.pvi.ptid1`],[`pub`,`application/x-mspublisher`],[`pvb`,`application/vnd.3gpp.pic-bw-var`],[`pwn`,`application/vnd.3m.post-it-notes`],[`pya`,`audio/vnd.ms-playready.media.pya`],[`pyv`,`video/vnd.ms-playready.media.pyv`],[`qam`,`application/vnd.epson.quickanime`],[`qbo`,`application/vnd.intu.qbo`],[`qfx`,`application/vnd.intu.qfx`],[`qps`,`application/vnd.publishare-delta-tree`],[`qt`,`video/quicktime`],[`qwd`,`application/vnd.quark.quarkxpress`],[`qwt`,`application/vnd.quark.quarkxpress`],[`qxb`,`application/vnd.quark.quarkxpress`],[`qxd`,`application/vnd.quark.quarkxpress`],[`qxl`,`application/vnd.quark.quarkxpress`],[`qxt`,`application/vnd.quark.quarkxpress`],[`ra`,`audio/x-realaudio`],[`ram`,`audio/x-pn-realaudio`],[`raml`,`application/raml+yaml`],[`rapd`,`application/route-apd+xml`],[`rar`,`application/x-rar`],[`ras`,`image/x-cmu-raster`],[`rcprofile`,`application/vnd.ipunplugged.rcprofile`],[`rdf`,`application/rdf+xml`],[`rdz`,`application/vnd.data-vision.rdz`],[`relo`,`application/p2p-overlay+xml`],[`rep`,`application/vnd.businessobjects`],[`res`,`application/x-dtbresource+xml`],[`rgb`,`image/x-rgb`],[`rif`,`application/reginfo+xml`],[`rip`,`audio/vnd.rip`],[`ris`,`application/x-research-info-systems`],[`rl`,`application/resource-lists+xml`],[`rlc`,`image/vnd.fujixerox.edmics-rlc`],[`rld`,`application/resource-lists-diff+xml`],[`rm`,`audio/x-pn-realaudio`],[`rmi`,`audio/midi`],[`rmp`,`audio/x-pn-realaudio-plugin`],[`rms`,`application/vnd.jcp.javame.midlet-rms`],[`rmvb`,`application/vnd.rn-realmedia-vbr`],[`rnc`,`application/relax-ng-compact-syntax`],[`rng`,`application/xml`],[`roa`,`application/rpki-roa`],[`roff`,`text/troff`],[`rp9`,`application/vnd.cloanto.rp9`],[`rpm`,`audio/x-pn-realaudio-plugin`],[`rpss`,`application/vnd.nokia.radio-presets`],[`rpst`,`application/vnd.nokia.radio-preset`],[`rq`,`application/sparql-query`],[`rs`,`application/rls-services+xml`],[`rsa`,`application/x-pkcs7`],[`rsat`,`application/atsc-rsat+xml`],[`rsd`,`application/rsd+xml`],[`rsheet`,`application/urc-ressheet+xml`],[`rss`,`application/rss+xml`],[`rtf`,`text/rtf`],[`rtx`,`text/richtext`],[`run`,`application/x-makeself`],[`rusd`,`application/route-usd+xml`],[`rv`,`video/vnd.rn-realvideo`],[`s`,`text/x-asm`],[`s3m`,`audio/s3m`],[`saf`,`application/vnd.yamaha.smaf-audio`],[`sass`,`text/x-sass`],[`sbml`,`application/sbml+xml`],[`sc`,`application/vnd.ibm.secure-container`],[`scd`,`application/x-msschedule`],[`scm`,`application/vnd.lotus-screencam`],[`scq`,`application/scvp-cv-request`],[`scs`,`application/scvp-cv-response`],[`scss`,`text/x-scss`],[`scurl`,`text/vnd.curl.scurl`],[`sda`,`application/vnd.stardivision.draw`],[`sdc`,`application/vnd.stardivision.calc`],[`sdd`,`application/vnd.stardivision.impress`],[`sdkd`,`application/vnd.solent.sdkm+xml`],[`sdkm`,`application/vnd.solent.sdkm+xml`],[`sdp`,`application/sdp`],[`sdw`,`application/vnd.stardivision.writer`],[`sea`,`application/octet-stream`],[`see`,`application/vnd.seemail`],[`seed`,`application/vnd.fdsn.seed`],[`sema`,`application/vnd.sema`],[`semd`,`application/vnd.semd`],[`semf`,`application/vnd.semf`],[`senmlx`,`application/senml+xml`],[`sensmlx`,`application/sensml+xml`],[`ser`,`application/java-serialized-object`],[`setpay`,`application/set-payment-initiation`],[`setreg`,`application/set-registration-initiation`],[`sfd-hdstx`,`application/vnd.hydrostatix.sof-data`],[`sfs`,`application/vnd.spotfire.sfs`],[`sfv`,`text/x-sfv`],[`sgi`,`image/sgi`],[`sgl`,`application/vnd.stardivision.writer-global`],[`sgm`,`text/sgml`],[`sgml`,`text/sgml`],[`sh`,`application/x-sh`],[`shar`,`application/x-shar`],[`shex`,`text/shex`],[`shf`,`application/shf+xml`],[`shtml`,`text/html`],[`sid`,`image/x-mrsid-image`],[`sieve`,`application/sieve`],[`sig`,`application/pgp-signature`],[`sil`,`audio/silk`],[`silo`,`model/mesh`],[`sis`,`application/vnd.symbian.install`],[`sisx`,`application/vnd.symbian.install`],[`sit`,`application/x-stuffit`],[`sitx`,`application/x-stuffitx`],[`siv`,`application/sieve`],[`skd`,`application/vnd.koan`],[`skm`,`application/vnd.koan`],[`skp`,`application/vnd.koan`],[`skt`,`application/vnd.koan`],[`sldm`,`application/vnd.ms-powerpoint.slide.macroenabled.12`],[`sldx`,`application/vnd.openxmlformats-officedocument.presentationml.slide`],[`slim`,`text/slim`],[`slm`,`text/slim`],[`sls`,`application/route-s-tsid+xml`],[`slt`,`application/vnd.epson.salt`],[`sm`,`application/vnd.stepmania.stepchart`],[`smf`,`application/vnd.stardivision.math`],[`smi`,`application/smil`],[`smil`,`application/smil`],[`smv`,`video/x-smv`],[`smzip`,`application/vnd.stepmania.package`],[`snd`,`audio/basic`],[`snf`,`application/x-font-snf`],[`so`,`application/octet-stream`],[`spc`,`application/x-pkcs7-certificates`],[`spdx`,`text/spdx`],[`spf`,`application/vnd.yamaha.smaf-phrase`],[`spl`,`application/x-futuresplash`],[`spot`,`text/vnd.in3d.spot`],[`spp`,`application/scvp-vp-response`],[`spq`,`application/scvp-vp-request`],[`spx`,`audio/ogg`],[`sql`,`application/x-sql`],[`src`,`application/x-wais-source`],[`srt`,`application/x-subrip`],[`sru`,`application/sru+xml`],[`srx`,`application/sparql-results+xml`],[`ssdl`,`application/ssdl+xml`],[`sse`,`application/vnd.kodak-descriptor`],[`ssf`,`application/vnd.epson.ssf`],[`ssml`,`application/ssml+xml`],[`sst`,`application/octet-stream`],[`st`,`application/vnd.sailingtracker.track`],[`stc`,`application/vnd.sun.xml.calc.template`],[`std`,`application/vnd.sun.xml.draw.template`],[`stf`,`application/vnd.wt.stf`],[`sti`,`application/vnd.sun.xml.impress.template`],[`stk`,`application/hyperstudio`],[`stl`,`model/stl`],[`stpx`,`model/step+xml`],[`stpxz`,`model/step-xml+zip`],[`stpz`,`model/step+zip`],[`str`,`application/vnd.pg.format`],[`stw`,`application/vnd.sun.xml.writer.template`],[`styl`,`text/stylus`],[`stylus`,`text/stylus`],[`sub`,`text/vnd.dvb.subtitle`],[`sus`,`application/vnd.sus-calendar`],[`susp`,`application/vnd.sus-calendar`],[`sv4cpio`,`application/x-sv4cpio`],[`sv4crc`,`application/x-sv4crc`],[`svc`,`application/vnd.dvb.service`],[`svd`,`application/vnd.svd`],[`svg`,`image/svg+xml`],[`svgz`,`image/svg+xml`],[`swa`,`application/x-director`],[`swf`,`application/x-shockwave-flash`],[`swi`,`application/vnd.aristanetworks.swi`],[`swidtag`,`application/swid+xml`],[`sxc`,`application/vnd.sun.xml.calc`],[`sxd`,`application/vnd.sun.xml.draw`],[`sxg`,`application/vnd.sun.xml.writer.global`],[`sxi`,`application/vnd.sun.xml.impress`],[`sxm`,`application/vnd.sun.xml.math`],[`sxw`,`application/vnd.sun.xml.writer`],[`t`,`text/troff`],[`t3`,`application/x-t3vm-image`],[`t38`,`image/t38`],[`taglet`,`application/vnd.mynfc`],[`tao`,`application/vnd.tao.intent-module-archive`],[`tap`,`image/vnd.tencent.tap`],[`tar`,`application/x-tar`],[`tcap`,`application/vnd.3gpp2.tcap`],[`tcl`,`application/x-tcl`],[`td`,`application/urc-targetdesc+xml`],[`teacher`,`application/vnd.smart.teacher`],[`tei`,`application/tei+xml`],[`teicorpus`,`application/tei+xml`],[`tex`,`application/x-tex`],[`texi`,`application/x-texinfo`],[`texinfo`,`application/x-texinfo`],[`text`,`text/plain`],[`tfi`,`application/thraud+xml`],[`tfm`,`application/x-tex-tfm`],[`tfx`,`image/tiff-fx`],[`tga`,`image/x-tga`],[`tgz`,`application/x-tar`],[`thmx`,`application/vnd.ms-officetheme`],[`tif`,`image/tiff`],[`tiff`,`image/tiff`],[`tk`,`application/x-tcl`],[`tmo`,`application/vnd.tmobile-livetv`],[`toml`,`application/toml`],[`torrent`,`application/x-bittorrent`],[`tpl`,`application/vnd.groove-tool-template`],[`tpt`,`application/vnd.trid.tpt`],[`tr`,`text/troff`],[`tra`,`application/vnd.trueapp`],[`trig`,`application/trig`],[`trm`,`application/x-msterminal`],[`ts`,`video/mp2t`],[`tsd`,`application/timestamped-data`],[`tsv`,`text/tab-separated-values`],[`ttc`,`font/collection`],[`ttf`,`font/ttf`],[`ttl`,`text/turtle`],[`ttml`,`application/ttml+xml`],[`twd`,`application/vnd.simtech-mindmapper`],[`twds`,`application/vnd.simtech-mindmapper`],[`txd`,`application/vnd.genomatix.tuxedo`],[`txf`,`application/vnd.mobius.txf`],[`txt`,`text/plain`],[`u8dsn`,`message/global-delivery-status`],[`u8hdr`,`message/global-headers`],[`u8mdn`,`message/global-disposition-notification`],[`u8msg`,`message/global`],[`u32`,`application/x-authorware-bin`],[`ubj`,`application/ubjson`],[`udeb`,`application/x-debian-package`],[`ufd`,`application/vnd.ufdl`],[`ufdl`,`application/vnd.ufdl`],[`ulx`,`application/x-glulx`],[`umj`,`application/vnd.umajin`],[`unityweb`,`application/vnd.unity`],[`uoml`,`application/vnd.uoml+xml`],[`uri`,`text/uri-list`],[`uris`,`text/uri-list`],[`urls`,`text/uri-list`],[`usdz`,`model/vnd.usdz+zip`],[`ustar`,`application/x-ustar`],[`utz`,`application/vnd.uiq.theme`],[`uu`,`text/x-uuencode`],[`uva`,`audio/vnd.dece.audio`],[`uvd`,`application/vnd.dece.data`],[`uvf`,`application/vnd.dece.data`],[`uvg`,`image/vnd.dece.graphic`],[`uvh`,`video/vnd.dece.hd`],[`uvi`,`image/vnd.dece.graphic`],[`uvm`,`video/vnd.dece.mobile`],[`uvp`,`video/vnd.dece.pd`],[`uvs`,`video/vnd.dece.sd`],[`uvt`,`application/vnd.dece.ttml+xml`],[`uvu`,`video/vnd.uvvu.mp4`],[`uvv`,`video/vnd.dece.video`],[`uvva`,`audio/vnd.dece.audio`],[`uvvd`,`application/vnd.dece.data`],[`uvvf`,`application/vnd.dece.data`],[`uvvg`,`image/vnd.dece.graphic`],[`uvvh`,`video/vnd.dece.hd`],[`uvvi`,`image/vnd.dece.graphic`],[`uvvm`,`video/vnd.dece.mobile`],[`uvvp`,`video/vnd.dece.pd`],[`uvvs`,`video/vnd.dece.sd`],[`uvvt`,`application/vnd.dece.ttml+xml`],[`uvvu`,`video/vnd.uvvu.mp4`],[`uvvv`,`video/vnd.dece.video`],[`uvvx`,`application/vnd.dece.unspecified`],[`uvvz`,`application/vnd.dece.zip`],[`uvx`,`application/vnd.dece.unspecified`],[`uvz`,`application/vnd.dece.zip`],[`vbox`,`application/x-virtualbox-vbox`],[`vbox-extpack`,`application/x-virtualbox-vbox-extpack`],[`vcard`,`text/vcard`],[`vcd`,`application/x-cdlink`],[`vcf`,`text/x-vcard`],[`vcg`,`application/vnd.groove-vcard`],[`vcs`,`text/x-vcalendar`],[`vcx`,`application/vnd.vcx`],[`vdi`,`application/x-virtualbox-vdi`],[`vds`,`model/vnd.sap.vds`],[`vhd`,`application/x-virtualbox-vhd`],[`vis`,`application/vnd.visionary`],[`viv`,`video/vnd.vivo`],[`vlc`,`application/videolan`],[`vmdk`,`application/x-virtualbox-vmdk`],[`vob`,`video/x-ms-vob`],[`vor`,`application/vnd.stardivision.writer`],[`vox`,`application/x-authorware-bin`],[`vrml`,`model/vrml`],[`vsd`,`application/vnd.visio`],[`vsf`,`application/vnd.vsf`],[`vss`,`application/vnd.visio`],[`vst`,`application/vnd.visio`],[`vsw`,`application/vnd.visio`],[`vtf`,`image/vnd.valve.source.texture`],[`vtt`,`text/vtt`],[`vtu`,`model/vnd.vtu`],[`vxml`,`application/voicexml+xml`],[`w3d`,`application/x-director`],[`wad`,`application/x-doom`],[`wadl`,`application/vnd.sun.wadl+xml`],[`war`,`application/java-archive`],[`wasm`,`application/wasm`],[`wav`,`audio/x-wav`],[`wax`,`audio/x-ms-wax`],[`wbmp`,`image/vnd.wap.wbmp`],[`wbs`,`application/vnd.criticaltools.wbs+xml`],[`wbxml`,`application/wbxml`],[`wcm`,`application/vnd.ms-works`],[`wdb`,`application/vnd.ms-works`],[`wdp`,`image/vnd.ms-photo`],[`weba`,`audio/webm`],[`webapp`,`application/x-web-app-manifest+json`],[`webm`,`video/webm`],[`webmanifest`,`application/manifest+json`],[`webp`,`image/webp`],[`wg`,`application/vnd.pmi.widget`],[`wgt`,`application/widget`],[`wks`,`application/vnd.ms-works`],[`wm`,`video/x-ms-wm`],[`wma`,`audio/x-ms-wma`],[`wmd`,`application/x-ms-wmd`],[`wmf`,`image/wmf`],[`wml`,`text/vnd.wap.wml`],[`wmlc`,`application/wmlc`],[`wmls`,`text/vnd.wap.wmlscript`],[`wmlsc`,`application/vnd.wap.wmlscriptc`],[`wmv`,`video/x-ms-wmv`],[`wmx`,`video/x-ms-wmx`],[`wmz`,`application/x-msmetafile`],[`woff`,`font/woff`],[`woff2`,`font/woff2`],[`word`,`application/msword`],[`wpd`,`application/vnd.wordperfect`],[`wpl`,`application/vnd.ms-wpl`],[`wps`,`application/vnd.ms-works`],[`wqd`,`application/vnd.wqd`],[`wri`,`application/x-mswrite`],[`wrl`,`model/vrml`],[`wsc`,`message/vnd.wfa.wsc`],[`wsdl`,`application/wsdl+xml`],[`wspolicy`,`application/wspolicy+xml`],[`wtb`,`application/vnd.webturbo`],[`wvx`,`video/x-ms-wvx`],[`x3d`,`model/x3d+xml`],[`x3db`,`model/x3d+fastinfoset`],[`x3dbz`,`model/x3d+binary`],[`x3dv`,`model/x3d-vrml`],[`x3dvz`,`model/x3d+vrml`],[`x3dz`,`model/x3d+xml`],[`x32`,`application/x-authorware-bin`],[`x_b`,`model/vnd.parasolid.transmit.binary`],[`x_t`,`model/vnd.parasolid.transmit.text`],[`xaml`,`application/xaml+xml`],[`xap`,`application/x-silverlight-app`],[`xar`,`application/vnd.xara`],[`xav`,`application/xcap-att+xml`],[`xbap`,`application/x-ms-xbap`],[`xbd`,`application/vnd.fujixerox.docuworks.binder`],[`xbm`,`image/x-xbitmap`],[`xca`,`application/xcap-caps+xml`],[`xcs`,`application/calendar+xml`],[`xdf`,`application/xcap-diff+xml`],[`xdm`,`application/vnd.syncml.dm+xml`],[`xdp`,`application/vnd.adobe.xdp+xml`],[`xdssc`,`application/dssc+xml`],[`xdw`,`application/vnd.fujixerox.docuworks`],[`xel`,`application/xcap-el+xml`],[`xenc`,`application/xenc+xml`],[`xer`,`application/patch-ops-error+xml`],[`xfdf`,`application/vnd.adobe.xfdf`],[`xfdl`,`application/vnd.xfdl`],[`xht`,`application/xhtml+xml`],[`xhtml`,`application/xhtml+xml`],[`xhvml`,`application/xv+xml`],[`xif`,`image/vnd.xiff`],[`xl`,`application/excel`],[`xla`,`application/vnd.ms-excel`],[`xlam`,`application/vnd.ms-excel.addin.macroEnabled.12`],[`xlc`,`application/vnd.ms-excel`],[`xlf`,`application/xliff+xml`],[`xlm`,`application/vnd.ms-excel`],[`xls`,`application/vnd.ms-excel`],[`xlsb`,`application/vnd.ms-excel.sheet.binary.macroEnabled.12`],[`xlsm`,`application/vnd.ms-excel.sheet.macroEnabled.12`],[`xlsx`,`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`],[`xlt`,`application/vnd.ms-excel`],[`xltm`,`application/vnd.ms-excel.template.macroEnabled.12`],[`xltx`,`application/vnd.openxmlformats-officedocument.spreadsheetml.template`],[`xlw`,`application/vnd.ms-excel`],[`xm`,`audio/xm`],[`xml`,`application/xml`],[`xns`,`application/xcap-ns+xml`],[`xo`,`application/vnd.olpc-sugar`],[`xop`,`application/xop+xml`],[`xpi`,`application/x-xpinstall`],[`xpl`,`application/xproc+xml`],[`xpm`,`image/x-xpixmap`],[`xpr`,`application/vnd.is-xpr`],[`xps`,`application/vnd.ms-xpsdocument`],[`xpw`,`application/vnd.intercon.formnet`],[`xpx`,`application/vnd.intercon.formnet`],[`xsd`,`application/xml`],[`xsl`,`application/xml`],[`xslt`,`application/xslt+xml`],[`xsm`,`application/vnd.syncml+xml`],[`xspf`,`application/xspf+xml`],[`xul`,`application/vnd.mozilla.xul+xml`],[`xvm`,`application/xv+xml`],[`xvml`,`application/xv+xml`],[`xwd`,`image/x-xwindowdump`],[`xyz`,`chemical/x-xyz`],[`xz`,`application/x-xz`],[`yaml`,`text/yaml`],[`yang`,`application/yang`],[`yin`,`application/yin+xml`],[`yml`,`text/yaml`],[`ymp`,`text/x-suse-ymp`],[`z`,`application/x-compress`],[`z1`,`application/x-zmachine`],[`z2`,`application/x-zmachine`],[`z3`,`application/x-zmachine`],[`z4`,`application/x-zmachine`],[`z5`,`application/x-zmachine`],[`z6`,`application/x-zmachine`],[`z7`,`application/x-zmachine`],[`z8`,`application/x-zmachine`],[`zaz`,`application/vnd.zzazz.deck+xml`],[`zip`,`application/zip`],[`zir`,`application/vnd.zul`],[`zirz`,`application/vnd.zul`],[`zmm`,`application/vnd.handheld-entertainment+xml`],[`zsh`,`text/x-scriptzsh`]]);function vn(e,t,n){let r=yn(e),{webkitRelativePath:i}=e,a=typeof t==`string`?t:typeof i==`string`&&i.length>0?i:`./${e.name}`;return typeof r.path!=`string`&&bn(r,`path`,a),n!==void 0&&Object.defineProperty(r,`handle`,{value:n,writable:!1,configurable:!1,enumerable:!0}),bn(r,`relativePath`,a),r}function yn(e){let{name:t}=e;if(t&&t.lastIndexOf(`.`)!==-1&&!e.type){let n=t.split(`.`).pop().toLowerCase(),r=_n.get(n);r&&Object.defineProperty(e,`type`,{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function bn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}var xn=[`.DS_Store`,`Thumbs.db`];function Sn(e){return wt(this,void 0,void 0,function*(){return Tn(e)&&Cn(e.dataTransfer)?On(e.dataTransfer,e.type):wn(e)?En(e):Array.isArray(e)&&e.every(e=>`getFile`in e&&typeof e.getFile==`function`)?Dn(e):[]})}function Cn(e){return Tn(e)}function wn(e){return Tn(e)&&Tn(e.target)}function Tn(e){return typeof e==`object`&&!!e}function En(e){return An(e.target.files).map(e=>vn(e))}function Dn(e){return wt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>vn(e))})}function On(e,t){return wt(this,void 0,void 0,function*(){if(e.items){let n=An(e.items).filter(e=>e.kind===`file`);return t===`drop`?kn(Mn(yield Promise.all(n.map(jn)))):n}return kn(An(e.files).map(e=>vn(e)))})}function kn(e){return e.filter(e=>xn.indexOf(e.name)===-1)}function An(e){if(e===null)return[];let t=[];for(let n=0;n<e.length;n++){let r=e[n];t.push(r)}return t}function jn(e){if(typeof e.webkitGetAsEntry!=`function`)return Nn(e);let t=e.webkitGetAsEntry();return t&&t.isDirectory?Fn(t):Nn(e,t)}function Mn(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?Mn(t):[t]],[])}function Nn(e,t){return wt(this,void 0,void 0,function*(){if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle==`function`){let t=yield e.getAsFileSystemHandle();if(t===null)throw Error(`${e} is not a File`);if(t!==void 0){let e=yield t.getFile();return e.handle=t,vn(e)}}let n=e.getAsFile();if(!n)throw Error(`${e} is not a File`);return vn(n,t?.fullPath??void 0)})}function Pn(e){return wt(this,void 0,void 0,function*(){return e.isDirectory?Fn(e):B(e)})}function Fn(e){let t=e.createReader();return new Promise((e,n)=>{let r=[];function i(){t.readEntries(t=>wt(this,void 0,void 0,function*(){if(t.length){let e=Promise.all(t.map(Pn));r.push(e),i()}else try{e(yield Promise.all(r))}catch(e){n(e)}}),e=>{n(e)})}i()})}function B(e){return wt(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{t(vn(n,e.fullPath))},e=>{n(e)})})})}var In=t((e=>{e.__esModule=!0,e.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(`,`);if(n.length===0)return!0;var r=e.name||``,i=(e.type||``).toLowerCase(),a=i.replace(/\/.*$/,``);return n.some(function(e){var t=e.trim().toLowerCase();return t.charAt(0)===`.`?r.toLowerCase().endsWith(t):t.endsWith(`/*`)?a===t.replace(/\/.*$/,``):i===t})}return!0}})),V=e(gn()),Ln=e(In());function Rn(e){return Vn(e)||Bn(e)||qn(e)||zn()}function zn(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bn(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function Vn(e){if(Array.isArray(e))return Jn(e)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?Hn(Object(n),!0).forEach(function(t){Wn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e,t){return Xn(e)||Yn(e,t)||qn(e,t)||Kn()}function Kn(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qn(e,t){if(e){if(typeof e==`string`)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}}function Jn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Xn(e){if(Array.isArray(e))return e}var Zn=typeof Ln.default==`function`?Ln.default:Ln.default.default,Qn=`file-invalid-type`,$n=`file-too-large`,er=`file-too-small`,tr=`too-many-files`,nr=function(){var e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:``).split(`,`);return{code:Qn,message:`File type must be ${e.length>1?`one of ${e.join(`, `)}`:e[0]}`}},rr=function(e){return{code:$n,message:`File is larger than ${e} ${e===1?`byte`:`bytes`}`}},ir=function(e){return{code:er,message:`File is smaller than ${e} ${e===1?`byte`:`bytes`}`}},ar={code:tr,message:`Too many files`};function or(e,t){var n=e.type===`application/x-moz-file`||Zn(e,t);return[n,n?null:nr(t)]}function sr(e,t,n){if(cr(e.size)){if(cr(t)&&cr(n)){if(e.size>n)return[!1,rr(n)];if(e.size<t)return[!1,ir(t)]}else if(cr(t)&&e.size<t)return[!1,ir(t)];else if(cr(n)&&e.size>n)return[!1,rr(n)]}return[!0,null]}function cr(e){return e!=null}function lr(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,s=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(e){var t=Gn(or(e,n),1)[0],a=Gn(sr(e,r,i),1)[0],o=s?s(e):null;return t&&a&&!o})}function ur(e){return typeof e.isPropagationStopped==`function`?e.isPropagationStopped():e.cancelBubble===void 0?!1:e.cancelBubble}function dr(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return e===`Files`||e===`application/x-moz-file`}):!!e.target&&!!e.target.files}function fr(e){e.preventDefault()}function pr(e){return e.indexOf(`MSIE`)!==-1||e.indexOf(`Trident/`)!==-1}function mr(e){return e.indexOf(`Edge/`)!==-1}function hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return pr(e)||mr(e)}function gr(){var e=[...arguments];return function(t){var n=[...arguments].slice(1);return e.some(function(e){return!ur(t)&&e&&e.apply(void 0,[t].concat(n)),ur(t)})}}function _r(){return`showOpenFilePicker`in window}function vr(e){return cr(e)?[{description:`Files`,accept:Object.entries(e).filter(function(e){var t=Gn(e,2),n=t[0],r=t[1],i=!0;return Sr(n)||(console.warn(`Skipped "${n}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),i=!1),(!Array.isArray(r)||!r.every(Cr))&&(console.warn(`Skipped "${n}" because an invalid file extension was provided.`),i=!1),i}).reduce(function(e,t){var n=Gn(t,2),r=n[0],i=n[1];return Un(Un({},e),{},Wn({},r,i))},{})}]:e}function yr(e){if(cr(e))return Object.entries(e).reduce(function(e,t){var n=Gn(t,2),r=n[0],i=n[1];return[].concat(Rn(e),[r],Rn(i))},[]).filter(function(e){return Sr(e)||Cr(e)}).join(`,`)}function br(e){return e instanceof DOMException&&(e.name===`AbortError`||e.code===e.ABORT_ERR)}function xr(e){return e instanceof DOMException&&(e.name===`SecurityError`||e.code===e.SECURITY_ERR)}function Sr(e){return e===`audio/*`||e===`video/*`||e===`image/*`||e===`text/*`||e===`application/*`||/\w+\/[-+.\w]+/g.test(e)}function Cr(e){return/^.*\.[\w]+$/.test(e)}var wr=[`children`],Tr=[`open`],Er=[`refKey`,`role`,`onKeyDown`,`onFocus`,`onBlur`,`onClick`,`onDragEnter`,`onDragOver`,`onDragLeave`,`onDrop`],Dr=[`refKey`,`onChange`,`onClick`];function Or(e){return jr(e)||Ar(e)||Pr(e)||kr()}function kr(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function jr(e){if(Array.isArray(e))return H(e)}function Mr(e,t){return Ir(e)||Fr(e,t)||Pr(e,t)||Nr()}function Nr(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pr(e,t){if(e){if(typeof e==`string`)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}function H(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fr(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Ir(e){if(Array.isArray(e))return e}function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?Lr(Object(n),!0).forEach(function(t){Rr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e,t){if(e==null)return{};var n=Br(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Br(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Vr=(0,N.forwardRef)(function(e,t){var n=e.children,r=Wr(zr(e,wr)),i=r.open,a=zr(r,Tr);return(0,N.useImperativeHandle)(t,function(){return{open:i}},[i]),N.createElement(N.Fragment,null,n(U(U({},a),{},{open:i})))});Vr.displayName=`Dropzone`;var Hr={disabled:!1,getFilesFromEvent:Sn,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Vr.defaultProps=Hr,Vr.propTypes={children:V.default.func,accept:V.default.objectOf(V.default.arrayOf(V.default.string)),multiple:V.default.bool,preventDropOnDocument:V.default.bool,noClick:V.default.bool,noKeyboard:V.default.bool,noDrag:V.default.bool,noDragEventsBubbling:V.default.bool,minSize:V.default.number,maxSize:V.default.number,maxFiles:V.default.number,disabled:V.default.bool,getFilesFromEvent:V.default.func,onFileDialogCancel:V.default.func,onFileDialogOpen:V.default.func,useFsAccessApi:V.default.bool,autoFocus:V.default.bool,onDragEnter:V.default.func,onDragLeave:V.default.func,onDragOver:V.default.func,onDrop:V.default.func,onDropAccepted:V.default.func,onDropRejected:V.default.func,onError:V.default.func,validator:V.default.func};var Ur={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Wr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=U(U({},Hr),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,s=t.multiple,c=t.maxFiles,l=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,m=t.onDropRejected,h=t.onFileDialogCancel,g=t.onFileDialogOpen,_=t.useFsAccessApi,v=t.autoFocus,y=t.preventDropOnDocument,b=t.noClick,x=t.noKeyboard,S=t.noDrag,C=t.noDragEventsBubbling,w=t.onError,ee=t.validator,te=(0,N.useMemo)(function(){return yr(n)},[n]),T=(0,N.useMemo)(function(){return vr(n)},[n]),ne=(0,N.useMemo)(function(){return typeof g==`function`?g:Kr},[g]),re=(0,N.useMemo)(function(){return typeof h==`function`?h:Kr},[h]),E=(0,N.useRef)(null),ie=(0,N.useRef)(null),ae=Mr((0,N.useReducer)(Gr,Ur),2),oe=ae[0],D=ae[1],se=oe.isFocused,ce=oe.isFileDialogActive,O=(0,N.useRef)(typeof window<`u`&&window.isSecureContext&&_&&_r()),le=function(){!O.current&&ce&&setTimeout(function(){ie.current&&(ie.current.files.length||(D({type:`closeDialog`}),re()))},300)};(0,N.useEffect)(function(){return window.addEventListener(`focus`,le,!1),function(){window.removeEventListener(`focus`,le,!1)}},[ie,ce,re,O]);var k=(0,N.useRef)([]),ue=function(e){E.current&&E.current.contains(e.target)||(e.preventDefault(),k.current=[])};(0,N.useEffect)(function(){return y&&(document.addEventListener(`dragover`,fr,!1),document.addEventListener(`drop`,ue,!1)),function(){y&&(document.removeEventListener(`dragover`,fr),document.removeEventListener(`drop`,ue))}},[E,y]),(0,N.useEffect)(function(){return!r&&v&&E.current&&E.current.focus(),function(){}},[E,v,r]);var A=(0,N.useCallback)(function(e){w?w(e):console.error(e)},[w]),de=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),we(e),k.current=[].concat(Or(k.current),[e.target]),dr(e)&&Promise.resolve(i(e)).then(function(t){if(!(ur(e)&&!C)){var n=t.length,r=n>0&&lr({files:t,accept:te,minSize:o,maxSize:a,multiple:s,maxFiles:c,validator:ee});D({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:`setDraggedFiles`}),l&&l(e)}}).catch(function(e){return A(e)})},[i,l,A,C,te,o,a,s,c,ee]),fe=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),we(e);var t=dr(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect=`copy`}catch{}return t&&d&&d(e),!1},[d,C]),pe=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),we(e);var t=k.current.filter(function(e){return E.current&&E.current.contains(e)}),n=t.indexOf(e.target);n!==-1&&t.splice(n,1),k.current=t,!(t.length>0)&&(D({type:`setDraggedFiles`,isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dr(e)&&u&&u(e))},[E,u,C]),me=(0,N.useCallback)(function(e,t){var n=[],r=[];e.forEach(function(e){var t=Mr(or(e,te),2),i=t[0],s=t[1],c=Mr(sr(e,o,a),2),l=c[0],u=c[1],d=ee?ee(e):null;if(i&&l&&!d)n.push(e);else{var f=[s,u];d&&(f=f.concat(d)),r.push({file:e,errors:f.filter(function(e){return e})})}}),(!s&&n.length>1||s&&c>=1&&n.length>c)&&(n.forEach(function(e){r.push({file:e,errors:[ar]})}),n.splice(0)),D({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:`setFiles`}),f&&f(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&p&&p(n,t)},[D,s,te,o,a,c,f,p,m,ee]),he=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),we(e),k.current=[],dr(e)&&Promise.resolve(i(e)).then(function(t){ur(e)&&!C||me(t,e)}).catch(function(e){return A(e)}),D({type:`reset`})},[i,me,A,C]),ge=(0,N.useCallback)(function(){if(O.current){D({type:`openDialog`}),ne();var e={multiple:s,types:T};window.showOpenFilePicker(e).then(function(e){return i(e)}).then(function(e){me(e,null),D({type:`closeDialog`})}).catch(function(e){br(e)?(re(e),D({type:`closeDialog`})):xr(e)?(O.current=!1,ie.current?(ie.current.value=null,ie.current.click()):A(Error(`Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.`))):A(e)});return}ie.current&&(D({type:`openDialog`}),ne(),ie.current.value=null,ie.current.click())},[D,ne,re,_,me,A,T,s]),_e=(0,N.useCallback)(function(e){!E.current||!E.current.isEqualNode(e.target)||(e.key===` `||e.key===`Enter`||e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),ge())},[E,ge]),ve=(0,N.useCallback)(function(){D({type:`focus`})},[]),ye=(0,N.useCallback)(function(){D({type:`blur`})},[]),be=(0,N.useCallback)(function(){b||(hr()?setTimeout(ge,0):ge())},[b,ge]),xe=function(e){return r?null:e},Se=function(e){return x?null:xe(e)},Ce=function(e){return S?null:xe(e)},we=function(e){C&&e.stopPropagation()},Te=(0,N.useMemo)(function(){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.refKey,n=t===void 0?`ref`:t,i=e.role,a=e.onKeyDown,o=e.onFocus,s=e.onBlur,c=e.onClick,l=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,f=e.onDrop,p=zr(e,Er);return U(U(Rr({onKeyDown:Se(gr(a,_e)),onFocus:Se(gr(o,ve)),onBlur:Se(gr(s,ye)),onClick:xe(gr(c,be)),onDragEnter:Ce(gr(l,de)),onDragOver:Ce(gr(u,fe)),onDragLeave:Ce(gr(d,pe)),onDrop:Ce(gr(f,he)),role:typeof i==`string`&&i!==``?i:`presentation`},n,E),!r&&!x?{tabIndex:0}:{}),p)}},[E,_e,ve,ye,be,de,fe,pe,he,x,S,r]),Ee=(0,N.useCallback)(function(e){e.stopPropagation()},[]),De=(0,N.useMemo)(function(){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.refKey,n=t===void 0?`ref`:t,r=e.onChange,i=e.onClick,a=zr(e,Dr);return U(U({},Rr({accept:te,multiple:s,type:`file`,style:{border:0,clip:`rect(0, 0, 0, 0)`,clipPath:`inset(50%)`,height:`1px`,margin:`0 -1px -1px 0`,overflow:`hidden`,padding:0,position:`absolute`,width:`1px`,whiteSpace:`nowrap`},onChange:xe(gr(r,he)),onClick:xe(gr(i,Ee)),tabIndex:-1},n,ie)),a)}},[ie,n,s,he,r]);return U(U({},oe),{},{isFocused:se&&!r,getRootProps:Te,getInputProps:De,rootRef:E,inputRef:ie,open:xe(ge)})}function Gr(e,t){switch(t.type){case`focus`:return U(U({},e),{},{isFocused:!0});case`blur`:return U(U({},e),{},{isFocused:!1});case`openDialog`:return U(U({},Ur),{},{isFileDialogActive:!0});case`closeDialog`:return U(U({},e),{},{isFileDialogActive:!1});case`setDraggedFiles`:return U(U({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case`setFiles`:return U(U({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case`reset`:return U({},Ur);default:return e}}function Kr(){}const qr=({initialImageUrl:e,onFileSelected:t,aspectRatio:n=`16 / 9`,label:r})=>{let[i,a]=(0,N.useState)(e??null),{getRootProps:o,getInputProps:s,isDragActive:c}=Wr({onDrop:(0,N.useCallback)(e=>{if(!e.length)return;let n=e[0];t(n),a(URL.createObjectURL(n))},[t]),accept:{"image/*":[]},maxFiles:1}),l={aspectRatio:n,width:`100%`,borderRadius:4,border:`1px dashed rgba(148, 163, 184, 0.8)`,backgroundSize:`cover`,backgroundPosition:`center`,backgroundImage:i?`url(${i})`:void 0,display:`flex`,alignItems:`center`,justifyContent:`center`,cursor:`pointer`};return(0,F.jsxs)(`div`,{className:`flex flex-col`,children:[r&&(0,F.jsx)(`label`,{className:`text-sm pb-2 text-foreground`,children:r}),(0,F.jsxs)(`div`,{...o(),style:l,className:`
          bg-input
          hover:bg-input
          focus-visible:outline-none
          text-xs text-default-500
        `,children:[(0,F.jsx)(`input`,{...s()}),!i&&(0,F.jsx)(`span`,{className:`px-2 text-center opacity-80`,children:c?`Drop image here…`:`Upload image`})]})]})};var Jr=()=>{let{editingMarker:e,setEditingMarker:t,createMarkerRemote:n,updateMarker:r,deleteMarker:i}=fn(),{types:a,selectedMap:o}=Ot(),{fetchWithAuth:s,user:c,setUserModalOpen:l}=Qe(),{t:u}=He(),[d,f]=(0,N.useState)(``),[p,m]=(0,N.useState)(``),[h,g]=(0,N.useState)(``),[_,v]=(0,N.useState)(``),[y,b]=(0,N.useState)(null),x=e?.image?Xe(e.image+`.webp`):``,[S,C]=(0,N.useState)(!1),[w,ee]=(0,N.useState)(!1),[te,ne]=(0,N.useState)(!1),[re,E]=(0,N.useState)(null);if((0,N.useEffect)(()=>{if(!e)return;f(e.name??``),m(e.description??``);let t=e.subtype??``,n=``;for(let e of a)if(e.subtypes.some(e=>e.id===t)){n=e.id;break}g(n),v(t),E(null)},[e,a]),!e)return null;let ie=a.find(e=>e.id===h)?.subtypes??[],ae={inputWrapper:` bg-input hover:!bg-input focus:!bg-input transition-none
                    group-data-[hover=true]:!bg-input
                    group-data-[focus=true]:!bg-input
                    group-data-[focus-visible=true]:!bg-input
                    group-data-[invalid=true]:!bg-input
                  `,innerWrapper:`h-10 py-0`},oe=async()=>{if(S)return;let a=u(`common:errors.uploadFailed`,`Upload failed. Please try again.`),c=_||e.subtype||``;console.log(c),C(!0),E(null);try{let l=new FormData;if(y&&l.append(`file`,y),e.status){l.append(`subtype_id`,c),l.append(`name`,d),l.append(`description`,p);let n=await s(`/maps/${o?.name}/marker_feedbacks/${e.id}`,{method:`PATCH`,body:l});if(!n.ok){E(a);return}let i=await n.json();i.errorCode!==`Success`&&E(`${a} ${i.errorCode}: ${i.errorMessage}`);let u=i.data;r({...e,name:u.name,description:u.description,subtype:u.subtypeId,image:u.image?.s3Key||``,type:u.type===`create`?`uploaded`:`feedback`,status:u.status,reply:u.reply}),t(null)}else{l.append(`x`,String(Math.round(e.x))),l.append(`y`,String(Math.round(e.y))),l.append(`subtype_id`,c),l.append(`name`,d),l.append(`description`,p),e.type===`feedback`?(l.append(`type`,`update`),l.append(`marker_id`,e.markerId)):l.append(`type`,`create`);let t=await s(`/maps/${o?.name}/marker_feedbacks`,{method:`POST`,body:l});if(!t.ok){E(a);return}let r=await t.json();r.errorCode!==`Success`&&E(`${a} ${r.errorCode}: ${r.errorMessage}`),i(e.id);let u=r.data;n({id:u.id,markerId:u.markerId||``,subtype:u.subtypeId,mapId:u.mapId,x:u.x,y:u.y,name:u.name,description:u.description,image:u.image?.s3Key||``,type:u.type===`create`?`uploaded`:`feedback`,status:u.status,reply:u.reply})}}catch(e){console.error(e),E(u(`common:errors.network`,`Network error. Please check your connection and try again.`))}finally{C(!1)}},D=async()=>{let n=_||e.subtype||``;r({...e,x:Math.round(e.x),y:Math.round(e.y),subtype:n,name:d,description:p}),t(null)},se=async()=>{if(w)return;let t=u(`common:errors.deleteFailed`,`Delete failed. Please try again.`);ee(!0);try{if(e.type===`uploaded`&&!(await s(`/maps/${o?.name}/marker_feedbacks/${e.id}`,{method:`DELETE`})).ok){E(t);return}i(e.id)}catch(e){console.error(e),E(u(`common:errors.network`,`Network error. Please check your connection and try again.`))}finally{ee(!1)}};return(0,F.jsx)(A,{isOpen:!0,onOpenChange:()=>t(null),placement:`center`,size:`md`,classNames:{wrapper:`z-[30000]`},hideCloseButton:!0,backdrop:`transparent`,children:(0,F.jsx)(fe,{className:`bg-sidebar`,children:()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(Se,{className:`flex items-center justify-between gap-3`,children:[(0,F.jsx)(`span`,{className:`text-base font-semibold`,children:e?.type===`feedback`?u(`common:markerActions.feedback`,`Marker Feedback`):u(`common:markerActions.editUserMarker`,`Edit User Marker`)}),e?.type!==`feedback`&&(0,F.jsx)(`span`,{className:`text-sm text-default-700`,children:e?.type===`uploaded`?u(`common:markerActions.uploaded`,`Uploaded marker`):u(`common:markerActions.local`,`Local marker`)})]}),(0,F.jsxs)(he,{className:`flex flex-col gap-3`,children:[re&&(0,F.jsx)(`div`,{className:`mt-1 rounded-md border border-danger-500/60 bg-danger-500/10 px-3 py-2 text-[13px] text-danger-500`,children:re}),(0,F.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap text-sm`,children:[(0,F.jsx)(pe,{"aria-label":`Category`,selectedKeys:h?new Set([h]):new Set,onSelectionChange:e=>{let t=Array.from(e)[0];g(t??``),v(``)},size:`sm`,className:`w-[100px]`,radius:`none`,children:a.map(e=>(0,F.jsx)(Ae,{textValue:u(`types:categories.${e.name}.name`,e.name),children:u(`types:categories.${e.name}.name`,e.name)},e.id))}),(0,F.jsx)(`span`,{className:`opacity-60`,children:`/`}),(0,F.jsx)(pe,{"aria-label":`Subtype`,selectedKeys:_?new Set([_]):new Set,onSelectionChange:e=>{let t=Array.from(e)[0];v(t??``)},size:`sm`,isDisabled:!h,className:`w-[140px]`,radius:`none`,children:ie.map(e=>(0,F.jsx)(Ae,{textValue:u(`types:subtypes.${e.name}.name`,e.name),children:u(`types:subtypes.${e.name}.name`,e.name)},e.id))}),(0,F.jsxs)(`span`,{className:`opacity-80 whitespace-nowrap`,children:[`(`,Math.round(e.x),`, `,Math.round(e.y),`)`]})]}),(0,F.jsx)(T,{className:`mt-2`}),(0,F.jsx)(k,{label:u(`common:markerActions.name`,`Name`),labelPlacement:`outside-top`,value:d,onValueChange:f,classNames:ae,radius:`none`}),(0,F.jsx)(k,{label:u(`common:markerActions.description`,`Description`),labelPlacement:`outside-top`,value:p,onValueChange:m,classNames:ae,radius:`none`}),(0,F.jsx)(qr,{label:u(`common:markerActions.image`,`Image`),initialImageUrl:x,onFileSelected:b}),(0,F.jsx)(T,{className:`mt-4`}),e.status&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(k,{label:u(`common:markerActions.status`,`Status`),labelPlacement:`outside-top`,value:u(`common:markerActions.${e.status}`),classNames:ae,radius:`none`,disabled:!0}),(0,F.jsx)(k,{label:u(`common:markerActions.reply`,`Reply`),labelPlacement:`outside-top`,value:e.reply,classNames:ae,radius:`none`,disabled:!0}),(0,F.jsx)(T,{className:`mt-4`})]})]}),(0,F.jsxs)(Me,{className:`flex gap-6`,children:[(0,F.jsx)(`div`,{className:`flex-1`,children:e?.type!==`feedback`&&(0,F.jsxs)(ce,{isOpen:te,onOpenChange:ne,placement:`top`,showArrow:!0,children:[(0,F.jsx)(Pe,{children:(0,F.jsx)(j,{color:`danger`,radius:`sm`,className:`w-full text-background`,isLoading:w,isDisabled:w,children:u(`common:ui.delete`,`Delete`)})}),(0,F.jsxs)(ze,{className:`p-3 flex flex-col gap-3 w-48`,children:[(0,F.jsx)(`div`,{className:`text-sm text-default-700`,children:u(`common:ui.confirmDelete`,`Are you sure you want to delete?`)}),(0,F.jsxs)(`div`,{className:`flex gap-2 justify-end`,children:[(0,F.jsx)(j,{size:`sm`,variant:`flat`,onPress:()=>{ne(!1)},children:u(`common:ui.cancel`,`Cancel`)}),(0,F.jsx)(j,{size:`sm`,color:`danger`,onPress:se,isLoading:w,children:u(`common:ui.confirm`,`Confirm`)})]})]})]})}),(0,F.jsx)(`div`,{className:`flex-1`,children:e?.type===`local`&&(0,F.jsx)(j,{color:`default`,onPress:D,radius:`sm`,className:`w-full`,children:u(`common:ui.save`,`Save`)})}),(0,F.jsx)(`div`,{className:`flex-1`,children:(0,F.jsx)(Le,{content:u(`common:markerActions.loginRequired`,`You can only upload after login`),isDisabled:!!c,placement:`top`,delay:300,children:(0,F.jsx)(`span`,{className:`block w-full`,children:(0,F.jsx)(j,{color:`primary`,onPress:c?oe:()=>l(!0),className:`w-full text-background`,radius:`sm`,isLoading:S,isDisabled:S,children:e?.status?u(`common:ui.update`,`Update`):u(`common:ui.upload`,`Upload`)})})})})]})]})})})};function Yr(e){return Object.prototype.toString.call(e)===`[object Object]`}function Xr(e){return Yr(e)||Array.isArray(e)}function Zr(){return!!(typeof window<`u`&&window.document&&window.document.createElement)}function Qr(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||JSON.stringify(Object.keys(e.breakpoints||{}))!==JSON.stringify(Object.keys(t.breakpoints||{}))?!1:n.every(n=>{let r=e[n],i=t[n];return typeof r==`function`?`${r}`==`${i}`:!Xr(r)||!Xr(i)?r===i:Qr(r,i)})}function $r(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function ei(e,t){if(e.length!==t.length)return!1;let n=$r(e),r=$r(t);return n.every((e,t)=>{let n=r[t];return Qr(e,n)})}function ti(e={},t=[]){let n=(0,N.useRef)(e),r=(0,N.useRef)(t),[i,a]=(0,N.useState)(),[o,s]=(0,N.useState)(),c=(0,N.useCallback)(()=>{i&&i.reInit(n.current,r.current)},[i]);return(0,N.useEffect)(()=>{Qr(n.current,e)||(n.current=e,c())},[e,c]),(0,N.useEffect)(()=>{ei(r.current,t)||(r.current=t,c())},[t,c]),(0,N.useEffect)(()=>{if(Zr()&&o){Fe.globalOptions=ti.globalOptions;let e=Fe(o,n.current,r.current);return a(e),()=>e.destroy()}else a(void 0)},[o,a]),[s,i]}ti.globalOptions=void 0;var ni=({images:e,selectedIndex:t,onSelect:n,options:r,className:i=``})=>{let[a,o]=ti({dragFree:!0,containScroll:`trimSnaps`,slidesToScroll:`auto`,...r});return(0,N.useEffect)(()=>{o&&o.scrollTo(t,!0)},[o,t]),(0,F.jsx)(`section`,{className:[`embla-thumbs`,i].join(` `),children:(0,F.jsx)(`div`,{className:`embla-thumbs__viewport`,ref:a,children:(0,F.jsx)(`div`,{className:`embla-thumbs__container`,children:e.map((e,r)=>(0,F.jsx)(`button`,{type:`button`,className:[`embla-thumbs__slide`,r===t?`embla-thumbs__slide--selected`:``].filter(Boolean).join(` `),onClick:()=>n(r),children:(0,F.jsx)(`img`,{src:e,alt:``,loading:`lazy`,className:`embla-thumbs__img`})},r))})})})};const ri=({selected:e=!1,className:t=``,...n})=>(0,F.jsx)(`button`,{type:`button`,className:[`embla__dot`,e?`embla__dot--selected`:``,t].filter(Boolean).join(` `),...n}),ii=e=>{let[t,n]=(0,N.useState)(!0),[r,i]=(0,N.useState)(!0),a=(0,N.useCallback)(()=>{e&&e.scrollPrev()},[e]),o=(0,N.useCallback)(()=>{e&&e.scrollNext()},[e]),s=(0,N.useCallback)(e=>{n(!e.canScrollPrev()),i(!e.canScrollNext())},[]);return(0,N.useEffect)(()=>{if(e)return s(e),e.on(`reInit`,s).on(`select`,s),()=>{e.off(`reInit`,s).off(`select`,s)}},[e,s]),{prevBtnDisabled:t,nextBtnDisabled:r,onPrevButtonClick:a,onNextButtonClick:o}},ai=e=>{let{children:t,...n}=e;return(0,F.jsxs)(`button`,{className:`embla__button embla__button--prev`,type:`button`,...n,children:[(0,F.jsx)(`svg`,{className:`embla__button__svg`,viewBox:`0 0 532 532`,children:(0,F.jsx)(`path`,{fill:`currentColor`,d:`M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z`})}),t]})},oi=e=>{let{children:t,...n}=e;return(0,F.jsxs)(`button`,{className:`embla__button embla__button--next`,type:`button`,...n,children:[(0,F.jsx)(`svg`,{className:`embla__button__svg`,viewBox:`0 0 532 532`,children:(0,F.jsx)(`path`,{fill:`currentColor`,d:`M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z`})}),t]})};var si=({images:e,selectedIndex:t,onSelect:n,options:r,className:i=``})=>{let[a,o]=ti({loop:!0,...r}),[s,c]=(0,N.useState)([]),l=e.length>1,{prevBtnDisabled:u,nextBtnDisabled:d,onPrevButtonClick:f,onNextButtonClick:p}=ii(o);(0,N.useEffect)(()=>{if(!o)return;let e=e=>{n(e.selectedScrollSnap())},t=t=>{c(t.scrollSnapList()),e(t)};return c(o.scrollSnapList()),e(o),o.on(`select`,e),o.on(`reInit`,t),()=>{o.off(`select`,e),o.off(`reInit`,t)}},[o,n]),(0,N.useEffect)(()=>{o&&o.scrollTo(t,!1)},[o,t]);let m=(0,N.useCallback)(e=>{o&&o.scrollTo(e)},[o]);return(0,F.jsxs)(`div`,{className:`embla-frame-wrapper`,children:[l&&(0,F.jsx)(ai,{className:`embla-nav-button__prev`,onClick:f,disabled:u}),(0,F.jsxs)(`section`,{className:[`embla embla--gallery`,i].join(` `),children:[(0,F.jsx)(`div`,{className:`embla__viewport`,ref:a,children:(0,F.jsx)(`div`,{className:`embla__container`,children:e.map((e,t)=>(0,F.jsx)(`div`,{className:`embla__slide`,children:(0,F.jsx)(`div`,{className:`embla__slide__inner`,children:(0,F.jsx)(`img`,{src:e,alt:``,className:`embla__slide__img`})})},t))})}),l&&(0,F.jsx)(`div`,{className:`embla__dots`,children:s.map((e,n)=>(0,F.jsx)(ri,{onClick:()=>m(n),selected:n===t},n))})]}),l&&(0,F.jsx)(oi,{className:`embla-nav-button__next`,onClick:p,disabled:d})]})},{entries:ci,setPrototypeOf:li,isFrozen:ui,getPrototypeOf:di,getOwnPropertyDescriptor:fi}=Object,{freeze:pi,seal:mi,create:hi}=Object,{apply:gi,construct:_i}=typeof Reflect<`u`&&Reflect;pi||=function(e){return e},mi||=function(e){return e},gi||=function(e,t){var n=[...arguments].slice(2);return e.apply(t,n)},_i||=function(e){return new e(...[...arguments].slice(1))};var vi=W(Array.prototype.forEach),yi=W(Array.prototype.lastIndexOf),bi=W(Array.prototype.pop),xi=W(Array.prototype.push),Si=W(Array.prototype.splice),Ci=W(String.prototype.toLowerCase),wi=W(String.prototype.toString),Ti=W(String.prototype.match),Ei=W(String.prototype.replace),Di=W(String.prototype.indexOf),Oi=W(String.prototype.trim),ki=W(Object.prototype.hasOwnProperty),Ai=W(RegExp.prototype.test),ji=Mi(TypeError);function W(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);var n=[...arguments].slice(1);return gi(e,t,n)}}function Mi(e){return function(){return _i(e,[...arguments])}}function G(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ci;li&&li(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(ui(t)||(t[r]=e),i=e)}e[i]=!0}return e}function Ni(e){for(let t=0;t<e.length;t++)ki(e,t)||(e[t]=null);return e}function Pi(e){let t=hi(null);for(let[n,r]of ci(e))ki(e,n)&&(Array.isArray(r)?t[n]=Ni(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=Pi(r):t[n]=r);return t}function Fi(e,t){for(;e!==null;){let n=fi(e,t);if(n){if(n.get)return W(n.get);if(typeof n.value==`function`)return W(n.value)}e=di(e)}function n(){return null}return n}var Ii=pi(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.search.section.select.shadow.slot.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),Li=pi(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.enterkeyhint.exportparts.filter.font.g.glyph.glyphref.hkern.image.inputmode.line.lineargradient.marker.mask.metadata.mpath.part.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),Ri=pi([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),zi=pi([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),Bi=pi(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),Vi=pi([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),Hi=pi([`#text`]),Ui=pi(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.exportparts.face.for.headers.height.hidden.high.href.hreflang.id.inert.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.part.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.slot.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),Wi=pi(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.mask-type.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),Gi=pi(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),Ki=pi([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),qi=mi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ji=mi(/<%[\w\W]*|[\w\W]*%>/gm),Yi=mi(/\$\{[\w\W]*/gm),Xi=mi(/^data-[\-\w.\u00B7-\uFFFF]+$/),Zi=mi(/^aria-[\-\w]+$/),Qi=mi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$i=mi(/^(?:\w+script|data):/i),ea=mi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ta=mi(/^html$/i),na=mi(/^[a-z][.\w]*(-[.\w]+)+$/i),ra=Object.freeze({__proto__:null,ARIA_ATTR:Zi,ATTR_WHITESPACE:ea,CUSTOM_ELEMENT:na,DATA_ATTR:Xi,DOCTYPE_NAME:ta,ERB_EXPR:Ji,IS_ALLOWED_URI:Qi,IS_SCRIPT_OR_DATA:$i,MUSTACHE_EXPR:qi,TMPLIT_EXPR:Yi}),ia={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},aa=function(){return typeof window>`u`?null:window},oa=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}},sa=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ca(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aa(),t=e=>ca(e);if(t.version=`3.3.0`,t.removed=[],!e||!e.document||e.document.nodeType!==ia.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e,r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,h=Fi(m,`cloneNode`),g=Fi(m,`remove`),_=Fi(m,`nextSibling`),v=Fi(m,`childNodes`),y=Fi(m,`parentNode`);if(typeof o==`function`){let e=n.createElement(`template`);e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let b,x=``,{implementation:S,createNodeIterator:C,createDocumentFragment:w,getElementsByTagName:ee}=n,{importNode:te}=r,T=sa();t.isSupported=typeof ci==`function`&&typeof y==`function`&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ne,ERB_EXPR:re,TMPLIT_EXPR:E,DATA_ATTR:ie,ARIA_ATTR:ae,IS_SCRIPT_OR_DATA:oe,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:se}=ra,{IS_ALLOWED_URI:ce}=ra,O=null,le=G({},[...Ii,...Li,...Ri,...Bi,...Hi]),k=null,ue=G({},[...Ui,...Wi,...Gi,...Ki]),A=Object.seal(hi(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,fe=null,pe=Object.seal(hi(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),me=!0,he=!0,ge=!1,_e=!0,ve=!1,ye=!0,be=!1,xe=!1,Se=!1,Ce=!1,we=!1,Te=!1,Ee=!0,De=!1,Oe=!0,ke=!1,Ae={},je=null,Me=G({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),Ne=null,Pe=G({},[`audio`,`video`,`img`,`source`,`image`,`track`]),Fe=null,j=G({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),Ie=`http://www.w3.org/1998/Math/MathML`,Le=`http://www.w3.org/2000/svg`,Re=`http://www.w3.org/1999/xhtml`,ze=Re,Be=!1,Ve=null,He=G({},[Ie,Le,Re],wi),Ue=G({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),We=G({},[`annotation-xml`]),Ge=G({},[`title`,`style`,`font`,`a`,`script`]),Ke=null,qe=[`application/xhtml+xml`,`text/html`],Je=null,Ye=null,Xe=n.createElement(`form`),Ze=function(e){return e instanceof RegExp||e instanceof Function},Qe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ye&&Ye===e)){if((!e||typeof e!=`object`)&&(e={}),e=Pi(e),Ke=qe.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,Je=Ke===`application/xhtml+xml`?wi:Ci,O=ki(e,`ALLOWED_TAGS`)?G({},e.ALLOWED_TAGS,Je):le,k=ki(e,`ALLOWED_ATTR`)?G({},e.ALLOWED_ATTR,Je):ue,Ve=ki(e,`ALLOWED_NAMESPACES`)?G({},e.ALLOWED_NAMESPACES,wi):He,Fe=ki(e,`ADD_URI_SAFE_ATTR`)?G(Pi(j),e.ADD_URI_SAFE_ATTR,Je):j,Ne=ki(e,`ADD_DATA_URI_TAGS`)?G(Pi(Pe),e.ADD_DATA_URI_TAGS,Je):Pe,je=ki(e,`FORBID_CONTENTS`)?G({},e.FORBID_CONTENTS,Je):Me,de=ki(e,`FORBID_TAGS`)?G({},e.FORBID_TAGS,Je):Pi({}),fe=ki(e,`FORBID_ATTR`)?G({},e.FORBID_ATTR,Je):Pi({}),Ae=ki(e,`USE_PROFILES`)?e.USE_PROFILES:!1,me=e.ALLOW_ARIA_ATTR!==!1,he=e.ALLOW_DATA_ATTR!==!1,ge=e.ALLOW_UNKNOWN_PROTOCOLS||!1,_e=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ve=e.SAFE_FOR_TEMPLATES||!1,ye=e.SAFE_FOR_XML!==!1,be=e.WHOLE_DOCUMENT||!1,Ce=e.RETURN_DOM||!1,we=e.RETURN_DOM_FRAGMENT||!1,Te=e.RETURN_TRUSTED_TYPE||!1,Se=e.FORCE_BODY||!1,Ee=e.SANITIZE_DOM!==!1,De=e.SANITIZE_NAMED_PROPS||!1,Oe=e.KEEP_CONTENT!==!1,ke=e.IN_PLACE||!1,ce=e.ALLOWED_URI_REGEXP||Qi,ze=e.NAMESPACE||Re,Ue=e.MATHML_TEXT_INTEGRATION_POINTS||Ue,We=e.HTML_INTEGRATION_POINTS||We,A=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ze(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(A.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ze(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(A.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(A.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ve&&(he=!1),we&&(Ce=!0),Ae&&(O=G({},Hi),k=[],Ae.html===!0&&(G(O,Ii),G(k,Ui)),Ae.svg===!0&&(G(O,Li),G(k,Wi),G(k,Ki)),Ae.svgFilters===!0&&(G(O,Ri),G(k,Wi),G(k,Ki)),Ae.mathMl===!0&&(G(O,Bi),G(k,Gi),G(k,Ki))),e.ADD_TAGS&&(typeof e.ADD_TAGS==`function`?pe.tagCheck=e.ADD_TAGS:(O===le&&(O=Pi(O)),G(O,e.ADD_TAGS,Je))),e.ADD_ATTR&&(typeof e.ADD_ATTR==`function`?pe.attributeCheck=e.ADD_ATTR:(k===ue&&(k=Pi(k)),G(k,e.ADD_ATTR,Je))),e.ADD_URI_SAFE_ATTR&&G(Fe,e.ADD_URI_SAFE_ATTR,Je),e.FORBID_CONTENTS&&(je===Me&&(je=Pi(je)),G(je,e.FORBID_CONTENTS,Je)),Oe&&(O[`#text`]=!0),be&&G(O,[`html`,`head`,`body`]),O.table&&(G(O,[`tbody`]),delete de.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw ji(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw ji(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);b=e.TRUSTED_TYPES_POLICY,x=b.createHTML(``)}else b===void 0&&(b=oa(p,i)),b!==null&&typeof x==`string`&&(x=b.createHTML(``));pi&&pi(e),Ye=e}},$e=G({},[...Li,...Ri,...zi]),et=G({},[...Bi,...Vi]),tt=function(e){let t=y(e);(!t||!t.tagName)&&(t={namespaceURI:ze,tagName:`template`});let n=Ci(e.tagName),r=Ci(t.tagName);return Ve[e.namespaceURI]?e.namespaceURI===Le?t.namespaceURI===Re?n===`svg`:t.namespaceURI===Ie?n===`svg`&&(r===`annotation-xml`||Ue[r]):!!$e[n]:e.namespaceURI===Ie?t.namespaceURI===Re?n===`math`:t.namespaceURI===Le?n===`math`&&We[r]:!!et[n]:e.namespaceURI===Re?t.namespaceURI===Le&&!We[r]||t.namespaceURI===Ie&&!Ue[r]?!1:!et[n]&&(Ge[n]||!$e[n]):!!(Ke===`application/xhtml+xml`&&Ve[e.namespaceURI]):!1},nt=function(e){xi(t.removed,{element:e});try{y(e).removeChild(e)}catch{g(e)}},rt=function(e,n){try{xi(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{xi(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e===`is`)if(Ce||we)try{nt(n)}catch{}else try{n.setAttribute(e,``)}catch{}},M=function(e){let t=null,r=null;if(Se)e=`<remove></remove>`+e;else{let t=Ti(e,/^[\r\n\t ]+/);r=t&&t[0]}Ke===`application/xhtml+xml`&&ze===Re&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=b?b.createHTML(e):e;if(ze===Re)try{t=new f().parseFromString(i,Ke)}catch{}if(!t||!t.documentElement){t=S.createDocument(ze,`template`,null);try{t.documentElement.innerHTML=Be?x:i}catch{}}let a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),ze===Re?ee.call(t,be?`html`:`body`)[0]:be?t.documentElement:a},it=function(e){return C.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},at=function(e){return e instanceof d&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof u)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},ot=function(e){return typeof s==`function`&&e instanceof s};function st(e,n,r){vi(e,e=>{e.call(t,n,r,Ye)})}let ct=function(e){let n=null;if(st(T.beforeSanitizeElements,e,null),at(e))return nt(e),!0;let r=Je(e.nodeName);if(st(T.uponSanitizeElement,e,{tagName:r,allowedTags:O}),ye&&e.hasChildNodes()&&!ot(e.firstElementChild)&&Ai(/<[/\w!]/g,e.innerHTML)&&Ai(/<[/\w!]/g,e.textContent)||e.nodeType===ia.progressingInstruction||ye&&e.nodeType===ia.comment&&Ai(/<[/\w]/g,e.data))return nt(e),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(r))&&(!O[r]||de[r])){if(!de[r]&&N(r)&&(A.tagNameCheck instanceof RegExp&&Ai(A.tagNameCheck,r)||A.tagNameCheck instanceof Function&&A.tagNameCheck(r)))return!1;if(Oe&&!je[r]){let t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=h(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,_(e))}}}return nt(e),!0}return e instanceof c&&!tt(e)||(r===`noscript`||r===`noembed`||r===`noframes`)&&Ai(/<\/no(script|embed|frames)/i,e.innerHTML)?(nt(e),!0):(ve&&e.nodeType===ia.text&&(n=e.textContent,vi([ne,re,E],e=>{n=Ei(n,e,` `)}),e.textContent!==n&&(xi(t.removed,{element:e.cloneNode()}),e.textContent=n)),st(T.afterSanitizeElements,e,null),!1)},lt=function(e,t,r){if(Ee&&(t===`id`||t===`name`)&&(r in n||r in Xe))return!1;if(!(he&&!fe[t]&&Ai(ie,t))&&!(me&&Ai(ae,t))&&!(pe.attributeCheck instanceof Function&&pe.attributeCheck(t,e))){if(!k[t]||fe[t]){if(!(N(e)&&(A.tagNameCheck instanceof RegExp&&Ai(A.tagNameCheck,e)||A.tagNameCheck instanceof Function&&A.tagNameCheck(e))&&(A.attributeNameCheck instanceof RegExp&&Ai(A.attributeNameCheck,t)||A.attributeNameCheck instanceof Function&&A.attributeNameCheck(t,e))||t===`is`&&A.allowCustomizedBuiltInElements&&(A.tagNameCheck instanceof RegExp&&Ai(A.tagNameCheck,r)||A.tagNameCheck instanceof Function&&A.tagNameCheck(r))))return!1}else if(!Fe[t]&&!Ai(ce,Ei(r,D,``))&&!((t===`src`||t===`xlink:href`||t===`href`)&&e!==`script`&&Di(r,`data:`)===0&&Ne[e])&&!(ge&&!Ai(oe,Ei(r,D,``)))&&r)return!1}return!0},N=function(e){return e!==`annotation-xml`&&Ti(e,se)},ut=function(e){st(T.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||at(e))return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:k,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=n[i],c=Je(a),l=s,u=a===`value`?l:Oi(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,st(T.uponSanitizeAttribute,e,r),u=r.attrValue,De&&(c===`id`||c===`name`)&&(rt(a,e),u=`user-content-`+u),ye&&Ai(/((--!?|])>)|<\/(style|title|textarea)/i,u)){rt(a,e);continue}if(c===`attributename`&&Ti(u,`href`)){rt(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){rt(a,e);continue}if(!_e&&Ai(/\/>/i,u)){rt(a,e);continue}ve&&vi([ne,re,E],e=>{u=Ei(u,e,` `)});let d=Je(e.nodeName);if(!lt(d,c,u)){rt(a,e);continue}if(b&&typeof p==`object`&&typeof p.getAttributeType==`function`&&!o)switch(p.getAttributeType(d,c)){case`TrustedHTML`:u=b.createHTML(u);break;case`TrustedScriptURL`:u=b.createScriptURL(u);break}if(u!==l)try{o?e.setAttributeNS(o,a,u):e.setAttribute(a,u),at(e)?nt(e):bi(t.removed)}catch{rt(a,e)}}st(T.afterSanitizeAttributes,e,null)},dt=function e(t){let n=null,r=it(t);for(st(T.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)st(T.uponSanitizeShadowNode,n,null),ct(n),ut(n),n.content instanceof a&&e(n.content);st(T.afterSanitizeShadowDOM,t,null)};return t.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,o=null,c=null,l=null;if(Be=!e,Be&&(e=`<!-->`),typeof e!=`string`&&!ot(e))if(typeof e.toString==`function`){if(e=e.toString(),typeof e!=`string`)throw ji(`dirty is not a string, aborting`)}else throw ji(`toString is not a function`);if(!t.isSupported)return e;if(xe||Qe(n),t.removed=[],typeof e==`string`&&(ke=!1),ke){if(e.nodeName){let t=Je(e.nodeName);if(!O[t]||de[t])throw ji(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof s)i=M(`<!---->`),o=i.ownerDocument.importNode(e,!0),o.nodeType===ia.element&&o.nodeName===`BODY`||o.nodeName===`HTML`?i=o:i.appendChild(o);else{if(!Ce&&!ve&&!be&&e.indexOf(`<`)===-1)return b&&Te?b.createHTML(e):e;if(i=M(e),!i)return Ce?null:Te?x:``}i&&Se&&nt(i.firstChild);let u=it(ke?e:i);for(;c=u.nextNode();)ct(c),ut(c),c.content instanceof a&&dt(c.content);if(ke)return e;if(Ce){if(we)for(l=w.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(k.shadowroot||k.shadowrootmode)&&(l=te.call(r,l,!0)),l}let d=be?i.outerHTML:i.innerHTML;return be&&O[`!doctype`]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&Ai(ta,i.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+i.ownerDocument.doctype.name+`>
`+d),ve&&vi([ne,re,E],e=>{d=Ei(d,e,` `)}),b&&Te?b.createHTML(d):d},t.setConfig=function(){Qe(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),xe=!0},t.clearConfig=function(){Ye=null,xe=!1},t.isValidAttribute=function(e,t,n){return Ye||Qe({}),lt(Je(e),Je(t),n)},t.addHook=function(e,t){typeof t==`function`&&xi(T[e],t)},t.removeHook=function(e,t){if(t!==void 0){let n=yi(T[e],t);return n===-1?void 0:Si(T[e],n,1)[0]}return bi(T[e])},t.removeHooks=function(e){T[e]=[]},t.removeAllHooks=function(){T=sa()},t}var la=ca();function ua(e){return{__html:la.sanitize(e)}}var da=({marker:e})=>{let{selectedMap:t,types:n}=Ot(),{allSubtypes:r}=Ut(),i=`regions/${t?.name}`,{t:a}=He([i]),{user:o,setUserModalOpen:s,fetchWithAuth:c}=Qe(),{completedBySubtype:l,toggleMarkerCompleted:u}=It(),{setEditingMarker:d,userMarkersByMarkerId:f}=fn(),[p,m]=(0,N.useState)(!1),[h,g]=(0,N.useState)(0),[_,v]=(0,N.useState)(!1),[y,b]=(0,N.useState)(``),[x,S]=(0,N.useState)([]);if(!t)return null;let C=e.images&&e.images.length>0,w=e.images?.map(e=>Xe(e+`.small.webp`)),te=e.images?.map(e=>Xe(e+`.normal.webp`)),ne=r.get(e.subtype),re=n.find(e=>e.name===ne?.category),E=a(`types:categories.${re?.name}.name`),ae=a(`types:subtypes.${ne?.name}.name`),oe=`${i}:${e.region}`,se=e.region?a(`${oe}.name`):``,ce=!!ne?.canComplete,O=e.localizedName;O||=!e.name||re?.name==`collection`?ae:e.name;let le=e.localizedDescription||``,ue=!1;ne?.name&&l[ne.name]&&(ue=l[ne.name].has(e.indexInSubtype));let de=async()=>{let n=await c(`/maps/${t?.name}/markers/${e.id}/comments`,{method:`GET`,headers:{"Content-Type":`application/json`}});if(!n.ok)return;let r=await n.json();!r.data||r?.errorCode!=`Success`||(console.log(r.data),S(r.data.results))};return(0,F.jsxs)(ie,{className:`
      w-[360px]
      p-5 text-xs leading-snug
      text-foreground
      bg-sidebar
      space-y-5
    `,radius:`sm`,children:[(0,F.jsxs)(`div`,{children:[(0,F.jsx)(`div`,{className:`text-[18px] leading-[18px] font-bold`,children:O}),e.contributors.length>0&&(0,F.jsx)(`div`,{className:`text-[14px] leading-[14px] mt-2`,children:(0,F.jsx)(Ct,{t:a,i18nKey:`common:markerActions.providedBy`,defaults:`This location is provided by <emph>{{contributor}}</emph>`,values:{contributor:e.contributors.join(`, `)},components:{emph:(0,F.jsx)(`span`,{className:`text-success-600`})}})})]}),(0,F.jsxs)(`div`,{className:`text-[14px] leading-[14px]`,children:[E,` / `,ae,` `,(0,F.jsxs)(`span`,{className:`opacity-80`,children:[`(`,e.x.toFixed(0),`, `,e.y.toFixed(0),`)`]}),se?` / ${se}`:null]}),(0,F.jsx)(T,{}),le&&(0,F.jsx)(`div`,{className:`text-[14px] leading-[14px]`,children:le}),C&&(0,F.jsx)(`div`,{className:`w-full h-28 rounded-md `,children:(0,F.jsx)(ni,{images:w,selectedIndex:h,onSelect:e=>{g(e),m(!0)}})}),!o&&(0,F.jsxs)(`div`,{className:`text-[14px] leading-[14px] flex items-center justify-between`,children:[(0,F.jsx)(`button`,{type:`button`,className:`text-primary hover:underline`,onClick:()=>s(!0),children:a(`common:auth.loginPrompt`,`You can submit issue after login!`)}),(0,F.jsxs)(`button`,{type:`button`,className:`text-primary hover:underline`,onClick:()=>s(!0),children:[a(`common:auth.loginGo`,`Go to login`),` >`]})]}),(0,F.jsx)(T,{}),(0,F.jsxs)(`div`,{className:`flex gap-6`,children:[(0,F.jsx)(`div`,{className:`flex-1`,children:o&&(0,F.jsx)(j,{size:`sm`,variant:`light`,color:`default`,onPress:async()=>{_||await de(),v(!_)},startContent:(0,F.jsx)(D,{icon:ee,className:`text-sm`}),children:a(`common:markerActions:comments`,`Comments`)})}),(0,F.jsx)(`div`,{className:`flex-1`,children:o&&(0,F.jsx)(j,{size:`sm`,color:`danger`,variant:`flat`,onPress:()=>{let n;f[e.id]?(n={...f[e.id]},n.image||=e.images?e.images[0]+`.full`:``):n={id:z(),markerId:e.id,subtype:ne?.id||``,mapId:t.id,x:e.x,y:e.y,name:e.localizedName,description:e.localizedDescription||``,image:e.images?e.images[0]+`.full`:``,type:`feedback`},d(n)},children:a(`common:markerActions.feedback`,`Marker Feedback`)})}),(0,F.jsx)(`div`,{className:`flex-1`,children:ce&&(0,F.jsx)(j,{size:`sm`,variant:`flat`,color:ue?`success`:`primary`,onPress:()=>{u(e)},children:ue?a(`common:markerActions:markNotCompleted`,`Completed`):a(`common:markerActions:markCompleted`,`Mark as completed`)})})]}),_&&(0,F.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[x.length>0&&(0,F.jsx)(`div`,{className:`flex flex-col gap-3`,children:x.map(e=>(0,F.jsxs)(`div`,{className:`p-3 rounded-md text-sm leading-snug`,children:[(0,F.jsx)(`div`,{className:`text-foreground`,dangerouslySetInnerHTML:ua(e.content)}),(0,F.jsx)(`div`,{className:`text-xs text-default-700 mt-1`,children:new Date(e.createdAt).toLocaleString()})]},e.id))}),(0,F.jsx)(k,{placeholder:a(`common:markerActions:enterComment`,`Write a comment…`),value:y,onValueChange:b,radius:`sm`,size:`sm`,className:`w-full mb-3`}),(0,F.jsx)(`div`,{className:`flex justify-end`,children:(0,F.jsx)(j,{size:`sm`,color:`primary`,radius:`sm`,onPress:async()=>{console.log(`Comment submit:`,y),y&&(await c(`/maps/${t?.name}/markers/${e.id}/comments`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({content:y})})).ok&&(await de(),b(``))},className:`text-background`,children:a(`common:ui.submit`,`Submit`)})})]}),(0,F.jsx)(A,{isOpen:p,onOpenChange:e=>m(e),size:`5xl`,backdrop:`blur`,placement:`center`,isDismissable:!0,hideCloseButton:!0,classNames:{wrapper:`z-[20000]`,base:`bg-transparent shadow-none`},children:(0,F.jsx)(fe,{children:()=>(0,F.jsx)(he,{className:`p-0 flex items-center justify-center`,children:(0,F.jsxs)(`div`,{className:`relative w-[90vw] max-w-5xl h-[80vh] bg-black/60 dark:bg-black/70 rounded-xl overflow-hidden backdrop-blur-md p-4`,children:[(0,F.jsx)(`button`,{type:`button`,onClick:()=>m(!1),className:`
                    absolute top-3 right-3 z-20
                    inline-flex h-8 w-8 items-center justify-center
                    rounded-full
                    bg-black/60 text-white
                    hover:bg-black/80
                    dark:bg-white/80 dark:text-black dark:hover:bg-white
                    shadow-md
                  `,"aria-label":`Close gallery`,children:`✕`}),(0,F.jsx)(si,{images:te,selectedIndex:h,onSelect:g})]})})})})]})},fa=e(m(),1),pa=e(i(),1),ma=({onUpdate:e})=>(c({mousemove(t){let{lat:n,lng:r}=t.latlng;e(r,n)}}),null),ha=({onOpenMenu:e,onCloseMenu:t})=>{let{setPickMode:n,pickMode:r}=fn(),i=c({contextmenu(t){if(t.originalEvent.preventDefault(),r){n(!1);return}let a=t.latlng.lng,o=t.latlng.lat,s=i.latLngToContainerPoint(t.latlng);e({x:s.x,y:s.y,mapX:a,mapY:o})},click(){t()},movestart(){t()},zoomstart(){t()}});return null},ga=()=>{let e=o(),{pickMode:t}=fn();return(0,N.useEffect)(()=>{let n=e.getContainer();n.style.cursor=t?`url(${Ve(`images/CursorAdd.png`)}) 22 63, crosshair`:`grab`},[e,t]),null},_a=({createMarker:e})=>{let{pickMode:t}=fn();return c({click(n){if(!t)return;let r=n.latlng.lng,i=n.latlng.lat;e(r,i)}}),null};function va(){let e=(0,pa.renderToString)((0,F.jsx)(`div`,{style:{color:`#df1414`,fontSize:`32px`,transform:`translate(-50%, -100%)`,filter:`drop-shadow(0 2px 4px rgba(0,0,0,0.6))`},children:(0,F.jsx)(D,{icon:S})}));return fa.default.divIcon({html:e,className:``,iconSize:[24,24],iconAnchor:[12,24]})}function ya({selectedMarkerId:e,selectedPosition:t}){let n=o(),{markersById:r}=It();return(0,N.useEffect)(()=>{if(!n||!e)return;let t=r[e];if(!t)return;let i=[t.y,t.x];n.flyTo(i,n.getZoom(),{duration:.5})},[n,e,r]),(0,N.useEffect)(()=>{if(console.log(t),!n||!t)return;let e=[t.y,t.x];n.flyTo(e,n.getZoom(),{duration:.5})},[n,t]),t?(0,F.jsx)(a,{position:new fa.default.LatLng(t.y,t.x),icon:va(),interactive:!1}):null}function ba({onSelectMarker:e,selectedMarkerId:t}){let{markersById:n}=It();if(c({click(){e(null)}}),!t)return null;let r=n[t];return r?(0,F.jsx)(l,{position:[r.y+10,r.x],maxWidth:360,minWidth:360,autoPan:!0,closeButton:!1,children:(0,F.jsx)(da,{marker:r})}):null}var xa=({mapRef:e,onSelectMarker:t,selectedMarkerId:n,selectedPosition:r})=>{let[i,a]=(0,N.useState)(null),[o,s]=(0,N.useState)(null),[c,l]=(0,N.useState)(void 0),{selectedMap:d}=Ot(),{visibleSubtypes:f}=Ut(),{markers:p}=It(),{pickMode:m,createMarker:h,userMarkers:g,hideUserMarkers:_}=fn(),v=`regions/${d?.name}`,{t:y}=He([v]),b=c?y(`${v}:${c.name}.name`):``,x=(0,N.useCallback)((e,t)=>{let n=`${Math.round(e)}, ${Math.round(t)}`;typeof navigator<`u`&&navigator.clipboard?.writeText?navigator.clipboard.writeText(n).catch(e=>console.error(`Clipboard error`,e)):console.log(`Copied position:`,n)},[]),S=(0,N.useMemo)(()=>n?(0,F.jsx)(ba,{selectedMarkerId:n,onSelectMarker:t}):null,[n,t]);if(!d)return(0,F.jsx)(`div`,{className:`flex-1 flex items-center justify-center text-sm text-default-500`,children:`No map selected.`});let C=d.tileWidth*d.tilesCountX,w=d.tileHeight*d.tilesCountY,ee=[[0,0],[w,C]],te=[w/2,C/2];return(0,F.jsxs)(`div`,{className:`flex-1 relative`,onClick:()=>s(null),style:{cursor:m?`crosshair`:`default`},children:[(0,F.jsxs)(u,{center:te,bounds:ee,zoom:0,minZoom:-3,maxZoom:2,zoomSnap:.25,zoomDelta:.25,crs:fa.default.CRS.Simple,className:`w-full h-full`,attributionControl:!1,ref:e,children:[(0,F.jsx)(ma,{onUpdate:(e,t)=>{a({x:e,y:t})}}),(0,F.jsx)(ga,{}),(0,F.jsx)(_a,{createMarker:h}),(0,F.jsx)(ha,{onOpenMenu:e=>s(e),onCloseMenu:()=>s(null)}),(0,F.jsx)(Xt,{selectedMap:d}),(0,F.jsx)(en,{hoveredRegion:c,setHoveredRegion:l}),p.filter(e=>n===e.id||f?.has(e.subtype)).map(e=>(0,F.jsx)(qt,{marker:e,onSelectMarker:t},e.id)),_?g.filter(e=>e.type!==`feedback`).map(e=>(0,F.jsx)(pn,{marker:e},e.id)):null,(0,F.jsx)(ya,{selectedMarkerId:n,selectedPosition:r}),S]},d.id),(0,F.jsx)(`div`,{className:`
          absolute bottom-15 left-3 z-[1000]
          font-medium
          text-[15px]
          leading-[15px]
          text-white/80
          text-left
          not-italic
          normal-case
          drop-shadow-[0_2px_4px_rgba(0,0,0,0.7)]
        `,children:`沪ICP备2025152827号-1`}),i&&(0,F.jsxs)(`div`,{className:`absolute bottom-3 left-3 z-[1000] rounded bg-black/80 text-white text-sm px-3 py-1.5 pointer-events-none shadow-lg backdrop-blur-sm`,children:[`x: `,i.x.toFixed(0),`, y: `,i.y.toFixed(0),` `,b]}),o&&(0,F.jsx)(`div`,{className:`absolute z-[5000]`,style:{left:o.x,top:o.y},onClick:e=>e.stopPropagation(),children:(0,F.jsx)(`div`,{className:`min-w-[190px] rounded-md border border-default-200 bg-content1 shadow-lg text-sm py-1`,children:(0,F.jsxs)(`button`,{type:`button`,className:`w-full px-3 py-1.5 text-left hover:bg-default-100`,onClick:e=>{e.stopPropagation(),x(o.mapX,o.mapY),s(null)},children:[`Copy position (`,Math.round(o.mapX),`,`,` `,Math.round(o.mapY),`)`]})})}),(0,F.jsx)(Jr,{}),!1]})},Sa=({side:e=`left`,width:t=370,collapsedWidth:n=0,collapsed:r=!1,onToggleCollapsed:i,children:a,extraControls:o})=>{let{t:s}=He(`common`),[c,l]=(0,N.useState)(r),{theme:u}=Ke(),d=Ve(u===`dark`?`images/Sidebar_Dark.webp`:`images/Sidebar_Light.webp`),f=e===`left`,p=()=>{i&&i(!r),l(e=>!e)},m=f?`right-0 translate-x-full rounded-r-md rounded-l-none`:`left-0 -translate-x-full rounded-l-md rounded-r-none`;return(0,F.jsxs)(`aside`,{className:`
        relative h-full flex flex-col bg-sidebar transition-all duration-300 
      `,style:{width:c?n:t,maxWidth:t},children:[(0,F.jsx)(`div`,{className:`absolute inset-0 pointer-events-none opacity-70 bg-no-repeat bg-top-left`,style:{backgroundImage:`url(${d})`,backgroundSize:`370px auto`}}),(0,F.jsx)(`div`,{className:`flex-1 overflow-y-scroll sidebar-scroll`,children:a}),(0,F.jsxs)(`button`,{onClick:p,className:`
          absolute top-[100px] flex flex-col items-center justify-center z-[20000] 
          w-8 h-12 bg-sidebar-collapse text-default-700 select-none
          ${m}
        `,children:[(0,F.jsx)(D,{icon:f?c?be:te:c?te:be,className:`text-sm`}),(0,F.jsx)(`span`,{className:`text-[10px] leading-tight mt-0.5 whitespace-normal text-center px-0.5`,children:c?s(`menu.expand`,`Expand`):s(`menu.collapse`,`Collapse`)})]}),o&&(0,F.jsx)(`div`,{className:`
            absolute top-[160px] z-[20000]
            flex flex-col items-center
            ${f?`right-0 translate-x-full`:`left-0 -translate-x-full`}
          `,children:o})]})},Ca=()=>{let{t:e}=He(),t=Ve(`images/Logo.webp`),n=e(`common:siteTitle`,`AION2
Interactive Map`).replace(/\n/g,`<br />`);return(0,F.jsxs)(`div`,{className:`w-full flex items-center justify-center select-none gap-6`,children:[(0,F.jsx)(`img`,{src:t,alt:`AION2 Logo`,className:`w-[100px] h-[100px] object-contain`}),(0,F.jsx)(`div`,{className:`text-[22px] leading-[30px] font-bold text-primary text-center`,dangerouslySetInnerHTML:{__html:n}})]})},wa=()=>{let{maps:e,selectedMap:t,setSelectedMap:n}=Ot(),{t:r}=He();return(0,F.jsx)(`div`,{className:`w-full flex justify-center mt-5`,children:(0,F.jsx)(`div`,{className:`
          w-[323px] h-[38px]
          flex items-center justify-center
          border border-transparent
          rounded-none
        `,style:{background:`linear-gradient(90deg, rgba(190,211,222,0) 0%, rgba(190,211,222,0.5) 54%, rgba(190,211,222,0) 100%)`,borderImage:`linear-gradient(90deg, rgba(165,187,200,0), rgba(165,187,200,1), rgba(165,187,200,0)) 1`},children:(0,F.jsx)(pe,{"aria-label":`Select map`,size:`sm`,selectedKeys:t?[t.name]:[],onSelectionChange:t=>{let r=Array.from(t)[0],i=e.find(e=>e.name===r);i&&setTimeout(()=>{n(i)},50)},classNames:{trigger:[`w-auto`,`px-2 py-1`,`bg-transparent shadow-none`,`flex items-center justify-center gap-2`,`hover:bg-transparent`,`data-[hover=true]:bg-transparent`,`active:bg-transparent`,`focus:bg-transparent`].join(` `),value:`text-sm font-medium text-center text-[18px] leading-[18px] `,innerWrapper:`static flex items-center justify-center`,selectorIcon:[`text-default-900`].join(` `),popoverContent:`bg-content1`},className:`text-center max-w-[260px]`,radius:`none`,children:e.map(e=>(0,F.jsx)(Ae,{children:r(`maps:${e.name}.name`,e.name)},e.name))})})})},Ta=({isOpen:e,onClose:t,onConfirm:n})=>{let{t:r}=He();return(0,F.jsx)(A,{isOpen:e,onOpenChange:e=>{e||t()},classNames:{wrapper:`z-[20000]`},children:(0,F.jsx)(fe,{children:e=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Se,{children:r(`common:menu.clearMarkerCompleted`)}),(0,F.jsx)(he,{children:r(`common:menu.clearMarkerCompletedBody`)}),(0,F.jsxs)(Me,{children:[(0,F.jsx)(j,{variant:`light`,onPress:e,children:r(`common:ui.cancel`)}),(0,F.jsx)(j,{color:`danger`,onPress:()=>{n(),e()},children:r(`common:ui.confirm`)})]})]})})})},Ea=()=>{let{types:e,selectedMap:t}=Ot(),{handleShowAllSubtypes:n,handleHideAllSubtypes:r,visibleSubtypes:i,handleToggleSubtype:a,showBorders:o,handleToggleBorders:s}=Ut(),{clearMarkerCompleted:c,showLabels:l,setShowLabels:u,subtypeCounts:d,completedCounts:f}=It(),{hideUserMarkers:p,setHideUserMarkers:m}=fn(),{t:h}=He(`common`),[g,_]=(0,N.useState)(!1),v=(e=!1)=>{let t={radius:`sm`,fullWidth:!0,className:`text-[14px] leading-[14px] font-normal h-[30px] gap-2 px-2`,variant:e?`solid`:`flat`,color:e?`primary`:`default`};return e?t.className+=` text-background`:t.className+=` bg-sidebar-button text-default-700`,t};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(`div`,{className:`w-full flex flex-col px-2 my-0 pb-4`,children:[(0,F.jsxs)(`div`,{className:`grid grid-cols-2 gap-2`,children:[(0,F.jsx)(j,{...v(),onPress:n,children:h(`menu.showAllMarkers`,`Show All`)}),(0,F.jsx)(j,{...v(),onPress:r,children:h(`menu.hideAllMarkers`,`Hide All`)}),(0,F.jsx)(j,{...v(l),onPress:()=>u(!l),children:h(`menu.showNamesOnPins`,`Show Names`)}),(0,F.jsx)(j,{...v(),onPress:()=>_(!0),children:h(`menu.clearMarkerCompleted`,`Clear Completed`)}),(0,F.jsx)(j,{...v(o),onPress:s,children:h(`menu.showBorders`,`Show Borders`)}),(0,F.jsx)(j,{...v(p),onPress:()=>m(!p),children:h(`menu.hideUserMarkers`,`Hide User Markers`)})]}),(0,F.jsx)(y,{variant:`light`,selectionMode:`multiple`,showDivider:!1,defaultExpandedKeys:e.map(e=>e.name),itemClasses:{base:`!bg-transparent !shadow-none !backdrop-filter-none !backdrop-blur-none`,trigger:`pt-3 pb-0 min-h-0 px-0`,title:`text-[16px] leading-[16px] font-bold`,content:`py-0`},className:`bg-transparent shadow-none px-0`,children:e.filter(e=>e.subtypes.length>0).map(e=>{let n=e.subtypes.map(n=>{let r=n.name,o=d[r]??0;if(o===0)return null;let s=f[r]??0,c=i?.has(r)||!1,l=n.canComplete===!0,u=n.icon||e.icon||``,p=(n.iconScale||1)*20;return(0,F.jsx)(j,{...v(c),onPress:()=>{a(n.name)},children:(0,F.jsxs)(`div`,{className:`
                      flex w-full items-center justify-between
                      ${c?`text-background`:`text-default-700`}
                    `,children:[(0,F.jsxs)(`span`,{className:`flex items-center gap-1 min-w-0`,children:[u&&t&&(0,F.jsx)(`div`,{className:`relative w-5 h-5 overflow-visible flex items-center justify-center`,children:(0,F.jsx)(`img`,{src:qe(u,t),alt:``,className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-contain pointer-events-none`,style:{width:p,height:p}})}),(0,F.jsx)(`span`,{className:`truncate text-left`,children:h(`types:subtypes.${n.name}.name`,n.name)})]}),(0,F.jsx)(`span`,{className:`text-[12px] shrink-0 ml-2`,children:l?`${s}/${o}`:o})]})})}).filter(e=>e!==null);return n.length===0?null:(0,F.jsx)(b,{title:(()=>{let t=e.subtypes.map(e=>e.name).filter(e=>(d[e]??0)>0),n=t.length>0&&t.every(e=>i?.has(e)),r=t.length>0&&t.some(e=>i?.has(e)),o=n?re:w,s=n?h(`menu.hideCategory`,`Hide all in this category`):h(`menu.showCategory`,`Show all in this category`);return(0,F.jsxs)(`div`,{className:`my-2 px-1 flex items-center justify-between gap-2`,children:[(0,F.jsx)(`div`,{className:`text-[14px] leading-[14px] font-medium`,children:h(`types:categories.${e.name}.name`,e.name)}),t.length>0&&(0,F.jsx)(Le,{content:s,placement:`top`,delay:300,children:(0,F.jsx)(`button`,{type:`button`,onClick:e=>{e.preventDefault(),e.stopPropagation();let r=!n;for(let e of t){let t=i?.has(e)??!1;r&&!t&&a(e),!r&&t&&a(e)}},className:`shrink-0 p-1 rounded-sm hover:bg-default-100 ${r?`text-default-700`:`text-default-400`}`,"aria-label":s,children:(0,F.jsx)(D,{icon:o,className:`text-[13px]`})})})]})})(),classNames:{indicator:`text-default-700`},children:(0,F.jsx)(`div`,{className:`grid grid-cols-2 gap-2`,children:n})},e.name)})})]}),(0,F.jsx)(Ta,{isOpen:g,onClose:()=>_(!1),onConfirm:c})]})};function Da(e){return(0,F.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,F.jsx)(`span`,{className:`flex h-4 w-4 items-center justify-center`,children:(0,F.jsx)(D,{icon:ne,className:`text-primary`})}),(0,F.jsx)(`span`,{className:`truncate`,children:e})]})}var K=`ENTRIES`,Oa=`KEYS`,ka=`VALUES`,q=``,Aa=class{constructor(e,t){let n=e._tree,r=Array.from(n.keys());this.set=e,this._type=t,this._path=r.length>0?[{node:n,keys:r}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:t}=ja(this._path);if(ja(t)===q)return{done:!1,value:this.result()};let n=e.get(ja(t));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=ja(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>ja(e)).filter(e=>e!==q).join(``)}value(){return ja(this._path).node.get(q)}result(){switch(this._type){case ka:return this.value();case Oa:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},ja=e=>e[e.length-1],Ma=(e,t,n)=>{let r=new Map;if(t===void 0)return r;let i=t.length+1,a=i+n,o=new Uint8Array(a*i).fill(n+1);for(let e=0;e<i;++e)o[e]=e;for(let e=1;e<a;++e)o[e*i]=e;return Na(e,t,n,r,o,1,i,``),r},Na=(e,t,n,r,i,a,o,s)=>{let c=a*o;key:for(let l of e.keys())if(l===q){let t=i[c-1];t<=n&&r.set(s,[e.get(l),t])}else{let c=a;for(let e=0;e<l.length;++e,++c){let r=l[e],a=o*c,s=a-o,u=i[a],d=Math.max(0,c-n-1),f=Math.min(o-1,c+n);for(let e=d;e<f;++e){let n=r!==t[e],o=i[s+e]+ +n,c=i[s+e+1]+1,l=i[a+e]+1,d=i[a+e+1]=Math.min(o,c,l);d<u&&(u=d)}if(u>n)continue key}Na(e.get(l),t,n,r,i,c,o,s+l)}},Pa=class e{constructor(e=new Map,t=``){this._size=void 0,this._tree=e,this._prefix=t}atPrefix(t){if(!t.startsWith(this._prefix))throw Error(`Mismatched prefix`);let[n,r]=Fa(this._tree,t.slice(this._prefix.length));if(n===void 0){let[n,i]=Va(r);for(let r of n.keys())if(r!==q&&r.startsWith(i)){let a=new Map;return a.set(r.slice(i.length),n.get(r)),new e(a,t)}}return new e(n,t)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,Ra(this._tree,e)}entries(){return new Aa(this,K)}forEach(e){for(let[t,n]of this)e(t,n,this)}fuzzyGet(e,t){return Ma(this._tree,e,t)}get(e){let t=Ia(this._tree,e);return t===void 0?void 0:t.get(q)}has(e){let t=Ia(this._tree,e);return t!==void 0&&t.has(q)}keys(){return new Aa(this,Oa)}set(e,t){if(typeof e!=`string`)throw Error(`key must be a string`);return this._size=void 0,La(this._tree,e).set(q,t),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,t){if(typeof e!=`string`)throw Error(`key must be a string`);this._size=void 0;let n=La(this._tree,e);return n.set(q,t(n.get(q))),this}fetch(e,t){if(typeof e!=`string`)throw Error(`key must be a string`);this._size=void 0;let n=La(this._tree,e),r=n.get(q);return r===void 0&&n.set(q,r=t()),r}values(){return new Aa(this,ka)}[Symbol.iterator](){return this.entries()}static from(t){let n=new e;for(let[e,r]of t)n.set(e,r);return n}static fromObject(t){return e.from(Object.entries(t))}},Fa=(e,t,n=[])=>{if(t.length===0||e==null)return[e,n];for(let r of e.keys())if(r!==q&&t.startsWith(r))return n.push([e,r]),Fa(e.get(r),t.slice(r.length),n);return n.push([e,t]),Fa(void 0,``,n)},Ia=(e,t)=>{if(t.length===0||e==null)return e;for(let n of e.keys())if(n!==q&&t.startsWith(n))return Ia(e.get(n),t.slice(n.length))},La=(e,t)=>{let n=t.length;outer:for(let r=0;e&&r<n;){for(let i of e.keys())if(i!==q&&t[r]===i[0]){let a=Math.min(n-r,i.length),o=1;for(;o<a&&t[r+o]===i[o];)++o;let s=e.get(i);if(o===i.length)e=s;else{let n=new Map;n.set(i.slice(o),s),e.set(t.slice(r,r+o),n),e.delete(i),e=n}r+=o;continue outer}let i=new Map;return e.set(t.slice(r),i),i}return e},Ra=(e,t)=>{let[n,r]=Fa(e,t);if(n!==void 0){if(n.delete(q),n.size===0)za(r);else if(n.size===1){let[e,t]=n.entries().next().value;Ba(r,e,t)}}},za=e=>{if(e.length===0)return;let[t,n]=Va(e);if(t.delete(n),t.size===0)za(e.slice(0,-1));else if(t.size===1){let[n,r]=t.entries().next().value;n!==q&&Ba(e.slice(0,-1),n,r)}},Ba=(e,t,n)=>{if(e.length===0)return;let[r,i]=Va(e);r.set(i+t,n),r.delete(i)},Va=e=>e[e.length-1],Ha=`or`,Ua=`and`,Wa=`and_not`,Ga=class e{constructor(e){if(e?.fields==null)throw Error(`MiniSearch: option "fields" must be provided`);let t=e.autoVacuum==null||e.autoVacuum===!0?no:e.autoVacuum;this._options={...Za,...e,autoVacuum:t,searchOptions:{...Qa,...e.searchOptions||{}},autoSuggestOptions:{...$a,...e.autoSuggestOptions||{}}},this._index=new Pa,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=to,this.addFields(this._options.fields)}add(e){let{extractField:t,stringifyField:n,tokenize:r,processTerm:i,fields:a,idField:o}=this._options,s=t(e,o);if(s==null)throw Error(`MiniSearch: document does not have ID field "${o}"`);if(this._idToShortId.has(s))throw Error(`MiniSearch: duplicate ID ${s}`);let c=this.addDocumentId(s);this.saveStoredFields(c,e);for(let o of a){let a=t(e,o);if(a==null)continue;let s=r(n(a,o),o),l=this._fieldIds[o],u=new Set(s).size;this.addFieldLength(c,l,this._documentCount-1,u);for(let e of s){let t=i(e,o);if(Array.isArray(t))for(let e of t)this.addTerm(l,c,e);else t&&this.addTerm(l,c,t)}}}addAll(e){for(let t of e)this.add(t)}addAllAsync(e,t={}){let{chunkSize:n=10}=t,r={chunk:[],promise:Promise.resolve()},{chunk:i,promise:a}=e.reduce(({chunk:e,promise:t},r,i)=>(e.push(r),(i+1)%n===0?{chunk:[],promise:t.then(()=>new Promise(e=>setTimeout(e,0))).then(()=>this.addAll(e))}:{chunk:e,promise:t}),r);return a.then(()=>this.addAll(i))}remove(e){let{tokenize:t,processTerm:n,extractField:r,stringifyField:i,fields:a,idField:o}=this._options,s=r(e,o);if(s==null)throw Error(`MiniSearch: document does not have ID field "${o}"`);let c=this._idToShortId.get(s);if(c==null)throw Error(`MiniSearch: cannot remove document with ID ${s}: it is not in the index`);for(let o of a){let a=r(e,o);if(a==null)continue;let s=t(i(a,o),o),l=this._fieldIds[o],u=new Set(s).size;this.removeFieldLength(c,l,this._documentCount,u);for(let e of s){let t=n(e,o);if(Array.isArray(t))for(let e of t)this.removeTerm(l,c,e);else t&&this.removeTerm(l,c,t)}}this._storedFields.delete(c),this._documentIds.delete(c),this._idToShortId.delete(s),this._fieldLength.delete(c),--this._documentCount}removeAll(e){if(e)for(let t of e)this.remove(t);else if(arguments.length>0)throw Error(`Expected documents to be present. Omit the argument to remove all documents.`);else this._index=new Pa,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}discard(e){let t=this._idToShortId.get(e);if(t==null)throw Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((e,n)=>{this.removeFieldLength(t,n,this._documentCount,e)}),this._fieldLength.delete(t),--this._documentCount,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:e,minDirtCount:t,batchSize:n,batchWait:r}=this._options.autoVacuum;this.conditionalVacuum({batchSize:n,batchWait:r},{minDirtCount:t,minDirtFactor:e})}discardAll(e){let t=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let t of e)this.discard(t)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){let{idField:t,extractField:n}=this._options,r=n(e,t);this.discard(r),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum??=this._currentVacuum.then(()=>{let t=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=to,this.performVacuuming(e,t)}),this._enqueuedVacuum):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,t){let n=this._dirtCount;if(this.vacuumConditionsMet(t)){let t=e.batchSize||eo.batchSize,r=e.batchWait||eo.batchWait,i=1;for(let[e,n]of this._index){for(let[e,t]of n)for(let[r]of t)this._documentIds.has(r)||(t.size<=1?n.delete(e):t.delete(r));this._index.get(e).size===0&&this._index.delete(e),i%t===0&&await new Promise(e=>setTimeout(e,r)),i+=1}this._dirtCount-=n}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:t,minDirtFactor:n}=e;return t||=no.minDirtCount,n||=no.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)}search(t,n={}){let{searchOptions:r}=this._options,i={...r,...n},a=this.executeQuery(t,n),o=[];for(let[e,{score:t,terms:n,match:r}]of a){let a=n.length||1,s={id:this._documentIds.get(e),score:t*a,terms:Object.keys(r),queryTerms:n,match:r};Object.assign(s,this._storedFields.get(e)),(i.filter==null||i.filter(s))&&o.push(s)}return t===e.wildcard&&i.boostDocument==null||o.sort(ao),o}autoSuggest(e,t={}){t={...this._options.autoSuggestOptions,...t};let n=new Map;for(let{score:r,terms:i}of this.search(e,t)){let e=i.join(` `),t=n.get(e);t==null?n.set(e,{score:r,terms:i,count:1}):(t.score+=r,t.count+=1)}let r=[];for(let[e,{score:t,terms:i,count:a}]of n)r.push({suggestion:e,terms:i,score:t/a});return r.sort(ao),r}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(t==null)throw Error(`MiniSearch: loadJSON should be given the same options used when serializing the index`);return this.loadJS(JSON.parse(e),t)}static async loadJSONAsync(e,t){if(t==null)throw Error(`MiniSearch: loadJSON should be given the same options used when serializing the index`);return this.loadJSAsync(JSON.parse(e),t)}static getDefault(e){if(Za.hasOwnProperty(e))return Ka(Za,e);throw Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,t){let{index:n,documentIds:r,fieldLength:i,storedFields:a,serializationVersion:o}=e,s=this.instantiateMiniSearch(e,t);s._documentIds=so(r),s._fieldLength=so(i),s._storedFields=so(a);for(let[e,t]of s._documentIds)s._idToShortId.set(t,e);for(let[e,t]of n){let n=new Map;for(let e of Object.keys(t)){let r=t[e];o===1&&(r=r.ds),n.set(parseInt(e,10),so(r))}s._index.set(e,n)}return s}static async loadJSAsync(e,t){let{index:n,documentIds:r,fieldLength:i,storedFields:a,serializationVersion:o}=e,s=this.instantiateMiniSearch(e,t);s._documentIds=await co(r),s._fieldLength=await co(i),s._storedFields=await co(a);for(let[e,t]of s._documentIds)s._idToShortId.set(t,e);let c=0;for(let[e,t]of n){let n=new Map;for(let e of Object.keys(t)){let r=t[e];o===1&&(r=r.ds),n.set(parseInt(e,10),await co(r))}++c%1e3==0&&await lo(0),s._index.set(e,n)}return s}static instantiateMiniSearch(t,n){let{documentCount:r,nextId:i,fieldIds:a,averageFieldLength:o,dirtCount:s,serializationVersion:c}=t;if(c!==1&&c!==2)throw Error(`MiniSearch: cannot deserialize an index created with an incompatible version`);let l=new e(n);return l._documentCount=r,l._nextId=i,l._idToShortId=new Map,l._fieldIds=a,l._avgFieldLength=o,l._dirtCount=s||0,l._index=new Pa,l}executeQuery(t,n={}){if(t===e.wildcard)return this.executeWildcardQuery(n);if(typeof t!=`string`){let e={...n,...t,queries:void 0},r=t.queries.map(t=>this.executeQuery(t,e));return this.combineResults(r,e.combineWith)}let{tokenize:r,processTerm:i,searchOptions:a}=this._options,o={tokenize:r,processTerm:i,...a,...n},{tokenize:s,processTerm:c}=o,l=s(t).flatMap(e=>c(e)).filter(e=>!!e).map(Xa(o)).map(e=>this.executeQuerySpec(e,o));return this.combineResults(l,o.combineWith)}executeQuerySpec(e,t){let n={...this._options.searchOptions,...t},r=(n.fields||this._options.fields).reduce((e,t)=>({...e,[t]:Ka(n.boost,t)||1}),{}),{boostDocument:i,weights:a,maxFuzzy:o,bm25:s}=n,{fuzzy:c,prefix:l}={...Qa.weights,...a},u=this._index.get(e.term),d=this.termResults(e.term,e.term,1,e.termBoost,u,r,i,s),f,p;if(e.prefix&&(f=this._index.atPrefix(e.term)),e.fuzzy){let t=e.fuzzy===!0?.2:e.fuzzy,n=t<1?Math.min(o,Math.round(e.term.length*t)):t;n&&(p=this._index.fuzzyGet(e.term,n))}if(f)for(let[t,n]of f){let a=t.length-e.term.length;if(!a)continue;p?.delete(t);let o=l*t.length/(t.length+.3*a);this.termResults(e.term,t,o,e.termBoost,n,r,i,s,d)}if(p)for(let t of p.keys()){let[n,a]=p.get(t);if(!a)continue;let o=c*t.length/(t.length+a);this.termResults(e.term,t,o,e.termBoost,n,r,i,s,d)}return d}executeWildcardQuery(e){let t=new Map,n={...this._options.searchOptions,...e};for(let[e,r]of this._documentIds){let i=n.boostDocument?n.boostDocument(r,``,this._storedFields.get(e)):1;t.set(e,{score:i,terms:[],match:{}})}return t}combineResults(e,t=Ha){if(e.length===0)return new Map;let n=qa[t.toLowerCase()];if(!n)throw Error(`Invalid combination operator: ${t}`);return e.reduce(n)||new Map}toJSON(){let e=[];for(let[t,n]of this._index){let r={};for(let[e,t]of n)r[e]=Object.fromEntries(t);e.push([t,r])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,n,r,i,a,o,s,c=new Map){if(i==null)return c;for(let l of Object.keys(a)){let u=a[l],d=this._fieldIds[l],f=i.get(d);if(f==null)continue;let p=f.size,m=this._avgFieldLength[d];for(let i of f.keys()){if(!this._documentIds.has(i)){this.removeTerm(d,i,t),--p;continue}let a=o?o(this._documentIds.get(i),t,this._storedFields.get(i)):1;if(!a)continue;let h=f.get(i),g=this._fieldLength.get(i)[d],_=Ya(h,p,this._documentCount,g,m,s),v=n*r*u*a*_,y=c.get(i);if(y){y.score+=v,ro(y.terms,e);let n=Ka(y.match,t);n?n.push(l):y.match[t]=[l]}else c.set(i,{score:v,terms:[e],match:{[t]:[l]}})}}return c}addTerm(e,t,n){let r=this._index.fetch(n,oo),i=r.get(e);if(i==null)i=new Map,i.set(t,1),r.set(e,i);else{let e=i.get(t);i.set(t,(e||0)+1)}}removeTerm(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}let r=this._index.fetch(n,oo),i=r.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?r.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)}warnDocumentChanged(e,t,n){for(let r of Object.keys(this._fieldIds))if(this._fieldIds[r]===t){this._options.logger(`warn`,`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${n}" was not present in field "${r}". Removing a document after it has changed can corrupt the index!`,`version_conflict`);return}}addDocumentId(e){let t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(let t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,n,r){let i=this._fieldLength.get(e);i??this._fieldLength.set(e,i=[]),i[t]=r;let a=(this._avgFieldLength[t]||0)*n+r;this._avgFieldLength[t]=a/(n+1)}removeFieldLength(e,t,n,r){if(n===1){this._avgFieldLength[t]=0;return}let i=this._avgFieldLength[t]*n-r;this._avgFieldLength[t]=i/(n-1)}saveStoredFields(e,t){let{storeFields:n,extractField:r}=this._options;if(n==null||n.length===0)return;let i=this._storedFields.get(e);i??this._storedFields.set(e,i={});for(let e of n){let n=r(t,e);n!==void 0&&(i[e]=n)}}};Ga.wildcard=Symbol(`*`);var Ka=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,qa={[Ha]:(e,t)=>{for(let n of t.keys()){let r=e.get(n);if(r==null)e.set(n,t.get(n));else{let{score:e,terms:i,match:a}=t.get(n);r.score+=e,r.match=Object.assign(r.match,a),io(r.terms,i)}}return e},[Ua]:(e,t)=>{let n=new Map;for(let r of t.keys()){let i=e.get(r);if(i==null)continue;let{score:a,terms:o,match:s}=t.get(r);io(i.terms,o),n.set(r,{score:i.score+a,terms:i.terms,match:Object.assign(i.match,s)})}return n},[Wa]:(e,t)=>{for(let n of t.keys())e.delete(n);return e}},Ja={k:1.2,b:.7,d:.5},Ya=(e,t,n,r,i,a)=>{let{k:o,b:s,d:c}=a;return Math.log(1+(n-t+.5)/(t+.5))*(c+e*(o+1)/(e+o*(1-s+s*r/i)))},Xa=e=>(t,n,r)=>({term:t,fuzzy:typeof e.fuzzy==`function`?e.fuzzy(t,n,r):e.fuzzy||!1,prefix:typeof e.prefix==`function`?e.prefix(t,n,r):e.prefix===!0,termBoost:typeof e.boostTerm==`function`?e.boostTerm(t,n,r):1}),Za={idField:`id`,extractField:(e,t)=>e[t],stringifyField:(e,t)=>e.toString(),tokenize:e=>e.split(uo),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{typeof(console==null?void 0:console[e])==`function`&&console[e](t)},autoVacuum:!0},Qa={combineWith:Ha,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Ja},$a={combineWith:Ua,prefix:(e,t,n)=>t===n.length-1},eo={batchSize:1e3,batchWait:10},to={minDirtFactor:.1,minDirtCount:20},no={...eo,...to},ro=(e,t)=>{e.includes(t)||e.push(t)},io=(e,t)=>{for(let n of t)e.includes(n)||e.push(n)},ao=({score:e},{score:t})=>t-e,oo=()=>new Map,so=e=>{let t=new Map;for(let n of Object.keys(e))t.set(parseInt(n,10),e[n]);return t},co=async e=>{let t=new Map,n=0;for(let r of Object.keys(e))t.set(parseInt(r,10),e[r]),++n%1e3==0&&await lo(0);return t},lo=e=>new Promise(t=>setTimeout(t,e)),uo=/[\n\r\p{Z}\p{P}]+/u;function fo(e){let t=e.trim(),n=t.match(/^\(?\s*(-?\d+(?:\.\d+)?)\s*[, ]\s*(-?\d+(?:\.\d+)?)\s*\)?$/);if(n)return{x:Number(n[1]),y:Number(n[2])};let r=t.match(/x\s*[:=]\s*(-?\d+(?:\.\d+)?)\s*y\s*[:=]\s*(-?\d+(?:\.\d+)?)$/i);return r?{x:Number(r[1]),y:Number(r[2])}:null}function po(e){return e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function mo(e,t){if(!e)return null;let n=t.map(e=>e.trim()).filter(Boolean);if(!n.length)return e;let r=RegExp(`(${n.map(po).join(`|`)})`,`ig`);return e.split(r).map((e,t)=>n.some(t=>e.toLowerCase()===t.toLowerCase())?(0,F.jsx)(`mark`,{className:`bg-yellow-300/70 text-inherit px-0.5 rounded-[2px]`,children:e},t):(0,F.jsx)(`span`,{children:e},t))}var ho=({onSelectMarker:e,onSelectPosition:t})=>{let{markers:n}=It(),{t:r}=He(`common`),[i,a]=(0,N.useState)(``),o=(0,N.useMemo)(()=>{let e=new Ga({fields:[`localizedName`,`localizedDescription`],storeFields:[`x`,`y`,`localizedName`,`localizedDescription`],searchOptions:{prefix:!0,fuzzy:.2}}),t=n.filter(e=>e.subtype.startsWith(`creature`));return e.addAll(t),e},[n]),s=(0,N.useMemo)(()=>{let e=fo(i);return!e||!Number.isFinite(e.x)||!Number.isFinite(e.y)?null:{kind:`position`,x:e.x,y:e.y}},[i]),c=(0,N.useMemo)(()=>{let e=i.trim();if(!e)return[];let t=o.search(e);return s?[s,...t]:t},[i,o,s]),l=(0,N.useMemo)(()=>i.trim().split(/\s+/).filter(Boolean),[i]);return(0,F.jsxs)(`div`,{className:`w-full flex flex-col gap-2.5 px-6 mt-2.5`,children:[(0,F.jsx)(k,{size:`sm`,radius:`sm`,variant:`flat`,placeholder:r(`markerActions.search`,`Search markers…`),value:i,onValueChange:a,color:`default`,classNames:{inputWrapper:`h-9`,input:`text-[14px]`},startContent:i?(0,F.jsx)(`button`,{type:`button`,onClick:()=>a(``),className:`
                inline-flex
                items-center
                justify-center
                h-4 w-4
                leading-none
                text-default-700
                hover:text-foreground
              `,"aria-label":`Clear search`,children:(0,F.jsx)(D,{icon:ye,className:`text-default-700 text-sm hover:text-foreground`})}):(0,F.jsx)(D,{icon:x,className:`text-default-700 text-sm opacity-70`})}),i.trim()&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(`div`,{className:`text-[12px] text-default-700 text-center`,children:r(`markerActions.searchCount`,`{{count}} search results`,{count:c.length})}),c.slice(0,50).map(n=>{let i;i=n.kind===`position`?`position`:`marker`;let a=n;return(0,F.jsx)(`div`,{className:``,children:(0,F.jsx)(`button`,{type:`button`,className:`
                    w-full text-left
                    rounded-lg
                    bg-transparent
                    hover:bg-search-item
                    px-3 py-2
                    text-xs
                    flex flex-col gap-1
                  `,onClick:()=>{i===`position`?t?.(n.x,n.y):e?.(a.id)},children:i===`position`?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(`div`,{className:`font-semibold text-[16px]`,children:r(`markerActions.inputPosition`,`Jump to input position`)}),(0,F.jsxs)(`div`,{className:`text-[14px] text-default-700`,children:[r(`markerActions.position`,`Position`),`: (`,Math.round(n.x),`, `,Math.round(n.y),`)`]})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(`div`,{className:`font-semibold text-[16px]`,children:a.localizedName?mo(a.localizedName,l):r(`markerSearch.unnamed`,`Unnamed marker`)}),a.localizedDescription&&(0,F.jsxs)(`div`,{className:`text-[14px] text-default-700 line-clamp-2`,children:[r(`markerActions.description`,`Description`),`: `,mo(a.localizedDescription,l)]}),(0,F.jsxs)(`div`,{className:`text-[14px] text-default-700`,children:[r(`markerActions.position`,`Position`),`: (`,Math.round(a.x),`, `,Math.round(a.y),`)`]})]})})},a.id)})]})]})},go=({onSelectMarker:e,onSelectPosition:t})=>{let{t:n}=He(),{realTheme:r}=Ke(),{selectedMap:i}=Ot(),[a,o]=(0,N.useState)(!0),{setPickMode:s}=fn();return(0,F.jsxs)(Sa,{side:`left`,width:370,extraControls:(0,F.jsx)(Le,{content:n(`common:markerActions.createUserMarker`,`Create a user marker`),placement:`right`,delay:300,children:(0,F.jsx)(`button`,{type:`button`,onClick:()=>s(!0),className:`
              w-8 h-12 bg-sidebar-collapse text-default-700
              flex items-center justify-center rounded-r-md
            `,children:(0,F.jsx)(`img`,{src:Ve(r==`light`?`images/LocationAddLight.webp`:`images/LocationAddDark.webp`),alt:n(`common:markerActions.createUserMarker`),className:`w-5 h-5 object-contain`})})}),children:[(0,F.jsx)(`div`,{className:`flex flex-col h-full relative`,children:(0,F.jsxs)(`div`,{className:`flex-1 px-0 `+(a?`pb-[240px]`:`pb-4`),children:[(0,F.jsx)(Ca,{}),(0,F.jsx)(wa,{}),(0,F.jsx)(ho,{onSelectMarker:e,onSelectPosition:t}),(0,F.jsx)(y,{variant:`shadow`,selectionMode:`multiple`,defaultExpandedKeys:[`maps`,`types`],itemClasses:{base:`!bg-transparent !shadow-none !backdrop-filter-none !backdrop-blur-none`,trigger:`py-4 min-h-0 px-2`,title:`text-[16px] leading-[16px] font-bold`,content:`py-0`},className:`bg-transparent shadow-none`,children:i?(0,F.jsx)(b,{title:Da(n(`common:menu.markerTypes`,`Marker Types`)),classNames:{indicator:`text-default-700`},children:(0,F.jsx)(Ea,{})},`types`):null})]})}),!1]})};function _o(e,t){let n=String(e);if(typeof t!=`string`)throw TypeError(`Expected character`);let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function vo(e){if(typeof e!=`string`)throw TypeError(`Expected a string`);return e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`)}function yo(e,t,n){let r=Te((n||{}).ignore||[]),i=bo(t),a=-1;for(;++a<i.length;)O(e,`text`,o);function o(e,t){let n=-1,i;for(;++n<t.length;){let e=t[n],a=i?i.children:void 0;if(r(e,a?a.indexOf(e):void 0,i))return;i=e}if(i)return s(e,t)}function s(e,t){let n=t[t.length-1],r=i[a][0],o=i[a][1],s=0,c=n.children.indexOf(e),l=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){let n=d.index,i={index:d.index,input:d.input,stack:[...t,e]},a=o(...d,i);if(typeof a==`string`&&(a=a.length>0?{type:`text`,value:a}:void 0),a===!1?r.lastIndex=n+1:(s!==n&&u.push({type:`text`,value:e.value.slice(s,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),s=n+d[0].length,l=!0),!r.global)break;d=r.exec(e.value)}return l?(s<e.value.length&&u.push({type:`text`,value:e.value.slice(s)}),n.children.splice(c,1,...u)):u=[e],c+u.length}}function bo(e){let t=[];if(!Array.isArray(e))throw TypeError(`Expected find and replace tuple or list of tuples`);let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){let e=n[r];t.push([xo(e[0]),So(e[1])])}return t}function xo(e){return typeof e==`string`?new RegExp(vo(e),`g`):e}function So(e){return typeof e==`function`?e:function(){return e}}var Co=`phrasing`,wo=[`autolink`,`link`,`image`,`label`];function To(){return{transforms:[No],enter:{literalAutolink:Do,literalAutolinkEmail:Oo,literalAutolinkHttp:Oo,literalAutolinkWww:Oo},exit:{literalAutolink:Mo,literalAutolinkEmail:jo,literalAutolinkHttp:ko,literalAutolinkWww:Ao}}}function Eo(){return{unsafe:[{character:`@`,before:`[+\\-.\\w]`,after:`[\\-.\\w]`,inConstruct:Co,notInConstruct:wo},{character:`.`,before:`[Ww]`,after:`[\\-.\\w]`,inConstruct:Co,notInConstruct:wo},{character:`:`,before:`[ps]`,after:`\\/`,inConstruct:Co,notInConstruct:wo}]}}function Do(e){this.enter({type:`link`,title:null,url:``,children:[]},e)}function Oo(e){this.config.enter.autolinkProtocol.call(this,e)}function ko(e){this.config.exit.autolinkProtocol.call(this,e)}function Ao(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];t.type,t.url=`http://`+this.sliceSerialize(e)}function jo(e){this.config.exit.autolinkEmail.call(this,e)}function Mo(e){this.exit(e)}function No(e){yo(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Po],[RegExp(`(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)`,`gu`),Fo]],{ignore:[`link`,`linkReference`]})}function Po(e,t,n,r,i){let a=``;if(!Ro(i)||(/^w/i.test(t)&&(n=t+n,t=``,a=`http://`),!Io(n)))return!1;let o=Lo(n+r);if(!o[0])return!1;let s={type:`link`,title:null,url:a+t+o[0],children:[{type:`text`,value:t+o[0]}]};return o[1]?[s,{type:`text`,value:o[1]}]:s}function Fo(e,t,n,r){return!Ro(r,!0)||/[-\d_]$/.test(n)?!1:{type:`link`,title:null,url:`mailto:`+t+`@`+n,children:[{type:`text`,value:t+`@`+n}]}}function Io(e){let t=e.split(`.`);return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Lo(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(`)`),i=_o(e,`(`),a=_o(e,`)`);for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(`)`),a++;return[e,n]}function Ro(e,t){let n=e.input.charCodeAt(e.index-1);return(e.index===0||Ne(n)||se(n))&&(!t||n!==47)}Jo.peek=qo;function zo(){this.buffer()}function Bo(e){this.enter({type:`footnoteReference`,identifier:``,label:``},e)}function Vo(){this.buffer()}function Ho(e){this.enter({type:`footnoteDefinition`,identifier:``,label:``,children:[]},e)}function Uo(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Re(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Wo(e){this.exit(e)}function Go(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Re(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Ko(e){this.exit(e)}function qo(){return`[`}function Jo(e,t,n,r){let i=n.createTracker(r),a=i.move(`[^`),o=n.enter(`footnoteReference`),s=n.enter(`reference`);return a+=i.move(n.safe(n.associationId(e),{after:`]`,before:a})),s(),o(),a+=i.move(`]`),a}function Yo(){return{enter:{gfmFootnoteCallString:zo,gfmFootnoteCall:Bo,gfmFootnoteDefinitionLabelString:Vo,gfmFootnoteDefinition:Ho},exit:{gfmFootnoteCallString:Uo,gfmFootnoteCall:Wo,gfmFootnoteDefinitionLabelString:Go,gfmFootnoteDefinition:Ko}}}function J(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Jo},unsafe:[{character:`[`,inConstruct:[`label`,`phrasing`,`reference`]}]};function n(e,n,r,i){let a=r.createTracker(i),o=a.move(`[^`),s=r.enter(`footnoteDefinition`),c=r.enter(`label`);return o+=a.move(r.safe(r.associationId(e),{before:o,after:`]`})),c(),o+=a.move(`]:`),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?`
`:` `)+r.indentLines(r.containerFlow(e,a.current()),t?Zo:Xo))),s(),o}}function Xo(e,t,n){return t===0?e:Zo(e,t,n)}function Zo(e,t,n){return(n?``:`    `)+e}var Qo=[`autolink`,`destinationLiteral`,`destinationRaw`,`reference`,`titleQuote`,`titleApostrophe`];rs.peek=is;function $o(){return{canContainEols:[`delete`],enter:{strikethrough:ts},exit:{strikethrough:ns}}}function es(){return{unsafe:[{character:`~`,inConstruct:`phrasing`,notInConstruct:Qo}],handlers:{delete:rs}}}function ts(e){this.enter({type:`delete`,children:[]},e)}function ns(e){this.exit(e)}function rs(e,t,n,r){let i=n.createTracker(r),a=n.enter(`strikethrough`),o=i.move(`~~`);return o+=n.containerPhrasing(e,{...i.current(),before:o,after:`~`}),o+=i.move(`~~`),a(),o}function is(){return`~`}function as(e){return e.length}function os(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||as,a=[],o=[],s=[],c=[],l=0,u=-1;for(;++u<e.length;){let t=[],r=[],a=-1;for(e[u].length>l&&(l=e[u].length);++a<e[u].length;){let o=ss(e[u][a]);if(n.alignDelimiters!==!1){let e=i(o);r[a]=e,(c[a]===void 0||e>c[a])&&(c[a]=e)}t.push(o)}o[u]=t,s[u]=r}let d=-1;if(typeof r==`object`&&`length`in r)for(;++d<l;)a[d]=cs(r[d]);else{let e=cs(r);for(;++d<l;)a[d]=e}d=-1;let f=[],p=[];for(;++d<l;){let e=a[d],t=``,r=``;e===99?(t=`:`,r=`:`):e===108?t=`:`:e===114&&(r=`:`);let i=n.alignDelimiters===!1?1:Math.max(1,c[d]-t.length-r.length),o=t+`-`.repeat(i)+r;n.alignDelimiters!==!1&&(i=t.length+i+r.length,i>c[d]&&(c[d]=i),p[d]=i),f[d]=o}o.splice(1,0,f),s.splice(1,0,p),u=-1;let m=[];for(;++u<o.length;){let e=o[u],t=s[u];d=-1;let r=[];for(;++d<l;){let i=e[d]||``,o=``,s=``;if(n.alignDelimiters!==!1){let e=c[d]-(t[d]||0),n=a[d];n===114?o=` `.repeat(e):n===99?e%2?(o=` `.repeat(e/2+.5),s=` `.repeat(e/2-.5)):(o=` `.repeat(e/2),s=o):s=` `.repeat(e)}n.delimiterStart!==!1&&!d&&r.push(`|`),n.padding!==!1&&!(n.alignDelimiters===!1&&i===``)&&(n.delimiterStart!==!1||d)&&r.push(` `),n.alignDelimiters!==!1&&r.push(o),r.push(i),n.alignDelimiters!==!1&&r.push(s),n.padding!==!1&&r.push(` `),(n.delimiterEnd!==!1||d!==l-1)&&r.push(`|`)}m.push(n.delimiterEnd===!1?r.join(``).replace(/ +$/,``):r.join(``))}return m.join(`
`)}function ss(e){return e==null?``:String(e)}function cs(e){let t=typeof e==`string`?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ls(e,t,n,r){let i=n.enter(`blockquote`),a=n.createTracker(r);a.move(`> `),a.shift(2);let o=n.indentLines(n.containerFlow(e,a.current()),us);return i(),o}function us(e,t,n){return`>`+(n?``:` `)+e}function ds(e,t){return fs(e,t.inConstruct,!0)&&!fs(e,t.notInConstruct,!1)}function fs(e,t,n){if(typeof t==`string`&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ps(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&ds(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?``:` `;return`\\
`}function ms(e,t){let n=String(e),r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!=`string`)throw TypeError(`Expected substring`);for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function hs(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function gs(e){let t=e.options.fence||"`";if(t!=="`"&&t!==`~`)throw Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function _s(e,t,n,r){let i=gs(n),a=e.value||``,o=i==="`"?`GraveAccent`:`Tilde`;if(hs(e,n)){let e=n.enter(`codeIndented`),t=n.indentLines(a,vs);return e(),t}let s=n.createTracker(r),c=i.repeat(Math.max(ms(a,i)+1,3)),l=n.enter(`codeFenced`),u=s.move(c);if(e.lang){let t=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:` `,encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){let t=n.enter(`codeFencedMeta${o}`);u+=s.move(` `),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),t()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(c),l(),u}function vs(e,t,n){return(n?``:`    `)+e}function ys(e){let t=e.options.quote||`"`;if(t!==`"`&&t!==`'`)throw Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bs(e,t,n,r){let i=ys(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`definition`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`[`);return l+=c.move(n.safe(n.associationId(e),{before:l,after:`]`,...c.current()})),l+=c.move(`]: `),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),o(),l}function xs(e){let t=e.options.emphasis||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ss(e){return`&#x`+e.toString(16).toUpperCase()+`;`}function Cs(e,t,n){let r=xe(e),i=xe(t);return r===void 0?i===void 0?n===`_`?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ws.peek=Ts;function ws(e,t,n,r){let i=xs(n),a=n.enter(`emphasis`),o=n.createTracker(r),s=o.move(i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=Cs(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=Ss(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=Cs(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+Ss(d));let p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function Ts(e,t,n){return n.options.emphasis||`*`}function Es(e,t){let n=!1;return De(e,function(e){if(`value`in e&&/\r?\n|\r/.test(e.value)||e.type===`break`)return n=!0,!1}),!!((!e.depth||e.depth<3)&&E(e)&&(t.options.setext||n))}function Ds(e,t,n,r){let i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Es(e,n)){let t=n.enter(`headingSetext`),r=n.enter(`phrasing`),o=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return r(),t(),o+`
`+(i===1?`=`:`-`).repeat(o.length-(Math.max(o.lastIndexOf(`\r`),o.lastIndexOf(`
`))+1))}let o=`#`.repeat(i),s=n.enter(`headingAtx`),c=n.enter(`phrasing`);a.move(o+` `);let l=n.containerPhrasing(e,{before:`# `,after:`
`,...a.current()});return/^[\t ]/.test(l)&&(l=Ss(l.charCodeAt(0))+l.slice(1)),l=l?o+` `+l:o,n.options.closeAtx&&(l+=` `+o),c(),s(),l}Os.peek=ks;function Os(e){return e.value||``}function ks(){return`<`}As.peek=js;function As(e,t,n,r){let i=ys(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`image`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`![`);return l+=c.move(n.safe(e.alt,{before:l,after:`]`,...c.current()})),l+=c.move(`](`),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),l+=c.move(`)`),o(),l}function js(){return`!`}Ms.peek=Ns;function Ms(e,t,n,r){let i=e.referenceType,a=n.enter(`imageReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`![`),l=n.safe(e.alt,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function Ns(){return`!`}Ps.peek=Fs;function Ps(e,t,n){let r=e.value||``,i="`",a=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=` `+r+` `);++a<n.unsafe.length;){let e=n.unsafe[a],t=n.compilePattern(e),i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;r.charCodeAt(e)===10&&r.charCodeAt(e-1)===13&&e--,r=r.slice(0,e)+` `+r.slice(i.index+1)}}return i+r+i}function Fs(){return"`"}function Is(e,t){let n=E(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type===`text`&&(n===e.url||`mailto:`+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Ls.peek=Rs;function Ls(e,t,n,r){let i=ys(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.createTracker(r),s,c;if(Is(e,n)){let t=n.stack;n.stack=[],s=n.enter(`autolink`);let r=o.move(`<`);return r+=o.move(n.containerPhrasing(e,{before:r,after:`>`,...o.current()})),r+=o.move(`>`),s(),n.stack=t,r}s=n.enter(`link`),c=n.enter(`label`);let l=o.move(`[`);return l+=o.move(n.containerPhrasing(e,{before:l,after:`](`,...o.current()})),l+=o.move(`](`),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter(`destinationLiteral`),l+=o.move(`<`),l+=o.move(n.safe(e.url,{before:l,after:`>`,...o.current()})),l+=o.move(`>`)):(c=n.enter(`destinationRaw`),l+=o.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),l+=o.move(` `+i),l+=o.move(n.safe(e.title,{before:l,after:i,...o.current()})),l+=o.move(i),c()),l+=o.move(`)`),s(),l}function Rs(e,t,n){return Is(e,n)?`<`:`[`}zs.peek=Bs;function zs(e,t,n,r){let i=e.referenceType,a=n.enter(`linkReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`[`),l=n.containerPhrasing(e,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function Bs(){return`[`}function Vs(e){let t=e.options.bullet||`*`;if(t!==`*`&&t!==`+`&&t!==`-`)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Hs(e){let t=Vs(e),n=e.options.bulletOther;if(!n)return t===`*`?`-`:`*`;if(n!==`*`&&n!==`+`&&n!==`-`)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Us(e){let t=e.options.bulletOrdered||`.`;if(t!==`.`&&t!==`)`)throw Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Ws(e){let t=e.options.rule||`*`;if(t!==`*`&&t!==`-`&&t!==`_`)throw Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Gs(e,t,n,r){let i=n.enter(`list`),a=n.bulletCurrent,o=e.ordered?Us(n):Vs(n),s=e.ordered?o===`.`?`)`:`.`:Hs(n),c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){let t=e.children?e.children[0]:void 0;if((o===`*`||o===`-`)&&t&&(!t.children||!t.children[0])&&n.stack[n.stack.length-1]===`list`&&n.stack[n.stack.length-2]===`listItem`&&n.stack[n.stack.length-3]===`list`&&n.stack[n.stack.length-4]===`listItem`&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Ws(n)===o&&t){let t=-1;for(;++t<e.children.length;){let n=e.children[t];if(n&&n.type===`listItem`&&n.children&&n.children[0]&&n.children[0].type===`thematicBreak`){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;let l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),l}function Ks(e){let t=e.options.listItemIndent||`one`;if(t!==`tab`&&t!==`one`&&t!==`mixed`)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function qs(e,t,n,r){let i=Ks(n),a=n.bulletCurrent||Vs(n);t&&t.type===`list`&&t.ordered&&(a=(typeof t.start==`number`&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i===`tab`||i===`mixed`&&(t&&t.type===`list`&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);let s=n.createTracker(r);s.move(a+` `.repeat(o-a.length)),s.shift(o);let c=n.enter(`listItem`),l=n.indentLines(n.containerFlow(e,s.current()),u);return c(),l;function u(e,t,n){return t?(n?``:` `.repeat(o))+e:(n?a:a+` `.repeat(o-a.length))+e}}function Js(e,t,n,r){let i=n.enter(`paragraph`),a=n.enter(`phrasing`),o=n.containerPhrasing(e,r);return a(),i(),o}const Ys=Te([`break`,`delete`,`emphasis`,`footnote`,`footnoteReference`,`image`,`imageReference`,`inlineCode`,`inlineMath`,`link`,`linkReference`,`mdxJsxTextElement`,`mdxTextExpression`,`strong`,`text`,`textDirective`]);function Xs(e,t,n,r){return(e.children.some(function(e){return Ys(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Zs(e){let t=e.options.strong||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Qs.peek=$s;function Qs(e,t,n,r){let i=Zs(n),a=n.enter(`strong`),o=n.createTracker(r),s=o.move(i+i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=Cs(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=Ss(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=Cs(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+Ss(d));let p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function $s(e,t,n){return n.options.strong||`*`}function ec(e,t,n,r){return n.safe(e.value,r)}function tc(e){let t=e.options.ruleRepetition||3;if(t<3)throw Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function nc(e,t,n){let r=(Ws(n)+(n.options.ruleSpaces?` `:``)).repeat(tc(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rc={blockquote:ls,break:ps,code:_s,definition:bs,emphasis:ws,hardBreak:ps,heading:Ds,html:Os,image:As,imageReference:Ms,inlineCode:Ps,link:Ls,linkReference:zs,list:Gs,listItem:qs,paragraph:Js,root:Xs,strong:Qs,text:ec,thematicBreak:nc};function ic(){return{enter:{table:ac,tableData:lc,tableHeader:lc,tableRow:sc},exit:{codeText:uc,table:oc,tableData:cc,tableHeader:cc,tableRow:cc}}}function ac(e){let t=e._align;this.enter({type:`table`,align:t.map(function(e){return e===`none`?null:e}),children:[]},e),this.data.inTable=!0}function oc(e){this.exit(e),this.data.inTable=void 0}function sc(e){this.enter({type:`tableRow`,children:[]},e)}function cc(e){this.exit(e)}function lc(e){this.enter({type:`tableCell`,children:[]},e)}function uc(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,dc));let n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function dc(e,t){return t===`|`?t:e}function fc(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?` `:`|`;return{unsafe:[{character:`\r`,inConstruct:`tableCell`},{character:`
`,inConstruct:`tableCell`},{atBreak:!0,character:`|`,after:`[	 :-]`},{character:`|`,inConstruct:`tableCell`},{atBreak:!0,character:`:`,after:`-`},{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:s}};function o(e,t,n,r){return l(u(e,n,r),e.align)}function s(e,t,n,r){let i=l([d(e,n,r)]);return i.slice(0,i.indexOf(`
`))}function c(e,t,n,r){let i=n.enter(`tableCell`),o=n.enter(`phrasing`),s=n.containerPhrasing(e,{...r,before:a,after:a});return o(),i(),s}function l(e,t){return os(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function u(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`table`);for(;++i<r.length;)a[i]=d(r[i],t,n);return o(),a}function d(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`tableRow`);for(;++i<r.length;)a[i]=c(r[i],e,t,n);return o(),a}function f(e,t,n){let r=rc.inlineCode(e,t,n);return n.stack.includes(`tableCell`)&&(r=r.replace(/\|/g,`\\$&`)),r}}function pc(){return{exit:{taskListCheckValueChecked:hc,taskListCheckValueUnchecked:hc,paragraph:gc}}}function mc(){return{unsafe:[{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{listItem:_c}}}function hc(e){let t=this.stack[this.stack.length-2];t.type,t.checked=e.type===`taskListCheckValueChecked`}function gc(e){let t=this.stack[this.stack.length-2];if(t&&t.type===`listItem`&&typeof t.checked==`boolean`){let e=this.stack[this.stack.length-1];e.type;let n=e.children[0];if(n&&n.type===`text`){let r=t.children,i=-1,a;for(;++i<r.length;){let e=r[i];if(e.type===`paragraph`){a=e;break}}a===e&&(n.value=n.value.slice(1),n.value.length===0?e.children.shift():e.position&&n.position&&typeof n.position.start.offset==`number`&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function _c(e,t,n,r){let i=e.children[0],a=typeof e.checked==`boolean`&&i&&i.type===`paragraph`,o=`[`+(e.checked?`x`:` `)+`] `,s=n.createTracker(r);a&&s.move(o);let c=rc.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),c;function l(e){return e+o}}function vc(){return[To(),Yo(),$o(),ic(),pc()]}function yc(e){return{extensions:[Eo(),J(e),es(),fc(e),mc()]}}var bc={tokenize:Pc,partial:!0},xc={tokenize:Fc,partial:!0},Sc={tokenize:Ic,partial:!0},Cc={tokenize:Lc,partial:!0},wc={tokenize:Rc,partial:!0},Tc={name:`wwwAutolink`,tokenize:Mc,previous:zc},Ec={name:`protocolAutolink`,tokenize:Nc,previous:Bc},Dc={name:`emailAutolink`,tokenize:jc,previous:Vc},Oc={};function kc(){return{text:Oc}}for(var Ac=48;Ac<123;)Oc[Ac]=Dc,Ac++,Ac===58?Ac=65:Ac===91&&(Ac=97);Oc[43]=Dc,Oc[45]=Dc,Oc[46]=Dc,Oc[95]=Dc,Oc[72]=[Dc,Ec],Oc[104]=[Dc,Ec],Oc[87]=[Dc,Tc],Oc[119]=[Dc,Tc];function jc(e,t,n){let r=this,i,a;return o;function o(t){return!Hc(t)||!Vc.call(r,r.previous)||Uc(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkEmail`),s(t))}function s(t){return Hc(t)?(e.consume(t),s):t===64?(e.consume(t),c):n(t)}function c(t){return t===46?e.check(wc,u,l)(t):t===45||t===95||me(t)?(a=!0,e.consume(t),c):u(t)}function l(t){return e.consume(t),i=!0,c}function u(o){return a&&i&&de(r.previous)?(e.exit(`literalAutolinkEmail`),e.exit(`literalAutolink`),t(o)):n(o)}}function Mc(e,t,n){let r=this;return i;function i(t){return t!==87&&t!==119||!zc.call(r,r.previous)||Uc(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkWww`),e.check(bc,e.attempt(xc,e.attempt(Sc,a),n),n)(t))}function a(n){return e.exit(`literalAutolinkWww`),e.exit(`literalAutolink`),t(n)}}function Nc(e,t,n){let r=this,i=``,a=!1;return o;function o(t){return(t===72||t===104)&&Bc.call(r,r.previous)&&!Uc(r.events)?(e.enter(`literalAutolink`),e.enter(`literalAutolinkHttp`),i+=String.fromCodePoint(t),e.consume(t),s):n(t)}function s(t){if(de(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(t===58){let n=i.toLowerCase();if(n===`http`||n===`https`)return e.consume(t),c}return n(t)}function c(t){return t===47?(e.consume(t),a?l:(a=!0,c)):n(t)}function l(t){return t===null||Ee(t)||_e(t)||Ne(t)||se(t)?n(t):e.attempt(xc,e.attempt(Sc,u),n)(t)}function u(n){return e.exit(`literalAutolinkHttp`),e.exit(`literalAutolink`),t(n)}}function Pc(e,t,n){let r=0;return i;function i(t){return(t===87||t===119)&&r<3?(r++,e.consume(t),i):t===46&&r===3?(e.consume(t),a):n(t)}function a(e){return e===null?n(e):t(e)}}function Fc(e,t,n){let r,i,a;return o;function o(t){return t===46||t===95?e.check(Cc,c,s)(t):t===null||_e(t)||Ne(t)||t!==45&&se(t)?c(t):(a=!0,e.consume(t),o)}function s(t){return t===95?r=!0:(i=r,r=void 0),e.consume(t),o}function c(e){return i||r||!a?n(e):t(e)}}function Ic(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Cc,t,a)(o):o===null||_e(o)||Ne(o)?t(o):(e.consume(o),i)}function a(t){return t===41&&r++,e.consume(t),i}}function Lc(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||_e(o)||Ne(o)?t(o):n(o)}function i(e){return e===null||e===40||e===91||_e(e)||Ne(e)?t(e):r(e)}function a(e){return de(e)?o(e):n(e)}function o(t){return t===59?(e.consume(t),r):de(t)?(e.consume(t),o):n(t)}}function Rc(e,t,n){return r;function r(t){return e.consume(t),i}function i(e){return me(e)?n(e):t(e)}}function zc(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_e(e)}function Bc(e){return!de(e)}function Vc(e){return!(e===47||Hc(e))}function Hc(e){return e===43||e===45||e===46||e===95||me(e)}function Uc(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if((r.type===`labelLink`||r.type===`labelImage`)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}var Wc={tokenize:Qc,partial:!0};function Gc(){return{document:{91:{name:`gfmFootnoteDefinition`,tokenize:Yc,continuation:{tokenize:Xc},exit:Zc}},text:{91:{name:`gfmFootnoteCall`,tokenize:Jc},93:{name:`gfmPotentialFootnoteCall`,add:`after`,tokenize:Kc,resolveTo:qc}}}}function Kc(e,t,n){let r=this,i=r.events.length,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),o;for(;i--;){let e=r.events[i][1];if(e.type===`labelImage`){o=e;break}if(e.type===`gfmFootnoteCall`||e.type===`labelLink`||e.type===`label`||e.type===`image`||e.type===`link`)break}return s;function s(i){if(!o||!o._balanced)return n(i);let s=Re(r.sliceSerialize({start:o.end,end:r.now()}));return s.codePointAt(0)!==94||!a.includes(s.slice(1))?n(i):(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(i),e.exit(`gfmFootnoteCallLabelMarker`),t(i))}}function qc(e,t){let n=e.length;for(;n--;)if(e[n][1].type===`labelImage`&&e[n][0]===`enter`){e[n][1];break}e[n+1][1].type=`data`,e[n+3][1].type=`gfmFootnoteCallLabelMarker`;let r={type:`gfmFootnoteCall`,start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:`gfmFootnoteCallMarker`,start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;let a={type:`gfmFootnoteCallString`,start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:`chunkString`,contentType:`string`,start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],[`enter`,r,t],e[n+3],e[n+4],[`enter`,i,t],[`exit`,i,t],[`enter`,a,t],[`enter`,o,t],[`exit`,o,t],[`exit`,a,t],e[e.length-2],e[e.length-1],[`exit`,r,t]];return e.splice(n,e.length-n+1,...s),e}function Jc(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a=0,o;return s;function s(t){return e.enter(`gfmFootnoteCall`),e.enter(`gfmFootnoteCallLabelMarker`),e.consume(t),e.exit(`gfmFootnoteCallLabelMarker`),c}function c(t){return t===94?(e.enter(`gfmFootnoteCallMarker`),e.consume(t),e.exit(`gfmFootnoteCallMarker`),e.enter(`gfmFootnoteCallString`),e.enter(`chunkString`).contentType=`string`,l):n(t)}function l(s){if(a>999||s===93&&!o||s===null||s===91||_e(s))return n(s);if(s===93){e.exit(`chunkString`);let a=e.exit(`gfmFootnoteCallString`);return i.includes(Re(r.sliceSerialize(a)))?(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(s),e.exit(`gfmFootnoteCallLabelMarker`),e.exit(`gfmFootnoteCall`),t):n(s)}return _e(s)||(o=!0),a++,e.consume(s),s===92?u:l}function u(t){return t===91||t===92||t===93?(e.consume(t),a++,l):l(t)}}function Yc(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a,o=0,s;return c;function c(t){return e.enter(`gfmFootnoteDefinition`)._container=!0,e.enter(`gfmFootnoteDefinitionLabel`),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),l}function l(t){return t===94?(e.enter(`gfmFootnoteDefinitionMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionMarker`),e.enter(`gfmFootnoteDefinitionLabelString`),e.enter(`chunkString`).contentType=`string`,u):n(t)}function u(t){if(o>999||t===93&&!s||t===null||t===91||_e(t))return n(t);if(t===93){e.exit(`chunkString`);let n=e.exit(`gfmFootnoteDefinitionLabelString`);return a=Re(r.sliceSerialize(n)),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),e.exit(`gfmFootnoteDefinitionLabel`),f}return _e(t)||(s=!0),o++,e.consume(t),t===92?d:u}function d(t){return t===91||t===92||t===93?(e.consume(t),o++,u):u(t)}function f(t){return t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),i.includes(a)||i.push(a),je(e,p,`gfmFootnoteDefinitionWhitespace`)):n(t)}function p(e){return t(e)}}function Xc(e,t,n){return e.check(Oe,t,e.attempt(Wc,t,n))}function Zc(e){e.exit(`gfmFootnoteDefinition`)}function Qc(e,t,n){let r=this;return je(e,i,`gfmFootnoteDefinitionIndent`,5);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`gfmFootnoteDefinitionIndent`&&i[2].sliceSerialize(i[1],!0).length===4?t(e):n(e)}}function $c(e){let t=(e||{}).singleTilde,n={name:`strikethrough`,tokenize:i,resolveAll:r};return t??=!0,{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(e,t){let n=-1;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`strikethroughSequenceTemporary`&&e[n][1]._close){let r=n;for(;r--;)if(e[r][0]===`exit`&&e[r][1].type===`strikethroughSequenceTemporary`&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type=`strikethroughSequence`,e[r][1].type=`strikethroughSequence`;let i={type:`strikethrough`,start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:`strikethroughText`,start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o=[[`enter`,i,t],[`enter`,e[r][1],t],[`exit`,e[r][1],t],[`enter`,a,t]],s=t.parser.constructs.insideSpan.null;s&&Ie(o,o.length,0,ue(s,e.slice(r+1,n),t)),Ie(o,o.length,0,[[`exit`,a,t],[`enter`,e[n][1],t],[`exit`,e[n][1],t],[`exit`,i,t]]),Ie(e,r-1,n-r+3,o),n=r+o.length-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`strikethroughSequenceTemporary`&&(e[n][1].type=`data`);return e}function i(e,n,r){let i=this.previous,a=this.events,o=0;return s;function s(t){return i===126&&a[a.length-1][1].type!==`characterEscape`?r(t):(e.enter(`strikethroughSequenceTemporary`),c(t))}function c(a){let s=xe(i);if(a===126)return o>1?r(a):(e.consume(a),o++,c);if(o<2&&!t)return r(a);let l=e.exit(`strikethroughSequenceTemporary`),u=xe(a);return l._open=!u||u===2&&!!s,l._close=!s||s===2&&!!u,n(a)}}}var el=class{constructor(){this.map=[]}add(e,t,n){tl(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),this.map.length===0)return;let t=this.map.length,n=[];for(;t>0;)--t,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}};function tl(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function nl(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if(i[0]===`enter`)i[1].type===`tableContent`&&r.push(e[t+1][1].type===`tableDelimiterMarker`?`left`:`none`);else if(i[1].type===`tableContent`){if(e[t-1][1].type===`tableDelimiterMarker`){let e=r.length-1;r[e]=r[e]===`left`?`center`:`right`}}else if(i[1].type===`tableDelimiterRow`)break}else i[0]===`enter`&&i[1].type===`tableDelimiterRow`&&(n=!0);t+=1}return r}function rl(){return{flow:{null:{name:`table`,tokenize:il,resolveAll:al}}}}function il(e,t,n){let r=this,i=0,a=0,o;return s;function s(e){let t=r.events.length-1;for(;t>-1;){let e=r.events[t][1].type;if(e===`lineEnding`||e===`linePrefix`)t--;else break}let i=t>-1?r.events[t][1].type:null,a=i===`tableHead`||i===`tableRow`?S:c;return a===S&&r.parser.lazy[r.now().line]?n(e):a(e)}function c(t){return e.enter(`tableHead`),e.enter(`tableRow`),l(t)}function l(e){return e===124?u(e):(o=!0,a+=1,u(e))}function u(t){return t===null?n(t):Ce(t)?a>1?(a=0,r.interrupt=!0,e.exit(`tableRow`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),p):n(t):ge(t)?je(e,u,`whitespace`)(t):(a+=1,o&&(o=!1,i+=1),t===124?(e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),o=!0,u):(e.enter(`data`),d(t)))}function d(t){return t===null||t===124||_e(t)?(e.exit(`data`),u(t)):(e.consume(t),t===92?f:d)}function f(t){return t===92||t===124?(e.consume(t),d):d(t)}function p(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter(`tableDelimiterRow`),o=!1,ge(t)?je(e,m,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):m(t))}function m(t){return t===45||t===58?g(t):t===124?(o=!0,e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),h):x(t)}function h(t){return ge(t)?je(e,g,`whitespace`)(t):g(t)}function g(t){return t===58?(a+=1,o=!0,e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),_):t===45?(a+=1,_(t)):t===null||Ce(t)?b(t):x(t)}function _(t){return t===45?(e.enter(`tableDelimiterFiller`),v(t)):x(t)}function v(t){return t===45?(e.consume(t),v):t===58?(o=!0,e.exit(`tableDelimiterFiller`),e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),y):(e.exit(`tableDelimiterFiller`),y(t))}function y(t){return ge(t)?je(e,b,`whitespace`)(t):b(t)}function b(n){return n===124?m(n):n===null||Ce(n)?!o||i!==a?x(n):(e.exit(`tableDelimiterRow`),e.exit(`tableHead`),t(n)):x(n)}function x(e){return n(e)}function S(t){return e.enter(`tableRow`),C(t)}function C(n){return n===124?(e.enter(`tableCellDivider`),e.consume(n),e.exit(`tableCellDivider`),C):n===null||Ce(n)?(e.exit(`tableRow`),t(n)):ge(n)?je(e,C,`whitespace`)(n):(e.enter(`data`),w(n))}function w(t){return t===null||t===124||_e(t)?(e.exit(`data`),C(t)):(e.consume(t),t===92?ee:w)}function ee(t){return t===92||t===124?(e.consume(t),w):w(t)}}function al(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,l,u,d,f=new el;for(;++n<e.length;){let p=e[n],m=p[1];p[0]===`enter`?m.type===`tableHead`?(s=!1,c!==0&&(sl(f,t,c,l,u),u=void 0,c=0),l={type:`table`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,l,t]])):m.type===`tableRow`||m.type===`tableDelimiterRow`?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:`tableBody`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,u,t]])),i=m.type===`tableDelimiterRow`?2:u?3:1):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=ol(f,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type===`tableCellDivider`&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=ol(f,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type===`tableHead`?(s=!0,c=n):m.type===`tableRow`||m.type===`tableDelimiterRow`?(c=n,a[1]===0?o[1]!==0&&(d=ol(f,t,o,i,n,d)):(o[0]=o[1],d=ol(f,t,a,i,n,d)),i=0):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)&&(o[3]=n)}for(c!==0&&sl(f,t,c,l,u),f.consume(t.events),n=-1;++n<t.events.length;){let e=t.events[n];e[0]===`enter`&&e[1].type===`table`&&(e[1]._align=nl(t.events,n))}return e}function ol(e,t,n,r,i,a){let o=r===1?`tableHeader`:r===2?`tableDelimiter`:`tableData`;n[0]!==0&&(a.end=Object.assign({},cl(t.events,n[0])),e.add(n[0],0,[[`exit`,a,t]]));let s=cl(t.events,n[1]);if(a={type:o,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[[`enter`,a,t]]),n[2]!==0){let i=cl(t.events,n[2]),a=cl(t.events,n[3]),o={type:`tableContent`,start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[[`enter`,o,t]]),r!==2){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type=`chunkText`,r[1].contentType=`text`,n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[[`exit`,o,t]])}return i!==void 0&&(a.end=Object.assign({},cl(t.events,i)),e.add(i,0,[[`exit`,a,t]]),a=void 0),a}function sl(e,t,n,r,i){let a=[],o=cl(t.events,n);i&&(i.end=Object.assign({},o),a.push([`exit`,i,t])),r.end=Object.assign({},o),a.push([`exit`,r,t]),e.add(n+1,0,a)}function cl(e,t){let n=e[t],r=n[0]===`enter`?`start`:`end`;return n[1][r]}var ll={name:`tasklistCheck`,tokenize:dl};function ul(){return{text:{91:ll}}}function dl(e,t,n){let r=this;return i;function i(t){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(t):(e.enter(`taskListCheck`),e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),a)}function a(t){return _e(t)?(e.enter(`taskListCheckValueUnchecked`),e.consume(t),e.exit(`taskListCheckValueUnchecked`),o):t===88||t===120?(e.enter(`taskListCheckValueChecked`),e.consume(t),e.exit(`taskListCheckValueChecked`),o):n(t)}function o(t){return t===93?(e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),e.exit(`taskListCheck`),s):n(t)}function s(r){return Ce(r)?t(r):ge(r)?e.check({tokenize:fl},t,n)(r):n(r)}}function fl(e,t,n){return je(e,r,`whitespace`);function r(e){return e===null?n(e):t(e)}}function pl(e){return le([kc(),Gc(),$c(e),rl(),ul()])}var ml={};function hl(e){let t=this,n=e||ml,r=t.data(),i=r.micromarkExtensions||=[],a=r.fromMarkdownExtensions||=[],o=r.toMarkdownExtensions||=[];i.push(pl(n)),a.push(vc()),o.push(yc(n))}var gl=()=>{let{t:e}=He(`common`),[t,n]=(0,N.useState)(!1),r=Ve(`images/alipay.webp`),{getConfigValue:i,setConfigValue:a}=Ye();return(0,F.jsxs)(Sa,{side:`right`,width:344,collapsed:i(`rightSidebar.collapsed`),onToggleCollapsed:e=>{a(`rightSidebar.collapsed`,e)},children:[t&&(0,F.jsx)(`div`,{className:`fixed inset-0 z-[31000] flex items-center justify-center bg-black/60`,onClick:()=>n(!1),children:(0,F.jsx)(`img`,{src:r,alt:e(`introModal.helpImageAlt`,`Intro image`),className:`max-w-[90vw] max-h-[90vh] rounded-lg shadow-xl`,onClick:e=>e.stopPropagation()})}),(0,F.jsxs)(y,{variant:`shadow`,selectionMode:`multiple`,defaultExpandedKeys:[`members`,`contact`,`donation`],itemClasses:{base:`!bg-transparent !shadow-none !backdrop-filter-none !backdrop-blur-none`,trigger:`py-4 min-h-0 px-2`,title:`text-[16px] leading-[16px] font-bold`,content:`py-0`},className:`bg-transparent shadow-none`,showDivider:!1,children:[(0,F.jsx)(b,{title:Da(e(`rightSidebar.members.title`)),children:(0,F.jsx)(`div`,{className:`text-sm prose prose-sm dark:prose-invert abyss:prose-invert max-w-none`,children:(0,F.jsx)(we,{remarkPlugins:[hl],children:e(`rightSidebar.members.content`)})})},`members`),(0,F.jsx)(b,{title:Da(e(`rightSidebar.contact.title`)),children:(0,F.jsx)(`div`,{className:`text-sm prose prose-sm dark:prose-invert abyss:prose-invert max-w-none`,children:(0,F.jsx)(we,{remarkPlugins:[hl],children:e(`rightSidebar.contact.content`)})})},`contact`),(0,F.jsx)(b,{title:Da(e(`rightSidebar.donation.title`)),children:(0,F.jsxs)(`div`,{className:`text-sm prose prose-sm dark:prose-invert abyss:prose-invert max-w-none`,children:[(0,F.jsx)(we,{remarkPlugins:[hl],children:e(`rightSidebar.donation.content`)}),(0,F.jsx)(j,{className:`-mt-4`,isIconOnly:!0,variant:`light`,onPress:()=>n(!0),children:(0,F.jsx)(D,{icon:ke,className:`text-xl`})})]})},`donation`)]}),!1]})},_l=({color:e=`warning`,title:t,children:n,onClose:r,autoCloseAfterMs:i})=>((0,N.useEffect)(()=>{if(!i)return;let e=setTimeout(r,i);return()=>clearTimeout(e)},[i,r]),(0,F.jsx)(g,{color:e,variant:`solid`,hideIcon:!0,startContent:(0,F.jsx)(D,{icon:oe,className:`text-[20px]`}),className:`py-1 px-3 text-xs rounded-md shadow-lg bg-warning`,children:(0,F.jsxs)(`div`,{className:`flex w-full items-center justify-between gap-3`,children:[(0,F.jsxs)(`div`,{className:`flex flex-col gap-1 min-w-0`,children:[t&&(0,F.jsx)(`div`,{className:`font-semibold text-sm`,children:t}),(0,F.jsx)(`div`,{className:`text-xs`,children:n})]}),(0,F.jsx)(j,{isIconOnly:!0,size:`sm`,variant:`light`,onPress:r,className:`!min-w-6 !h- 6 flex-shrink-0`,children:(0,F.jsx)(D,{icon:C,className:`text-sm`})})]})}));function vl(){let{selectedMap:e}=Ot(),{setThemeHint:t}=Ke();return(0,N.useEffect)(()=>{t(e?.type===`light`||e?.type===`dark`||e?.type===`abyss`?e.type:null)},[e?.type,t]),null}var yl=()=>{let{t:e}=He(),{loading:t,selectedMap:n}=Ot(),r=(0,N.useRef)(null),{markersById:i}=It(),[a,o]=(0,N.useState)(!0),[s,c]=(0,N.useState)(null),[l,u]=(0,N.useState)(null),d=(0,N.useCallback)(e=>{if(!e){c(null);return}i[e]&&(c(e),u(null))},[i]),f=(0,N.useCallback)((e,t)=>{u({x:e,y:t}),c(null)},[]);return t&&!n?(0,F.jsx)(`div`,{className:`h-screen w-screen flex items-center justify-center`,children:(0,F.jsx)(ae,{label:`Loading maps...`})}):(0,F.jsxs)(F.Fragment,{children:[a&&(0,F.jsx)(`div`,{className:`fixed top-[72px] left-1/2 -translate-x-1/2 z-[9999] h-[52px]`,children:(0,F.jsx)(_l,{color:`warning`,onClose:()=>o(!1),children:(0,F.jsx)(`div`,{className:`text-xs prose prose-xs max-w-none`,children:(0,F.jsx)(we,{remarkPlugins:[hl],children:e(`introModal.alert`)})})})}),!1,(0,F.jsxs)(`div`,{className:`flex flex-1 overflow-hidden`,children:[(0,F.jsx)(go,{onSelectMarker:d,onSelectPosition:f}),(0,F.jsx)(xa,{mapRef:r,onSelectMarker:d,selectedMarkerId:s,selectedPosition:l}),(0,F.jsx)(gl,{})]})]})},bl=()=>(0,F.jsxs)(Dt,{children:[(0,F.jsx)(vl,{}),(0,F.jsx)(Ft,{children:(0,F.jsx)(dn,{children:(0,F.jsx)(Ht,{children:(0,F.jsx)(yl,{})})})})]});export{bl as component};